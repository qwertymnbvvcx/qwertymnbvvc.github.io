(window.wsp=window.wsp||[]).push([["platform"],{"+F8o":function(e,t,r){e.exports={btn:"a2V7rj",scheme_transparent:"b2V7rj",scheme_text:"c2V7rj",size_l:"d2V7rj"}},"+n3f":function(e,t,r){"use strict";var n=r("ITDq"),o=r("Hd8N");e.exports=n(3,(function(e,t,r){var n=o(e,r);return null!=n?n:t}))},"/0Hb":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("fT98"),o=r("ivNy"),i=r("dsZU");class s extends n.Metric{constructor(e){super(e),this.type="gauge",this.inc=this.incOrDec(((e,t)=>e+t)),this.dec=this.incOrDec(((e,t)=>e-t))}incOrDec(e){return(...t)=>{let r,n;0===t.length?(r=1,n={}):i.isNumber(t[0])?([r]=t,n={}):[n,r]=t;const o=this.getValueObject(n),s=o?o.value:0;this.setValue(n,e(s,r||1))}}set(...e){let t,r;i.isNumber(e[0])?([t]=e,r={}):[r,t=1]=e,this.setValue(r,t)}getValueObject(e){this.validateLabels(e);return(this.valuesMap[this.hashObject(e)]||[])[0]}setValue(e,t){this.validateLabels(e),this.valuesMap[this.hashObject(e)]=[{value:t,labels:e}]}labels(...e){const t=this.getLabels(this.labelNames,e);return{inc:this.inc.bind(this,t),dec:this.dec.bind(this,t),set:this.set.bind(this,t),setToCurrentTime:this.setToCurrentTime.bind(this,t),startTimer:this.startTimer.bind(this,t)}}startTimer(e){return o.startTimer.call(this,e)}setToCurrentTime(e){const t=Date.now()/1e3;void 0===e?this.set(t):this.set(e,t)}}t.Gauge=s},"/E2y":function(e,t,r){"use strict";r.r(t),r.d(t,"assoc",(function(){return d})),r.d(t,"deepMerge",(function(){return _})),r.d(t,"dissoc",(function(){return g})),r.d(t,"get",(function(){return c})),r.d(t,"merge",(function(){return y})),r.d(t,"update",(function(){return b}));var n=Array.prototype.slice;function o(e){return"object"==typeof e}function i(e){if(Array.isArray(e))return e.slice();var t={};for(var r in e)t[r]=e[r];return t}function s(e,t,r){return o(e)&&null!==e&&t in e?e[t]:r}function a(e,t,r){var n=t[0],o=t.slice(1);return s(e,n)&&o.length?a(e[n],o,r):s(e,n,r)}function c(e,t,r){return Array.isArray(t)?a(e,t,r):s(e,t,r)}function u(e,t,r){if(e[t]===r)return e;var n=i(e);return n[t]=r,n}function l(e,t,r){if(a(e,t)===r)return e;var n=t[0],o=t.slice(1),s=i(e);return o.length?s[n]=l(n in s?s[n]:{},o,r):s[n]=r,s}function d(e){for(var t,r,n=arguments,o=arguments.length,i=e,s=1;s<o;s+=2)t=n[s],r=n[s+1],i=Array.isArray(t)?l(i,t,r):u(i,t,r);return i}function f(e,t){if(!(t in e))return e;var r=i(e);return delete r[t],r}function p(e,t){var r=t[0],n=t.slice(1);return n.length?r in e&&p(e[r],n):r in e}function h(e,t){if(!p(e,t))return e;var r=t[0],n=t.slice(1),o=i(e);return 0!==n.length?(o[r]=h(e[r],n),0===Object.keys(o[r]).length&&delete o[r]):delete o[r],o}function g(e){for(var t,r=arguments,n=arguments.length,o=0,i=e;++o<n;)t=r[o],i=Array.isArray(t)?h(i,t):f(i,t);return i}function m(e,t,r){var o=s(e,t);return u(e,t,r.apply(o,[o].concat(n.call(arguments,3))))}function v(e,t,r){var o=a(e,t);return l(e,t,r.apply(o,[o].concat(n.call(arguments,3))))}function b(e,t){return Array.isArray(t)?v.apply(this,arguments):m.apply(this,arguments)}function y(){for(var e,t=arguments,r=arguments.length,n=0,o=arguments[0];++n<r;)for(var i in e=t[n])o=u(o,i,e[i]);return o}function O(e,t){for(var r,n,s=Object.keys(t),a=s.length,c=-1,l=e;++c<a;)l=o(r=t[n=s[c]])&&null!==r?u(l,n,n in l?O(l[n],r):i(r)):u(l,n,r);return l}function _(){for(var e=arguments,t=arguments.length,r=0,n=arguments[0];++r<t;)n=O(n,e[r]);return n}},"/UAW":function(e,t,r){e.exports={block:"a3NN0z",hasHeightAnimation:"b3NN0z",expanded:"c3NN0z",content:"d3NN0z",hasOpacityAnimation:"e3NN0z"}},"/g+q":function(e,t,r){"use strict";e.exports=function(e){return!e}},0:function(e,t,r){e.exports=r("Xz12")},"0DQA":function(e,t,r){"use strict";var n=r("ITDq");e.exports=function(e){return n(e.length,e)}},"0GPT":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.split("-").map((function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})).join("")}},"0Sp3":function(e,t,r){"use strict";var n;t.__esModule=!0,t.default=void 0;var o=function(){return n||(n=function(){if("undefined"!=typeof navigator){var e=navigator.userAgent.toLowerCase();return e.match(/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/)?"tablet":e.match(/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/)?"mobile":"desktop"}}()),n};t.default=o},"0e+P":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===t&&(t=[]);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}))},"1+1o":function(e,t,r){e.exports={block:"a2WVX3",info:"b2WVX3",warn:"c2WVX3",error:"d2WVX3",title:"e2WVX3",subtitle:"f2WVX3",children:"g2WVX3"}},"1IN0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTracking=void 0,t.getTracking=function(){return new Promise((function(e){var t=window.tracking;t&&t.fullfill?e(t):window.addEventListener("tracking-created",(function(t){e(t.detail||window.tracking)}))}))}},"1JnH":function(e,t,r){"use strict";var n=r("ITDq"),o=r("9vPl"),i=r("BFYb"),s=r("P8IC");e.exports=n(2,(function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),o(e))return e.concat(t);if(i(e)){for(var r=s(0,e.length,e),n=0;n<t.length;n++)r.push(t[n]);return r}return e+t}))},"1d8C":function(e,t,r){"use strict";e.exports=function(){return!1}},"1x9k":function(e,t,r){"use strict";e.exports=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"2Ii2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_TYPES=t.HttpMethods=t.PROTOCOL_HTTP=void 0,t.PROTOCOL_HTTP="PROTOCOL_HTTP",t.HttpMethods={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",HEAD:"HEAD",PATCH:"PATCH"},t.REQUEST_TYPES={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded","multipart/form-data":""}},"2MLK":function(e,t,r){"use strict";function n(e,t){if("function"==typeof window.requestIdleCallback)return window.requestIdleCallback(e,t);var r=Date.now();return window.setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-r))}})}),1)}Object.defineProperty(t,"__esModule",{value:!0}),t.requestIdleCallbackWithDuration=t.safeCancelIdleCallback=t.safeRequestIdleCallback=void 0,t.safeRequestIdleCallback=n,t.safeCancelIdleCallback=function(e){return window.cancelIdleCallback?window.cancelIdleCallback(e):clearTimeout(e)};t.requestIdleCallbackWithDuration=function(e,t){var r=function(e){return Math.min(e||10,50)}(null==t?void 0:t.duration);!function o(){n((function(t){if(t.timeRemaining()<r&&!t.didTimeout)return o();e(t)}),t)}()}},"2T11":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){var r,n;return function(){for(var o=this,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];var c=Date.now(),u=r+e-c;r&&u>0?(clearTimeout(n),n=setTimeout((function(){r=c,t.apply(o,s)}),u)):(r=c,t.apply(this,s))}}))},"2UNw":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return function(){return e.apply(void 0,arguments)||t.apply(void 0,arguments)}}))},"2qlJ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMmid=t.getUrl=void 0;var n=r("sV9m").__importDefault(r("d2Ko")),o={clientJs:".client.js",css:".css",jsMap:".client.js.map"};t.getUrl=function(e,t,r){var i=e.type,s=e.render;if(void 0===s)throw new Error("render field is not defined for "+i+"@"+e.version);if(t in s&&"string"==typeof s[t])return s[t];if("npmVersion"in s){var a=n.default(i);return r+"/"+a+"/"+s.npmVersion+"/"+a+o[t]}throw new Error("failed to get resource location for "+e.id)},t.getMmid=function(e){var t,r,n=e.type,o=e.render;if(void 0===o)throw new Error("failed to get mmid for subtree "+e.id);return null!==(r=null!==(t=o.mmid)&&void 0!==t?t:o.clientJs)&&void 0!==r?r:n+"@"+o.npmVersion}},"35U/":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a}));const n=/[<>\/\u2028\u2029]/g,o={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"},i=e=>o[e],s=e=>JSON.stringify(e).replace(n,i),a=(e,t,r)=>{try{return JSON.stringify(e,t,r)}catch(n){return((e,t,r)=>{const n=new Set,o=t||(e=>e);return JSON.stringify(e,((e,t)=>t&&"object"==typeof t?n.has(t)?"[~Circular~]":(n.add(t),o(t)):o(t)),r)})(e,t,r)}}},"37w6":function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("sV9m"),o=r("HqrZ"),i=r("UDiI"),s=r("Ul1X"),a=r("Q40W"),c=r("UbHL"),u=r("bXyb"),l=r("zsJm"),d=r("P647"),f=r.n(d),p=r("AtJk");const h="SsoTimeout";function g(e){return new Promise(((t,r)=>setTimeout((()=>{return r((e="SSO timeout",t=h,Object.assign(new Error(e),{type:t})));var e,t}),e)))}class m{constructor({sessionManager:e,envManager:t,cookieManager:r,store:n,logger:o}){this.sessionManager=e,this.store=n,this.logger=o,this.envManager=t,this.cookieManager=r}async onAuthComplete(e){return function({sessionId:e,accessLevel:t,hasSsoToken:r}={}){return!(!e||!t||t===c.a.ANONYMOUS&&!r)}(e)?this.sessionManager.updateSessionStatus(e.sessionId):Promise.reject()}shouldPass(){const{roles:e,featureToggle:t={}}=this.store.getState();return Object(c.i)(e)||!function(e,t){return e["header:sso:redirect"]&&(e["auth:sso"]||null!=t.get("enabledSharedAuth"))}(t,this.cookieManager)}async authenticate({success:e,pass:t}){return this.shouldPass()?t():this.authenticateViaHiddenFrame().then(this.onAuthComplete.bind(this)).then(e).catch(t)}createHiddenAuthFrame(){const e=function(e,t={}){var{origin:r="web,ib5,platform"}=t,o=Object(n.__rest)(t,["origin"]);const i=e.get("SSO_AUTH_TINKOFF_API")||e.get("TINKOFF_API");return Object(u.a)(i+"session/authorize",Object.assign({origin:r},o))}(this.envManager,{prompt:"none"}),t=document.createElement("iframe");return t.style.width="0px",t.style.height="0px",t.style.position="absolute",t.style.left="-4000px",t.src=e.toString(),t}createAuthMessageHandler(){let e;return{promise:new Promise((t=>{const r=e=>{(function({data:e}){return e&&"authComplete"===e.messageCode})(e)&&t(e.data)};e=()=>window.removeEventListener("message",r),window.addEventListener("message",r)})),unsubscribe:e}}perfStart(e="sso-perf"){const t=Date.now();return r=>{const n=Date.now()-t;this.logger.info({type:r,event:e,message:""+n})}}async authenticateViaHiddenFrame(){const e=this.perfStart(),t=this.createHiddenAuthFrame(),r=this.createAuthMessageHandler();return document.body.appendChild(t),Promise.race([r.promise,g(1e4)]).then((t=>(e("iframe-check"),t))).catch((t=>{throw t&&t.type===h?e("iframe-check-timeout"):this.logger.error({event:"iframe-check-error",error:t}),t})).finally((()=>{r.unsubscribe(),document.body.removeChild(t)}))}}const v="pcId",b=Object(o.i)({name:"savePcId",fn:(e,t,{cookieManager:r,apiClient:n})=>{const o=r.get(v),i=r.get(p.a);return o?Promise.resolve(o):n.request({method:"ping",cache:!1,query:{sessionid:i}}).then((e=>{const{userId:t}=e;if(t&&1111!==Number(t))return r.set({name:v,value:t,expires:31536e4}),t})).catch(f.a)},deps:{cookieManager:i.a,apiClient:l.g}}),y=Object(o.i)({name:"renewWuid",fn:(e,t,{cookieManager:r,apiClient:n})=>{const o=r.get(p.a),i=r.get("__utma");return n.request({method:"webuser",query:{sessionid:o,ga_utma:i},cache:!1}).then((e=>{const{wuid:t}=e;return t||null})).catch(f.a)},deps:{cookieManager:i.a,apiClient:l.g}});s.q;let O=class{};O=Object(n.__decorate)([Object(o.g)({providers:[{provide:a.b,useFactory:function(e){var{logger:t}=e,r=Object(n.__rest)(e,["logger"]);return new m(Object.assign({logger:t("auth:sso")},r))},deps:{sessionManager:a.e,cookieManager:i.a,envManager:s.m,logger:s.q,store:s.A},multi:!0}]})],O)},"3O30":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INIT="init",e.COMPLETE="complete",e.ERROR="error"}(n||(n={})),t.default=n},"3dWY":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("Hd8N")),i=r("96Xu"),s=n.__importDefault(r("Iwce"));t.default=function(e,t){void 0===t&&(t=s.default);var r=o.default("key",e.getInternalMeta(i.CACHE));return r||(r=t(e.getRequest()),e.updateInternalMeta(i.CACHE,{key:r})),r}},"3uze":function(e,t,r){"use strict";var n,o=r("SlZt");try{n=r("7+8w").isValidElementType}catch(e){}n||(n=function(e){return"string"==typeof e||"function"==typeof e||!!e&&o("$$typeof",e)}),e.exports=n},"3vKK":function(e,t,r){"use strict";r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return C})),r.d(t,"c",(function(){return P}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X"),s=r("s5GS"),a=r("9DU4"),c=r.n(a),u=r("C5ny");const l=()=>null,d=e=>!e||e.length<=0?{}:e.reduce(((e,{type:t,component:r})=>(e[t]=r,e)),{});var f=r("vek/"),p=r("vYnz"),h=r.n(p),g=r("6PeD"),m=r.n(g),v=r("zifK"),b=r.n(v),y=r("hMcK"),O=r("IAEy"),_=r.n(O);r("iPxf");const j=Object(f.f)("boxyService"),w=Object(f.f)("boxyFallbackMappingExtension",{multi:!0}),k=Object(f.f)("boxyCustomMappingExtension",{multi:!0}),E=Object(f.f)("boxyBaseMappingExtension",{multi:!0}),S=Object(f.f)("boxyLazy"),T=Object(f.f)("boxyRenderer"),P=_()(y.PageMakerLite),x=[{provide:j,useClass:class{constructor({fallbackMapping:e,customMapping:t,baseMappingExtensions:r,boxyLazy:n}){this.map={},this.fallbackMapping=d(e),this.customMapping=d(t),this.baseMappingExtension=r?r.reduce(((e,t)=>Object.assign(e,t)),{}):void 0,this.boxyLazy=n,this.spaMode=!1}setSPAMode(){this.spaMode=!0}registerMap(e){this.map=e}registerTree(e){this.tree=e}getTree(){const e=this.baseMappingExtension||this.boxyLazy;return this.tree&&e?Object(u.mapTree)(this.tree,(e=>{var t,r,n,o;const i=null===(t=this.baseMappingExtension[e.type])||void 0===t?void 0:t[e.version];let s=null!==(n=i?i.lazy:null===(r=e.render)||void 0===r?void 0:r.lazy)&&void 0!==n?n:null===(o=this.boxyLazy)||void 0===o?void 0:o.lazy;if("static"===s&&this.spaMode&&(s="idle"),s||i){const t=null!=i?i:e.render;return Object.assign(Object.assign({},e),{render:Object.assign(Object.assign({},t),{lazy:s})})}return e})):this.tree}getMap(){return this.map}getComponent({type:e,render:t},r={},n={}){let o;return t&&(o="npmVersion"in t?`${e}@${t.npmVersion}`:t.clientJs),n[e]||this.customMapping[e]||o&&this.map[o]||r[e]||this.fallbackMapping[e]}createUse(e={}){return t=>this.getComponent(t,e.fallbackBlockMap,e.customBlockMap)||e.notFound||l}},deps:{fallbackMapping:{token:w,multi:!0,optional:!0},customMapping:{token:k,multi:!0,optional:!0},baseMappingExtensions:{token:E,multi:!0,optional:!0},boxyLazy:{token:S,optional:!0}}},{provide:T,useFactory:({boxyService:e,analyticsConfig:t,analytics:r})=>m.a.memo((o=>{var{getTree:i,createUse:s,createUseOptions:a,dival:c}=o,u=Object(n.__rest)(o,["getTree","createUse","createUseOptions","dival"]);const l={trackingOptions:t.blocks,trackingService:r},d=b()(l,c);return m.a.createElement(P,Object.assign({},u,{dival:d,tree:i?i():e.getTree(),use:s?s():e.createUse(a)}))}),((e,t)=>{const{createUseOptions:r}=e,o=Object(n.__rest)(e,["createUseOptions"]),{createUseOptions:i}=t,s=Object(n.__rest)(t,["createUseOptions"]);return h()(o,s)&&h()(r,i)})),deps:{boxyService:j,analyticsConfig:{token:"analyticsConfig",optional:!0},analytics:{token:"analytics",optional:!0}}}];let C=class{};C=Object(n.__decorate)([Object(o.g)({providers:[...x,{provide:o.h.resolvePageDeps,useFactory:({boxyService:e,pageService:t})=>async function(){const r=t.getContent();if(!r)return;e.registerTree(r);const n=e.getTree(),o=await c()({tree:n});return e.registerMap(o),Promise.resolve()},multi:!0,deps:{boxyService:j,pageService:s.i,context:i.i}},{provide:o.h.clear,multi:!0,useFactory:({boxyService:e})=>()=>{e.setSPAMode()},deps:{boxyService:j}}]})],C)},"45F3":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("vek/");r("UBCb");const o=Object(n.f)("metricsModule");Object(n.f)("metricsServicesRegistry")},"46yt":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Map;t.default=function(e,t){if(void 0===t&&(t={}),n.has(e))return n.get(e);var r=document.createElement("script");Object.assign(r,{async:!0,src:e}),"mmid"in t&&(r.dataset.mmid=t.mmid);var o=new Promise((function(t,n){r.onerror=function(t){return n(new Error("could not load script "+e+" "+(t.message||t)))},r.onload=t,document.head.appendChild(r)}));return n.set(e,o),o}},"49XQ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m").__importDefault(r("EoyJ"));t.default=n.default({})},"4B/P":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return void 0===e&&(e=/()/),void 0===t&&(t=""),e.test(t)}))},"4JxY":function(e,t,r){"use strict";t.__esModule=!0;var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=r("6PeD"),s=(n=i)&&n.__esModule?n:{default:n};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){return console.error("asyncComponent: Loading failed",e)},d=function(e){return"[object Function]"===Object.prototype.toString.call(e)},f=function(e){return!!e&&("object"===(void 0===e?"undefined":o(e))||"function"==typeof e)&&"function"==typeof e.then};t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.placeholder,n=function(t){function n(){a(this,n);var e=c(this,t.call(this));return e.state={component:null},e.mounting=!0,e}return u(n,t),n.prototype.componentDidMount=function(){var t=this;if(!d(e))return console.error("asyncComponent: Loader is not function");var r=e();if(!f(r))return console.error("asyncComponent: Loader doesn't return a promise");r.then((function(e){return t.mounting&&t.setState({component:e.default||e})})).catch(l)},n.prototype.componentWillUnmount=function(){this.mounting=!1},n.prototype.render=function(){return this.state.component?s.default.createElement(this.state.component,this.props):r||null},n}(i.Component);return n}},"4OR0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Fyko");Object.defineProperty(t,"MediaProvider",{enumerable:!0,get:function(){return n.MediaProvider}}),Object.defineProperty(t,"MediaConsumer",{enumerable:!0,get:function(){return n.MediaConsumer}}),Object.defineProperty(t,"MediaContext",{enumerable:!0,get:function(){return n.MediaContext}});var o=r("BxY6");Object.defineProperty(t,"withMedia",{enumerable:!0,get:function(){return o.default}})},"4Z+W":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy"),o=n.__importDefault(r("6PeD")),i=n.__importDefault(r("OTpg")),s=r("e0Gv"),a=n.__importDefault(r("kmoA")),c=["padding","background","flex","flexDirection","justifyContent","alignItems","borderTop","borderBottom"].concat(["fontSize","fontFamily","fontWeight","color"]);function u(e){var t,r=e.className,n=e.hidden,u=e.html,l=e.onClick,d=e.forwardDomRef,f=s.pick(e,c),p=i.default(a.default.flex,r,((t={})[a.default.hidden]=n,t[a.default.pointer]=!!l,t));return u&&!e.children?o.default.createElement("div",{ref:d,dangerouslySetInnerHTML:{__html:u},className:p,style:f,onClick:l}):o.default.createElement("div",{ref:d,className:p,style:f,onClick:l},e.children)}t.default=u,u.displayName="Flex"},"4bkg":function(e,t,r){"use strict";e.exports=function(e){return e&&e[e.length-1]}},"4dcc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientLazyRender=void 0;var n=r("sV9m"),o=n.__importStar(r("6PeD")),i=r("mDUT"),s=n.__importDefault(r("46yt")),a=n.__importDefault(r("pZ9c")),c={__html:""},u=i.createUseObserverVisible({root:null,rootMargin:"200px 0px 0px 0px"}),l={};t.ClientLazyRender=function(e){var t=e.mmid,r=e.clientJs,i=e.css,d=e.props,f=e.forwardedRef,p=e.modules,h=e.strategy;var g=o.useRef(null),m=u(g),v=o.useState(!1),b=v[0],y=v[1],O=o.useState(!1),_=O[0],j=O[1],w=o.useState(!1),k=w[0],E=w[1],S=t+"-lazy-inner";if(o.useEffect((function(){"function"==typeof window.requestIdleCallback?window.requestIdleCallback((function(){return E(!0)})):E(!0),"string"==typeof i&&a.default("stylesheet",i),"function"==typeof d.forwardDomRef&&d.forwardDomRef(g.current)}),[]),(void 0===h||"none"===h||b&&"hover"===h||m&&"viewport"===h||k&&"idle"===h)&&!_&&s.default(r,{mmid:S}).then((function(){return j(!0)})),_){p[S].initialized||p[S].initialize();var T=p[S].exports;return o.default.createElement("div",{"data-mmid":t,ref:g,style:l},o.default.createElement(T,n.__assign({},d,{ref:f})))}return o.default.createElement("div",{"data-mmid":t,ref:g,style:l,suppressHydrationWarning:!0,dangerouslySetInnerHTML:c,onMouseMove:function(){return!b&&y(!0)}})},t.ClientLazyRender.displayName="ClientLazyRender"},"4fSt":function(e,t,r){"use strict";var n=r("ITDq"),o=r("CPiL");e.exports=n(3,(function(e,t,r){return void 0===e&&(e=[]),void 0===r&&(r={}),t(o(e,r),e,r)}))},"53i8":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){for(var r in void 0===t&&(t={}),t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}))},"5B8e":function(e,t,r){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e=t.length-1,r=t[e].apply(t,arguments),n=e-1;n>=0;n--)r=t[n](r);return r}}},"5REX":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isConnected=void 0,t.isConnected=function(e){return!(e instanceof Node)||(void 0!==e.isConnected?e.isConnected:!((e.ownerDocument||document).compareDocumentPosition(e)&Node.DOCUMENT_POSITION_DISCONNECTED))}},"5TCA":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===t&&(t=[]);for(var r=0;r<t.length;r++)if(e(t[r],r,t))return t[r]}))},"5f1s":function(e,t,r){"use strict";t.__esModule=!0,t.asyncComponent=void 0;var n,o=r("4JxY"),i=(n=o)&&n.__esModule?n:{default:n};t.asyncComponent=i.default},"6/k4":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return s})),r.d(t,"h",(function(){return i}));var n=r("vek/");Object(n.f)("RENDER_SLOTS",{multi:!0}),Object(n.f)("HTML_ATTRS",{multi:!0});const o=Object(n.f)("CUSTOM_RENDER"),i=Object(n.f)("resourcesRegistry"),s=(Object(n.f)("POLYFILL_CONDITION"),Object(n.f)("RENDER_MODE")),a=Object(n.f)("EXTEND_RENDER",{multi:!0}),c=Object(n.f)("defaultLayoutComponent"),u=Object(n.f)("defaultHeaderComponent"),l=Object(n.f)("defaultFooterComponent"),d=Object(n.f)("layoutOptions",{multi:!0})},"6Alu":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=r("zYuu");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var i=r("8JSv");Object.defineProperty(t,"Context",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r("awPa"),t);var s=r("3O30");Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return s.default}})},"6BR4":function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},"6PeD":function(e,t,r){e.exports=r("e5XK")("6PeD")},"6QeP":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("Hd8N")),i=n.__importDefault(r("+n3f")),s=r("6Alu"),a=r("j9ye"),c=3e5;t.default=function(e){var t=void 0===e?{}:e,u=t.lruOptions,l=void 0===u?{max:1e3,maxAge:c}:u,d=t.shouldExecute,f=void 0===d||d,p=t.allowStale,h=void 0!==p&&p,g=t.staleTtl,m=void 0===g?l.maxAge||c:g,v=t.memoryConstructor,b=void 0===v?function(e){return new(r("yNnq"))(e)}:v,y=t.getCacheKey,O=void 0===y?void 0:y,_=b(n.__assign(n.__assign({},l),{stale:!0}));return{shouldExecute:a.shouldCacheExecute("memory",f),init:function(e,t,r){var o=a.getCacheKey(e,O);if(_.has(o))return e.updateExternalMeta(a.metaTypes.CACHE,{memoryCache:!0,memoryCacheOutdated:!1}),t({status:s.Status.COMPLETE,response:_.get(o)});var c=i.default("memoryCacheAllowStale",h,e.getRequest())&&_.peek(o);if(c){var u=e.getRequest();return e.updateExternalMeta(a.metaTypes.CACHE,{memoryCache:!0,memoryCacheOutdated:!0}),_.set(o,c,m),setTimeout((function(){return r(n.__assign(n.__assign({},u),{memoryCacheForce:!0,memoryCacheBackground:!0}))}),15),t({status:s.Status.COMPLETE,response:c})}t()},complete:function(e,t){var r=a.getCacheKey(e,O),n=o.default("memoryCacheTtl",e.getRequest());_.set(r,e.getResponse(),n),e.updateExternalMeta(a.metaTypes.CACHE,{memoryCacheBackground:o.default("memoryCacheBackground",e.getRequest())}),t()}}}},"6tfJ":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Info=void 0;var n=r("fFyy"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("OTpg")),s=n.__importDefault(r("1+1o")),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e,t=this.props,r=t.title,n=t.subtitle,a=t.mode,c=void 0===a?"":a,u=t.forwardDomRef,l=t.children,d="✓";return"error"===c?d="X":"warn"===c&&(d="!"),l&&(e=o.default.createElement("div",{className:s.default.children},l)),o.default.createElement("div",{className:i.default(s.default.block,s.default[""+c]),ref:u},o.default.createElement("div",{className:s.default.title},o.default.createElement("div",null,d),r),n&&o.default.createElement("div",{className:s.default.subtitle},n),e)},t}(o.Component);t.Info=a},"7+8w":function(e,t,r){"use strict";e.exports=r("Gsl7")},"72zy":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_IMPRESSION_DELAY=t.DEFAULT_IMPRESSION_BATCH_DELAY=t.ELEMENT_VISIBILITY_DETECTION_DELAY=void 0;var n=r("sV9m"),o=n.__importDefault(r("TJbA")),i=r("C5ny"),s=r("bH6c"),a=r("2MLK"),c=r("5REX");var u=o.default("tcs:blocks-tracking");var l=Array.prototype.forEach,d={active:!1},f=function(e,t){return void 0===t&&(t={}),"undefined"!=typeof IntersectionObserver?new IntersectionObserver(e,n.__assign({root:null},t)):(console.warn("IntersectionObserver feature not supported!"),f=function(){return null},null)},p=["slideList","slides","panels","panelList","banners","list"];function h(e){if(!c.isConnected(e))return!1;var t=getComputedStyle(e);return"0"!==t.opacity&&"none"!==t.display&&"hidden"!==t.visibility}t.ELEMENT_VISIBILITY_DETECTION_DELAY=350,t.DEFAULT_IMPRESSION_BATCH_DELAY=300,t.DEFAULT_IMPRESSION_DELAY=100;var g=["itemType","itemName"];function m(e,t){e.unobserve(t),e.observe(t)}function v(e,t,r){for(var n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];r(i,t[i])&&(e[i]=t[i])}return e}function b(e,t){return Array.prototype.find.call(e,t)}function y(e){var t=function(e,t){try{return"elementsFromPoint"in document?document.elementsFromPoint(e,t):"msElementsFromPoint"in document?document.msElementsFromPoint(e,t):null}catch(e){return null}}(e.clientX,e.clientY)||[],r=e.target||void 0,n=b(t,(function(e){return e instanceof HTMLElement&&!!e.dataset.guid}));return n&&b(t,(function(e){return e instanceof HTMLElement&&(!!e.dataset.schemaPath||e===n)||e instanceof Node&&!n.contains(e)}))||r}var O=function(){function e(e){void 0===e&&(e={}),this._opts=n.__assign({intersectionThreshold:.2,elemsIntersectionThreshold:.5,scrollEventsDelay:250,elemsImpressionDelay:void 0!==e.scrollEventsDelay?e.scrollEventsDelay:t.DEFAULT_IMPRESSION_DELAY,impressionBatchDelay:t.DEFAULT_IMPRESSION_BATCH_DELAY,localKeys:g},e),this._recheckQueue=[],this._delayedEvents={},this._trackedElements=Object.create(null),"undefined"!=typeof WeakMap&&(this._traversedTargets=new WeakMap),this.batchedEvents=[],this.elemsSeenTimings={},this.handleBlocksIntersection=this.handleBlocksIntersection.bind(this),this.handleElemsIntersection=this.handleElemsIntersection.bind(this),this.handleElemsMutation=this.handleElemsMutation.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.mount=this.mount.bind(this),this.unmount=this.unmount.bind(this),this.handleBlockInteraction=this.handleBlockInteraction.bind(this),this.handleTrackBlock=this.handleTrackBlock.bind(this),this.handlePageVisChange=this.handlePageVisChange.bind(this),this.blockTimings={},this.blocksTrackingMeta={},this.blocksTrackingData={},this.blocksRegistry=null,this.elementsMap={}}return e.prototype.setTree=function(e){this.blocksRegistry=function(e){var t={};return e&&i.traverseTree(e,(function(e,r,o){t[e.id]=n.__assign(n.__assign({},o),{block:e})})),t}(e)},Object.defineProperty(e.prototype,"blocksInObserver",{get:function(){return void 0===this._blocksInObserver&&(this._blocksInObserver=f(this.handleBlocksIntersection,{threshold:this._opts.intersectionThreshold})),this._blocksInObserver},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elemsInObserver",{get:function(){return void 0===this._elemsInObserver&&(this._elemsInObserver=f(this.handleElemsIntersection,{threshold:this._opts.elemsIntersectionThreshold})),this._elemsInObserver},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elemsMutObserver",{get:function(){return void 0===this._elemsMutObserver&&(this._elemsMutObserver=new MutationObserver(this.handleElemsMutation)),this._elemsMutObserver},enumerable:!1,configurable:!0}),e.prototype.getTrackingData=function(e){if(!this.blocksRegistry)throw new Error("blocksRegistry is not ready");if(!this.blocksTrackingMeta[e]){var t=this.blocksRegistry[e];if(!t)return d;var r=((t.block.meta||{}).analytics||{}).tracking||{active:!0};this.blocksTrackingMeta[e]=r}return this.blocksTrackingMeta[e]},e.prototype.extendBlockTracking=function(e,t){void 0===t&&(t={}),this.blocksTrackingData[e]||(this.blocksTrackingData[e]={}),Object.assign(this.blocksTrackingData[e],t)},e.prototype.getBlockPayload=function(e){var t=this.blocksRegistry;if(!t)throw new Error("blocksRegistry is not ready");var r=this.getTrackingData(e),o=t[e];if(!o)throw new Error("No metadata found for block "+e);var i=o.block,s=o.depth,a=o.layerPosition,c=o.neighborsCount,u=r.trackingName||i.type+"_"+i.id;return n.__assign(n.__assign({},this.blocksTrackingData[e]),{type:i.type,name:u,position:a+1,maxPosition:c+1,depth:s})},e.prototype.getListElements=function(e,t){if(!this.blocksRegistry||!this.blocksRegistry[e])return[];for(var r,n,o=this.blocksRegistry[e].block.properties||{},i=0,s=p;i<s.length;i++){var a=s[i];if(o[a]){r=a;break}}if(!r)return[];if(n=t.dataset.schemaPath===r?t:t.querySelector('[data-schema-path="'+r+'"]')){var c=[];return l.call(n.querySelectorAll("[data-schema-path]"),(function(e){var t,n=e.dataset.schemaPath;isFinite(Number(n))&&(t=r,function(e,t){for(var r=e;r=r.parentNode;)if(r.dataset){var n=r.dataset[t];if(n)return n}}(e,"schemaPath")===t)&&(e.dataset.dnt||c.push(e))})),c}return[]},e.prototype.doCollect=function(e,t,r){var n=this;if(void 0===r&&(r=[]),this.blocksRegistry&&this.blocksRegistry[e]){for(var o,i,s=t.length,a=this.getBlockPayload(e),c=this.blocksRegistry[e].block.properties||{},u=0,l=p;u<l.length;u++){var d=l[u];if(c[d]&&-1!==t.indexOf(d)){o=d;break}}if(o)if((i=c[o].filter((function(e){return!1!==e.active}))).length>1){var f=c.panelProps||c.slideProps;f&&f.type&&"row"===f.type.substr(0,3)?a.view="row":a.view="slider"}else a.view="default";var h=c;c&&c.analytics&&Object.assign(a,c.analytics);for(var g,m,b=-1,y=!1,O=0;O<s;O++){if(y=O==s-1,!(h=h[t[O]])){if(0===O)return;throw new Error("Оборвана связь со схемой блока, пропустили data-schema-path ? path="+t.join(".")+", error-at="+t[O])}if(-1!==b){g=m="card";var _=Number(t[O]);o&&!a.componentPosition&&isFinite(_)&&(a.componentMaxPosition=i.length,a.componentPosition=_+1-c[o].slice(0,_).filter((function(e){return!1===e.active})).length,h.productName&&(a.componentProductName=h.productName),h.productCategory&&(a.componentProductCategory=h.productCategory))}var j=function(e){return!!y||-1===n._opts.localKeys.indexOf(e)};v(a,r[O],j),h.analytics&&v(a,h.analytics,j),o===t[O]&&(b=O)}if(s>0){var w=!o||-1!==b&&s-1-b>=2;if(!a.itemType){var k=w?t[s-1]:g;k&&(a.itemType=k)}if(!a.itemName){var E=void 0;w||a.itemType!==g||(E=m),w&&(E=h.title||h.text),E&&(a.itemName=E)}}return{guid:e,payload:a}}},e.prototype.traverseBlockTarget=function(e){var t=this.getTargetDesc(e);if(t)return this.doCollect(t.guid,t.schemaPath,t.payloadVector)},e.prototype.getTargetDesc=function(e){if(e){if(!this._traversedTargets)return this.traverseTargetDesc(e);if(!this._traversedTargets.has(e)){var t=this.traverseTargetDesc(e);this._traversedTargets.set(e,t)}return this._traversedTargets.get(e)}},e.prototype.traverseTargetDesc=function(e){for(var t=e,r=[],n=[],o={};t;){var i=t.dataset;if(i){if(i.schemaPath){n.length&&r.unshift(o),o={};var s=i.schemaPath.split(".");n.unshift.apply(n,s);for(var a=s.length;a-- >1;)r.unshift({})}if(0!==n.length){if(i.aData)try{Object.assign(o,JSON.parse(i.aData),o)}catch(e){}for(var c=0,u=["itemType","itemName"];c<u.length;c++){var l=u[c];i[l]&&!o[l]&&(o[l]=i[l])}}var d=i.guid;if(d)return n.length&&r.unshift(o),{guid:d,schemaPath:n,payloadVector:r}}t=t.parentNode}},e.prototype.isActiveTracking=function(e){return this.getTrackingData(e).active||function(){try{if("true"===localStorage.getItem("page_tracking_force_enabled"))return!0}catch(e){}return!1}()},e.prototype.trackBlock=function(e,t,r,o){if(void 0===o&&(o=void 0),this.blocksRegistry&&this.isActiveTracking(e)){var i=this.getBlockPayload(e),a=r?n.__assign(n.__assign({},i),r):i;"blockInteraction"!==t||"impression"!==a.actionType&&"impressionout"!==a.actionType?(s.sendEvent("track-data",{block:a},o),s.sendEvent(t,a,o)):this.batchImpressionEvent(a)}},e.prototype.batchImpressionEvent=function(e){var t=this;this.batchedEvents.push(e),this.batchedTimer&&clearTimeout(this.batchedTimer),this.batchedTimer=setTimeout((function(){var e=[],r=t.batchedEvents.reduce((function(t,r){var n=r.actionType;return t[n]||(e.push(n),t[n]=[]),t[n].push(r),t}),{});t.batchedEvents=[];for(var n=0,o=e;n<o.length;n++){var i=o[n];s.sendEvent("blockInteraction",{actionType:i,batchData:r[i]})}}),this._opts.impressionBatchDelay)},e.prototype.startPairEvent=function(e,t,r,n){var o=this;this.cancelableDelayedAction(e,(function(){o.trackBlock(e,t,r)}),n)},e.prototype.cancelableDelayedAction=function(e,t,r){var n=this;if(0===r)a.requestIdleCallbackWithDuration((function(){return t.call(n)}));else{var o=this._delayedEvents[e];o?(delete this._delayedEvents[e],clearTimeout(o)):this._delayedEvents[e]=setTimeout((function(){delete n._delayedEvents[e],a.requestIdleCallbackWithDuration((function(){return t.call(n)}))}),r)}},e.prototype.handleBlocksIntersection=function(e){var t=this;e.forEach((function(e){var r=e.target.dataset.guid;if(e.intersectionRatio>=t._opts.intersectionThreshold){t.blockTimings[r]=Date.now();var n={actionType:"scrollin"};t.startPairEvent(r,"blockScrollIn",n,t._opts.scrollEventsDelay)}else if(t.blockTimings[r]){n={actionType:"scrollout",time:Date.now()-t.blockTimings[r]};t.startPairEvent(r,"blockScrollOut",n,t._opts.scrollEventsDelay)}}))},e.prototype.handleElemsMutation=function(e){var r=this;e.forEach((function(e){var n=r.getTargetDesc(e.target);if(n){var o,i=n.schemaPath.join("/");r._trackedElements[i]||(o=e.target,h(o)?Promise.resolve(!0):new Promise((function(e){setTimeout((function(){e(h(o))}),t.ELEMENT_VISIBILITY_DETECTION_DELAY)}))).then((function(t){t&&m(r.elemsInObserver,e.target)}))}}))},e.prototype.handleElemsIntersection=function(e){var t=this;document.hidden?e.forEach((function(e){t._recheckQueue.push(e.target)})):e.forEach((function(e){var r=h(e.target),n=t.getTargetDesc(e.target);if(n){var o=n.guid+"/"+n.schemaPath.join("/");if(3!==t._trackedElements[o]){var i="seen_"+o;e.intersectionRatio>=t._opts.elemsIntersectionThreshold&&r?t.cancelableDelayedAction(i,(function(){var r=t._trackedElements[o]||0;1&r||(r|=1,t._trackedElements[o]=r,t.elemsSeenTimings[o]=Date.now(),s.sendEvent("track-block",{payload:{actionType:"impression"}},e.target))}),t._opts.elemsImpressionDelay):t.cancelableDelayedAction(i,(function(){var r=t._trackedElements[o]||0;if(!(2&r)&&1&r){r|=2,t._trackedElements[o]=r;var n=o in t.elemsSeenTimings?Date.now()-t.elemsSeenTimings[o]:0;s.sendEvent("track-block",{payload:{actionType:"impressionout",componentTime:n}},e.target)}}),t._opts.elemsImpressionDelay)}}}))},e.prototype.handlePageVisChange=function(){var e=this.elemsInObserver;!document.hidden&&this._recheckQueue.length>0&&e&&(this._recheckQueue.forEach((function(t){m(e,t)})),this._recheckQueue=[])},e.prototype.handleBlockInteraction=function(e){var t=this._blockInteractionTimer;t&&e.detail&&"click"===e.detail.actionType&&(clearTimeout(t),this._blockInteractionTimer=void 0)},e.prototype.handleTrackBlock=function(e){if(this.blocksRegistry){var t=e.detail.originalTarget||e.target,r=this.traverseBlockTarget(t);if(r){var o=r.guid,i=r.payload,s=n.__assign(n.__assign(n.__assign({},e.detail.defaults),i),e.detail.payload);this.trackBlock(o,e.detail.event||"blockInteraction",s,e.target||void 0)}}},e.prototype.handleMouseDown=function(e){var t=this;this._blockInteractionTimer=setTimeout((function(){s.sendEvent("track-block",{defaults:{actionType:"click",itemType:"block"}},y(e)),t._blockInteractionTimer=void 0}))},e.prototype.observeElem=function(e){var t=this.elemsInObserver;u.info({event:"attach to elem",element:e}),t&&(t.observe(e),this.elemsMutObserver.observe(e,{childList:!1,attributes:!0,subtree:!1}))},e.prototype.attachInfoDataAttrsToElement=function(e,t){try{if(localStorage.getItem("set-page-maker-data-attrs")){var r=this.blocksRegistry[e].block,n=r.type,o=r.version,i=r.render;t.dataset.type=n,t.dataset.schemaVersion=String(o),t.dataset.render=JSON.stringify(i)}}catch(e){}},e.prototype.unregisterElement=function(e){var t=this.elementsMap[e];t instanceof HTMLElement&&(delete t.dataset.guid,delete this.elementsMap[e],this.blocksInObserver&&this.blocksInObserver.unobserve(t))},e.prototype.registerElement=function(e,t){var r=this;if(null!==t)if(t instanceof HTMLElement){t!==this.elementsMap[e]&&this.elementsMap[e]&&this.unregisterElement(e);var n=this.blocksInObserver,o=this.elemsInObserver;if(this.attachInfoDataAttrsToElement(e,t),!this.isActiveTracking(e))return;u.info({event:"attach",guid:e}),t.dataset.guid=e,n&&n.observe(t),o&&(l.call(t.querySelectorAll("[data-eye-target]"),(function(e){r.observeElem(e)})),this.getListElements(e,t).forEach((function(e){r.observeElem(e)}))),this.elementsMap[e]=t}else console.warn("Couldn't find dom node for "+e)},e.prototype.mount=function(){u.info({event:"mount"}),document.addEventListener("mousedown",this.handleMouseDown,!0),document.body.addEventListener("blockInteraction",this.handleBlockInteraction,!0),document.addEventListener("track-block",this.handleTrackBlock,!0),document.addEventListener("visibilitychange",this.handlePageVisChange)},e.prototype.unmount=function(){u.info("umount");var e=this,t=e._delayedEvents,r=e._blockInteractionTimer,n=e.blocksInObserver,o=e.elemsInObserver,i=e.batchedTimer;for(var s in t)clearTimeout(t[s]);i&&clearTimeout(i),r&&clearTimeout(this._blockInteractionTimer),this.elemsMutObserver.disconnect(),n&&n.disconnect(),o&&o.disconnect(),document.removeEventListener("visibilitychange",this.handlePageVisChange),document.removeEventListener("mousedown",this.handleMouseDown,!0),document.body.removeEventListener("blockInteraction",this.handleBlockInteraction,!0),document.removeEventListener("track-block",this.handleTrackBlock,!0)},e}();t.default=O},"7Fsg":function(e,t,r){"use strict";var n=r("ITDq"),o=r("Hd8N");e.exports=n(3,(function(e,t,r){return o(e,r)===t}))},"7Mw8":function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},"7pC/":function(e,t,r){"use strict";var n=r("ITDq"),o=r("jy6p"),i=r("BScc");e.exports=n(3,(function(e){for(var t=i(arguments.length<=1?void 0:arguments[1]),r=1;r<(arguments.length<=1?0:arguments.length-1);r++)for(var n=r+1<1||arguments.length<=r+1?void 0:arguments[r+1],s=o(n),a=0;a<s.length;a++){var c=s[a];Object.prototype.hasOwnProperty.call(t,c)?t[c]=e(t[c],n[c],c,t,n):t[c]=n[c]}return t}))},"8JSv":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("RgYb")),i=n.__importDefault(r("3O30")),s=function(){function e(e){this.state=n.__assign({status:i.default.INIT,request:null,response:null,error:null},e),this.internalMeta={},this.externalMeta={}}return e.prototype.getState=function(){return this.state},e.prototype.setState=function(e){var t=o.default([this.state],e);t&&(this.state=n.__assign(n.__assign({},this.state),t))},e.prototype.getInternalMeta=function(e){return this.getMeta(e,this.internalMeta)},e.prototype.getExternalMeta=function(e){return this.getMeta(e,this.externalMeta)},e.prototype.updateInternalMeta=function(e,t){this.internalMeta=this.extendMeta(e,t,this.internalMeta)},e.prototype.updateExternalMeta=function(e,t){this.externalMeta=this.extendMeta(e,t,this.externalMeta)},e.prototype.getStatus=function(){return this.state.status},e.prototype.getResponse=function(){return this.state.response},e.prototype.getRequest=function(){return this.state.request},e.prototype.getMeta=function(e,t){return void 0===t&&(t=this.externalMeta),e?t[e]:t},e.prototype.extendMeta=function(e,t,r){var o;if(void 0===r&&(r=this.externalMeta),t)return n.__assign(n.__assign({},r),((o={})[e]=n.__assign(n.__assign({},r[e]),t),o))},e}();t.default=s},"8ygP":function(e,t,r){"use strict";var n=r("BFYb");e.exports=function e(t){void 0===t&&(t=[]);for(var r=[],o=0;o<t.length;o++){var i=t[o];if(n(i))for(var s=e(i),a=0;a<s.length;a++)r.push(s[a]);else r.push(i)}return r}},"9+TJ":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));var n=r("sV9m"),o=r("HqrZ"),i=r("UDiI"),s=r("vek/");const a=Object(s.f)("webUserId");let c=class{};c=Object(n.__decorate)([Object(o.g)({imports:[],providers:[{provide:a,useFactory:({cookie:e})=>e.get("__P__wuid"),deps:{cookie:i.a}}]})],c)},"96Xu":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE=void 0,t.CACHE="cache"},"9DU4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=r("GFzn"),i=r("C5ny"),s=n.__importDefault(r("pZ9c")),a=n.__importDefault(r("46yt")),c=r("2qlJ"),u=r("iPxf"),l=n.__importDefault(r("TJbA")),d=n.__importDefault(r("iWOL")),f=l.default("mm-lazy:dynamic"),p=function(e){var t=o.getTemper().modules[e];if(void 0===t)throw new Error("module "+e+" not found");!1===t.initialized&&(t.initialize(),t.initialized=!0),o._addToMap(e,t.exports)};t.default=function(e){var t=e.tree,r=e.baseUrl,l=void 0===r?u.defaultBaseUrl:r;return n.__awaiter(void 0,void 0,void 0,(function(){var e,r,u,h,g,m,v,b;return n.__generator(this,(function(n){switch(n.label){case 0:0,f.debug("starting blockMap with baseUrl and tree",l,t),d.default(t,l),e=o.getTemper(),r=[],i.traverseTree(t,(function(t){if(void 0!==t.render){var n=c.getMmid(t);if(!e.modules[n]){var o=c.getUrl(t,"clientJs",l),i=c.getUrl(t,"css",l);f.debug("block "+t.type+" not found, loading it via solo url",o);var u=Promise.all([s.default("stylesheet",i),a.default(o,{mmid:n})]).then((function(){return{mmid:n}})).catch((function(){return{mmid:n,failed:!0}}));r.push(u)}}})),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:for(u=n.sent(),h=0,g=u;h<g.length;h++)m=g[h],v=m.mmid,m.failed?f.warn("mmid "+v+" failed to load"):(f.debug("initializing async block "+v),p(v));return[3,4];case 3:return b=n.sent(),f.error({message:"failed to load some modules"}),console.error(b),[3,4];case 4:return[2,o.getMap()]}}))}))}},"9HyP":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeUrl=t.addQuery=t.serialize=void 0;var n=r("sV9m"),o=n.__importDefault(r("53i8")),i=n.__importDefault(r("Mg/g"));t.serialize=function(e,t){void 0===t&&(t="");var r=new URLSearchParams(t);return o.default((function(e,t){i.default(e)||r.set(t,e)}),e),r.toString()},t.addQuery=function(e,r){var n=e.split("?",2),o=n[0],i=n[1],s=t.serialize(r,i);return s?o+"?"+s:o},t.normalizeUrl=function(e){return e}},"9JzW":function(e,t,r){"use strict";e.exports=function(e){return void 0===e&&(e=""),e.toLowerCase()}},"9h3G":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r("sV9m").__exportStar(r("oKB5"),t);var n=r("2Ii2");Object.defineProperty(t,"HttpMethods",{enumerable:!0,get:function(){return n.HttpMethods}});var o=r("F03Y");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}})},"9vPl":function(e,t,r){"use strict";e.exports=function(e){return!!e&&Array.isArray(e)}},ALJ0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("9JzW")),i=n.__importDefault(r("b1Bm"));t.default=function(e){var t=o.default(e.headers.get("content-type")||"");return i.default("application/json",t)?e.json():e.text()}},AWks:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X");let s=class{};s=Object(n.__decorate)([Object(o.g)({providers:[{provide:"serviceWorker",useFactory:({serviceWorkerUrl:e})=>"serviceWorker"in navigator?navigator.serviceWorker.register(e):Promise.reject(new Error("ServiceWorker not supported")),deps:{serviceWorkerUrl:"pwaServiceWorkerUrl"}},{provide:"pwaServiceWorkerUrl",useValue:"/sw.js"},{provide:o.h.init,multi:!0,useFactory:({serviceWorker:e,logger:t})=>function(){e.catch((e=>{t.warn({event:"serviceworker-initialise-error",error:e})}))},deps:{serviceWorker:"serviceWorker",logger:i.q}}]})],s)},AZlF:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;t.default=n},"Al+g":function(e,t,r){"use strict";r.d(t,"a",(function(){return Y})),r.d(t,"b",(function(){return G})),r.d(t,"c",(function(){return U})),r.d(t,"d",(function(){return K})),r.d(t,"e",(function(){return $}));var n=r("6PeD"),o=r.n(n),i=r("7Mw8"),s=r.n(i),a=r("wTcq"),c=r.n(a),u=r("Jdlq"),l=r.n(u),d=r("d52I"),f=r.n(d),p=r("EoyJ"),h=r.n(p),g=r("Ioz2"),m=r.n(g),v=r("Ti8s"),b=r.n(v),y=r("P647"),O=r.n(y),_=r("x3U1"),j=r.n(_);const w=e=>t=>{const[r,o]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{if(!t.current||r)return;const n=new IntersectionObserver(((e,t)=>{e.forEach((({isIntersecting:e})=>{e&&(t.disconnect(),o(!0))}))}),e);return n.observe(t.current),()=>{n.disconnect()}}),[t]),r},k={__html:""},E=w({root:null,rootMargin:"200px 0px 0px 0px"}),S=({mode:e,children:t,useObserver:r=E,wrapper:i="div",wrapperProps:s={}})=>{const a=Object(n.useRef)(null);return r(a)||"static"===e?o.a.createElement(i,Object.assign({},s),t):o.a.createElement(i,Object.assign({ref:a,suppressHydrationWarning:!0,dangerouslySetInnerHTML:k},s))};var T=r("Hd8N"),P=r.n(T),x=r("sV9m"),C=r("Zj8j"),M=r.n(C),R=r("5TCA"),I=r.n(R),D=(e,t,r={})=>{const n=document.createElement("link");return Object.assign(n,r,{rel:e,href:t}),new Promise(((e,r)=>{n.onerror=()=>r(new Error("could not load link "+t)),"onload"in n?n.onload=e:setTimeout(e,50),document.head.appendChild(n)}))},A=(e,t={},r)=>{const n=document.createElement("script");return Object.assign(n,t,{async:!0,src:e}),r&&r(n),new Promise(((t,r)=>{n.onerror=t=>r(new Error(`could not load script ${e} ${t.message||t}`)),n.onload=t,document.head.appendChild(n)}))};const L=e=>null==e?void 0:e.replace(/^https?:/,""),N=e=>I()((t=>t.href&&L(t.href)===e),document.styleSheets);function q(e,t={}){const r=(n=e,I()((e=>e.src&&L(e.src)===n),document.scripts));var n;if(r){const e=r.getAttribute("loaded");return e?"true"===e?Promise.resolve():Promise.reject():new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)}))}return Promise.all([A(e,{crossOrigin:"anonymous"},(e=>{e.addEventListener("load",(()=>e.setAttribute("loaded","true"))),e.addEventListener("error",(()=>e.setAttribute("loaded","error")))})),t.cssUrl&&!N(t.cssUrl)?D("stylesheet",t.cssUrl):Promise.resolve()])}const F={trace:O.a,debug:O.a,info:O.a,warning:O.a,error:O.a},U=Object(n.createContext)({loader:null}),H=m()([[s.a,o.a.createElement],[l.a,o.a.cloneElement],[c.a,b.a],[j.a,h()("")]]);class V extends n.Component{constructor(e,t){super(e,t);const r=this.props.loader(e.moduleName,e.moduleVersion,{lazy:!!e.lazy}),n=f()(r);this.state={module:n||!r?null:r.default,failed:!r},n&&r.then((e=>this.setState({module:e.default}))).catch((()=>this.setState({failed:!0})))}render(){const{error:e,loading:t,moduleProps:r,moduleInitialState:n,moduleInnerStore:i}=this.props,s=this.state.module;return s?o.a.createElement(s,Object.assign({},r,{moduleInnerStore:i,moduleInitialState:n})):H(this.state.failed?e:t)}}V.defaultProps={error:o.a.createElement("div",null),loading:o.a.createElement("div",null)};const B={root:null,rootMargin:"200px 0px 0px 0px"},z=e=>{const{moduleName:t,moduleVersion:r,loader:i,lazyMode:s,lazyObserverOptions:a,lazyWrapper:c,lazyWrapperProps:u}=e,l=Object(n.useMemo)((()=>(({moduleName:e,moduleVersion:t,loader:r,lazyObserverOptions:o})=>{const i=w(o||B);return o=>{const s=i(o),[a,c]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{s&&Promise.resolve(r(e,t)).catch(O.a).then((()=>{c(!0)}))}),[s]),a}})({moduleName:t,moduleVersion:r,loader:i,lazyObserverOptions:a})),[t,r,i,a]);return o.a.createElement(S,{useObserver:l,wrapper:c,wrapperProps:u,mode:s},o.a.createElement(V,Object.assign({},e)))},G=e=>o.a.createElement(U.Consumer,null,(({loader:t})=>e.lazy?o.a.createElement(z,Object.assign({},e,{loader:t,lazyMode:void 0})):o.a.createElement(V,Object.assign({},e,{loader:t})))),$=(e,t,r,n={})=>{const o=P()(t,e);if(!o)return null;!r&&P()(`module:${t}:beta`,n)&&(r=o.beta),r||(r=o.latest);const i=(o.path||e.serverPath||e.defaultPath).replace(/\/$/,""),s=`${(o.path||e.clientPath||e.defaultPath).replace(/\/$/,"")}/${t}/${r}`,a=`${i}/${t}/${r}`;return{name:""+t,version:""+r,js:`//${s}/${t}_client.js`,css:o.withoutCSS?void 0:`//${s}/${t}.css`,serverJs:`${a}/${t}_server.js`}},W={config:{},navigate:{url:{query:{}}},params:{}},J=e=>{const t=e.config,{path:r,parentName:n,properties:o}=t,i=Object(x.__rest)(t,["path","parentName","properties"]);return Object.assign(Object.assign(Object.assign({},i),o),{path:M()("/",r)?r:r+"/",parent:n})},K=e=>e?Object.assign(Object.assign({},e),{config:J(e),navigate:{url:e.parsedUrl},query:e.parsedUrl.query}):W;class Y{constructor(e={}){this.log=e.log||F}isLoaded(e){return!!this.get(e)}get(e){return(e=>{if(window.__externals&&window.__externals[e])return window.__externals[e]})(e.name)}load(e){const t=e.name;let r=this.get(e);if(r)return this.log.debug(`module "${t}" returned from cache`),r;this.log.debug(`module "${t}" will be fetched`);const n=()=>(r=this.get(e),r?(this.log.debug(t,"loaded"),Promise.resolve(r)):(this.log.error("cannot find module "+t),Promise.reject(new Error("Error resolving module "+t))));return q(e.js,{cssUrl:e.css}).then(n,n)}}},AtJk:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("VrK3"),o=r.n(n),i=r("sV9m"),s=r("dCVy"),a=r.n(s),c=r("Zj8j"),u=r.n(c),l=r("sGsm"),d=r.n(l),f=r("CPiL"),p=r.n(f);const h="psid",g={sessionId:"",sessionWillExpireIn:0,accessLevel:"ANONYMOUS",millisLeft:0,userId:null,requested:!1},m={session:g};t.b=class extends class{constructor({apiClient:e,dispatcher:t,cookie:r,initialState:n}){this.state=m,this.dispatcher=t,this.apiClient=e,this.cookie=r,n&&this.setState(n)}async updateSessionStatus(e){return this.fetchOrCreateSession(e).then(d()((e=>this.saveAndDispatchSession(e))))}getSessionId(){return this.getSessionIdFromCookie()||""}async authenticate(){return this.isAuthenticated()?Promise.resolve():this.runAuthenticateFlow()}async logout(){return this.resetSessionOnServer().then(this.resetSessionOnClient.bind(this)).then(this.noSessionAuthFlow.bind(this))}async replaceWithNewSession(){return this.resetSessionOnServer().then(this.noSessionAuthFlow.bind(this))}async prolongateSession(e){return this.pingSession(e).then(this.updateSessionStatus.bind(this))}async runAuthenticateFlow(){const e=this.getSessionIdFromCookie();return e?this.hasSessionAuthFlow(e):this.noSessionAuthFlow()}async noSessionAuthFlow(){return this.createSession().then(this.saveAndDispatchSession.bind(this))}async hasSessionAuthFlow(e){return this.updateSessionStatus(e)}async fetchOrCreateSession(e){return this.fetchSessionStatus(e).catch((e=>{const t=p()(["response","errorMessage"],e);if(t&&u()("Session is absent",t))return this.createSession();throw e}))}async createSession(){return this.apiClient.request({method:"session",cache:!1,withoutSession:!0}).then(this.fetchSessionStatus.bind(this)).catch((e=>({sessionId:"fallback_session",accessLevel:"ANONYMOUS",millisLeft:0})))}async saveSession(e=g){var{sessionId:t,millisLeft:r,accessLevel:n="ANONYMOUS",userId:o}=e,s=Object(i.__rest)(e,["sessionId","millisLeft","accessLevel","userId"]);const a=(new Date).getTime()+r;this.setSessionIdToCookie(t,r);const c=Object.assign(Object.assign({},s),{accessLevel:n,sessionId:t,sessionWillExpireIn:a,userId:o,requested:!0});return this.setState({session:c}),c}async resetSessionOnClient(){return this.saveAndDispatchSession(g)}async resetSessionOnServer(){return this.apiClient.request({method:"sign_out",cache:!1,query:{sessionid:this.getSessionId()}})}async dispatchStatusChanged(){return this.dispatcher({action:"STATUS_CHANGED",payload:this.getState()})}async saveAndDispatchSession(e){return Promise.resolve().then((()=>this.saveSession(e))).then(this.dispatchStatusChanged.bind(this))}async pingSession(e){return this.apiClient.request({method:"ping",cache:!1,query:{sessionid:e}}).then((()=>e))}isAuthenticated(){const{session:{sessionWillExpireIn:e}}=this.getState();return a()(e)&&e>Date.now()}getSessionIdFromCookie(){return this.cookie.get(h)}setSessionIdToCookie(e,t){const r=t/1e3;this.cookie.set({expires:r,name:h,value:e})}async fetchSessionStatus(e){return this.apiClient.request({method:"session_status",cache:!1,silent:!0,query:{sessionid:e}}).then((t=>Object.assign({sessionId:e},t)))}getState(){return this.state}setState(e){this.state=Object.assign(Object.assign({},this.getState()),e)}}{async fetchSessionStatus(e){const t=(r=3)=>super.fetchSessionStatus(e).catch((e=>{if((o()(e)||!e.errorId)&&r>0)return new Promise((e=>setTimeout(e,500))).then((()=>t(r-1)));throw e}));return t()}}},B2vP:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===t&&(t={});var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=e(t[n],n,t));return r}))},BFYb:function(e,t,r){"use strict";var n=r("9vPl"),o=r("wTcq"),i=r("SlZt");e.exports=function(e){switch(!0){case n(e):return!0;case!e:case"object"!=typeof e:case o(e):return!1;case 1===e.nodeType:return!!e.length;case 0===e.length:return!0;case e.length>0:return i("0",e)&&i(String(e.length-1),e)}return!1}},BI4e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Response=t.Request=t.Headers=t.fetch=void 0;var n="undefined"!=typeof self?self:window;t.fetch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.fetch.apply(n,e)};var o=n.Headers,i=n.Request,s=n.Response;t.Headers=o,t.Request=i,t.Response=s},BScc:function(e,t,r){"use strict";var n=r("9vPl");e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(t[0])?Object.assign.apply(Object,[[]].concat(t)):Object.assign.apply(Object,[{}].concat(t))}},BT50:function(e,t,r){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},BWuC:function(e,t,r){"use strict";r.r(t);var n=r("fxiU"),o=r.n(n),i=r("6BR4"),s=r.n(i),a=r("6PeD"),c=r.n(a),u=r("da5Q"),l=r.n(u),d=r("0Sp3"),f=r.n(d),p=r("AZlF"),h=r.n(p),g=function(){var e={},t=[],r={isPhone:window.matchMedia("(max-width: "+l.a.PHONE+"px)"),isTablet:window.matchMedia("(min-width: "+l.a.TABLETS+"px)"),isDesktop:window.matchMedia("(min-width: "+l.a.DESKTOP+"px)"),isDesktopS:window.matchMedia("(min-width: "+l.a.DESKTOP_SMALL+"px)"),isDesktopM:window.matchMedia("(min-width: "+l.a.DESKTOP_MEDIUM+"px)"),isDesktopL:window.matchMedia("(min-width: "+l.a.DESKTOP_LARGE+"px)"),isDesktopXL:window.matchMedia("(min-width: "+l.a.DESKTOP_EXTRA_LARGE+"px)"),isRetina:window.matchMedia("(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)")};function n(r,n){var o;e=s()({},e,((o={})[r]=n,o)),function(){for(var e=0;e<t.length;e++)(0,t[e])()}()}return Object.keys(r).forEach((function(t){e[t]=r[t].matches,r[t].addListener((function(e){return n(t,e.matches)}))})),{getState:function(){return e},getDeviceType:f.a,subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);t.splice(r,1)}}}}();t.default=function(e){return void 0===e&&(e={}),function(e){var t=e.displayName||e.name,r=function(t){function r(e){var r;return(r=t.call(this,e)||this).updateMedia=function(){r.setState({media:g&&g.getState()})},r.state={media:{},deviceType:f()()},r.isTouch=!1,r.subscribe=function(){},r}o()(r,t);var n=r.prototype;return n.componentDidMount=function(){this.isTouch=h.a,this.subscribe=g&&g.subscribe(this.updateMedia),this.updateMedia()},n.componentWillUnmount=function(){this.subscribe()},n.render=function(){return c.a.createElement(e,Object.assign({},this.props,{media:this.state.media,deviceType:this.state.deviceType,isTouch:this.isTouch}))},r}(a.Component);return r.displayName="MediaInfo("+t+")",r.defaultProps=e.defaultProps,r}}},BewK:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){r=window}e.exports=r},BhXG:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("Hd8N")),i=n.__importDefault(r("B2vP")),s=n.__importDefault(r("9vPl")),a=n.__importDefault(r("BT50")),c=r("krYm"),u=function(e){var t=e.getExternalMeta(c.LOG),r=Date.now(),n=r-t.start;e.updateExternalMeta(c.LOG,{end:r,duration:n})},l=function(e){return{debug:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return console.debug.apply(console,n.__spreadArrays([e],t))},error:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return console.error.apply(console,n.__spreadArrays([e],t))}}},d=function(e,t){return!0===t?e:a.default(e)?!1===t?i.default((function(){return"*"}),e):i.default((function(e,r){return t.has(r)?e:"*"}),e):"*"};t.default=function(e){var t=e.name,r=void 0===t?"":t,n=e.logger,i=void 0===n?l:n,a=e.showQueryFields,f=void 0!==a&&a,p=e.showPayloadFields,h=void 0!==p&&p,g=i("request."+r),m=function(e){var t=e.url,r=e.query,n=e.payload,o=e.showQueryFields,i=e.showPayloadFields,a=null!=o?o:f,c=null!=i?i:h;return{url:t,query:r&&d(r,s.default(a)?new Set(a):a),payload:n&&d(n,s.default(c)?new Set(c):c)}};return{init:function(e,t){var r=e.getRequest(),n=Date.now();o.default("silent",r)||g.debug({event:"init",info:m(r)}),e.updateExternalMeta(c.LOG,{start:n}),t()},complete:function(e,t){u(e);var r=e.getRequest();o.default("silent",r)||g.debug({event:"complete",info:m(r),meta:e.getExternalMeta()}),t()},error:function(e,t){var r=e.getRequest(),n=o.default("silent",r);u(e),n||g.error({event:"error",info:m(r),error:e.getState().error,meta:e.getExternalMeta()}),t()}}}},BxY6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importStar(r("6PeD")),i=r("Fyko");t.default=function(e){var t;return(t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n.__extends(r,t),r.prototype.render=function(){var t=this;return o.createElement(i.MediaConsumer,null,(function(r){return o.createElement(e,n.__assign({},t.props,{media:r}))}))},r}(o.PureComponent)).displayName="WithMedia("+(e.displayName||e.name)+")",t}},C5ny:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asTree=t.FIRST_ID=t.mapTree=t.traverseTree=void 0;var n=r("sV9m"),o=n.__importDefault(r("0GPT"));function i(e,t,r){var n,o=null!==(n=null==r?void 0:r.pattern)&&void 0!==n?n:"post-order";return function e(r,n,i,s){var a,c,u;void 0===n&&(n=0),void 0===i&&(i=0),void 0===s&&(s=0);var l=null!==(c=null===(a=r.content)||void 0===a?void 0:a.length)&&void 0!==c?c:0,d=null!==(u=r.content)&&void 0!==u?u:null,f={depth:n,layerPosition:s,neighborsCount:i};switch(o){case"pre-order":var p=t(r,d,f);if(Array.isArray(r.content)){var h=r.content.map((function(t,r){return e(t,n+1,l-1,r)}));p&&"object"==typeof p&&(p.content=h)}return p;case"post-order":return Array.isArray(r.content)&&(d=r.content.map((function(t,r){return e(t,n+1,l-1,r)}))),t(r,d,f);default:throw new Error('wrong pattern value: "'+o+'"')}}(e)}function s(e,t){return i(e,(function(e,r){return n.__assign(n.__assign({},t(e)),{content:r})}))}t.traverseTree=i,t.mapTree=s,t.FIRST_ID="generated-id",t.asTree=function e(r,n){void 0===n&&(n=0);var i=n;return Array.isArray(r)?e({type:"fragment",content:r}):s(r,(function(e){var r,n,s=e.id;if(!s){var a=i>1?"-"+String(i):"";s=""+t.FIRST_ID+a,i++}return{id:s,type:o.default(null!==(r=e.type)&&void 0!==r?r:"as-tree-generated-type"),version:null!==(n=e.version)&&void 0!==n?n:"0.0",content:e.content,render:e.render,properties:e.properties}}))}},CPiL:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var r=t,n=0;n<e.length;n++){if(null==r)return;r=r[e[n]]}return r}))},DqCI:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.slice(0,e.length)===e}))},DsfZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("sV9m"),o=r("HqrZ"),i=r("vek/");Object(i.f)("redirectOldBrowser");let s=class{};s=Object(n.__decorate)([Object(o.g)({providers:[]})],s)},E7RR:function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},EC8c:function(e,t,r){"use strict";var n=r("0DQA"),o=r("9vPl"),i=function(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(!a(e[n],t[n]))return!1;return!0},s=function(e,t){var r=Object.keys(e),n=r.length;if(n!==Object.keys(t).length)return!1;for(var o=0;o<n;o++){var i=r[o];if(!Object.prototype.hasOwnProperty.call(t,i)||!a(e[i],t[i]))return!1}return!0},a=function(e,t){if(e===t)return!0;if(typeof e!=typeof t||e!==Object(e)||!e||!t)return!1;if(o(e)&&o(t))return i(e,t);var r=Object.prototype.toString.call(e);return"[object Object]"===r&&Object.prototype.toString.call(t)===r?s(e,t):function(e,t){return e.toString()===t.toString()}(e,t)};e.exports=n(a)},EDne:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return function(){return e.apply(void 0,arguments)&&t.apply(void 0,arguments)}}))},EoyJ:function(e,t,r){"use strict";e.exports=function(e){return function(){return e}}},"F+Bf":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("OTpg")),s=n.__importDefault(r("/UAW")),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isExpanded:t.props.isExpanded,isExpandedFromProps:t.props.isExpanded},t}return n.__extends(t,e),t.getDerivedStateFromProps=function(e,t){return t.isExpandedFromProps!==e.isExpanded?{isExpanded:e.isExpanded,isExpandedFromProps:e.isExpanded}:null},t.prototype.toggle=function(){this.setState({isExpanded:!this.state.isExpanded})},t.prototype.expand=function(){this.setState({isExpanded:!0})},t.prototype.minimize=function(){this.setState({isExpanded:!1})},t.prototype.render=function(){var e,t,r=this.props,n=r.dataQA,a=r.forwardDomRef;return o.default.createElement("div",{className:i.default(s.default.block,(e={},e[s.default.expanded]=this.state.isExpanded,e[s.default.hasHeightAnimation]=this.props.animation.height,e)),"data-qa":n,ref:a},o.default.createElement("div",{className:i.default(s.default.content,(t={},t[s.default.hasOpacityAnimation]=this.props.animation.opacity,t))},this.props.children))},t.defaultProps={isExpanded:!1,animation:{height:!0,opacity:!0}},t}(o.Component);t.default=a},F03Y:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("f9eB")),i=n.__importDefault(r("+n3f")),s=r("6Alu"),a=r("BI4e"),c=r("9HyP"),u=r("msnB"),l=r("2Ii2"),d=n.__importDefault(r("ALJ0")),f=n.__importDefault(r("p+7X")),p=!1;window.addEventListener("beforeunload",(function(){p=!0})),t.default=function(e){var t;(void 0===e?{}:e).agent;return{init:function(e,r){var h,g,m,v,b,y,O=e.getRequest(),_=O.httpMethod,j=void 0===_?l.HttpMethods.GET:_,w=O.url,k=O.query,E=O.queryNoCache,S=O.headers,T=O.type,P=void 0===T?"form":T,x=O.payload,C=O.attaches,M=void 0===C?[]:C,R=O.timeout,I=O.withCredentials,D=O.abortPromise,A=O.responseType,L=!1,N=j.toUpperCase(),q=N===l.HttpMethods.GET||N===l.HttpMethods.HEAD;if(M.length)g=(h=f.default(x,M)).getHeaders&&h.getHeaders();else{var F=i.default(P,P,l.REQUEST_TYPES);g=F?{"Content-type":F}:{},q||(h=u.serialize(P,x))}if(o.default){var U=new o.default;v=U.signal;var H=function(e){L||(L=!0,U.abort(),r({status:s.Status.ERROR,error:e||{}}))};D&&D.then(H),R&&(m=setTimeout((function(){H(new Error("Request timed out"))}),R)),e.updateInternalMeta(l.PROTOCOL_HTTP,{requestAbort:H})}else R&&(m=setTimeout((function(){r({status:s.Status.ERROR,error:new Error("Request timed out")}),L=!0}),R));a.fetch(c.addQuery(c.normalizeUrl(w),n.__assign(n.__assign(n.__assign({},q?x:{}),E),k)),{signal:v,method:N,headers:n.__assign(n.__assign({},g),S),agent:t,credentials:I?"include":"same-origin",body:h,timeout:R}).then((function(t){return b=t,e.updateInternalMeta(l.PROTOCOL_HTTP,{response:b}),b[A]?b[A]():d.default(b)})).then((function(e){if(!L){if(y=e,!b.ok)throw new Error(b.statusText);r({status:s.Status.COMPLETE,response:y})}})).catch((function(e){L||e&&p||r({status:s.Status.ERROR,error:Object.assign(e,{status:b&&b.status,body:y}),response:y})})).then((function(){L=!0,m&&clearTimeout(m)}))}}}},FUWm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("cskU");class o extends n.TimeMetric{constructor(e){super(e),this.type="summary"}}t.Summary=o},FmNw:function(e,t,r){var n;function o(e){function r(){if(r.enabled){var e=r,o=+new Date,i=o-(n||o);e.diff=i,e.prev=n,e.curr=o,n=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var o=t.formatters[n];if("function"==typeof o){var i=s[c];r=o.call(e,i),s.splice(c,1),c--}return r})),t.formatArgs.call(e,s);var u=r.log||t.log||console.log.bind(console);u.apply(e,s)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r("a2a8"),t.names=[],t.skips=[],t.formatters={}},Fyko:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaConsumer=t.MediaProvider=t.MediaContext=void 0;var n=r("sV9m"),o=n.__importStar(r("6PeD")),i=r("JaRI"),s=n.__importDefault(r("IWcU"));t.MediaContext=s.default,t.MediaProvider=function(e){var r=e.value,n=e.children;return o.createElement(t.MediaContext.Provider,{value:r},n)};t.MediaConsumer=function(e){var r=e.children;return o.createElement(t.MediaContext.Consumer,null,(function(e){return function(e,t){return t?e(t):o.createElement(i.FallbackMediaProvider,null,e)}(r,e)}))}},G2jR:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("sV9m"),o=r("HqrZ");let i=class{};i=Object(n.__decorate)([Object(o.g)({providers:[]})],i)},GFzn:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillMap=t._addToMap=t.getTemper=t.getMap=t._map=void 0;var n=r("sV9m"),o=n.__importDefault(r("6PeD")),i=n.__importDefault(r("KtHL"));t._map={},t.getMap=function(){return t._map},t.getTemper=function(){window.__tempref59452||(window.__tempref59452={});var e=window.__tempref59452;return void 0===e.externals&&(e.externals={react:o.default,"react-dom":i.default}),void 0===e.modules&&(e.modules={}),e},t._addToMap=function(e,r){t._map[e]=r},t.fillMap=function(){var e=t.getTemper();for(var r in e.modules){var n=e.modules[r];!1===n.initialized&&(n.initialize(),n.initialized=!0),t._addToMap(r,n.exports)}return t._map},t.default=t.fillMap},Gi57:function(e,t,r){"use strict";r.d(t,"a",(function(){return V}));var n=r("sV9m"),o=r("HqrZ"),i=r("vek/"),s=r("Ul1X"),a=r("45F3");const c=e=>Math.round(e)/1e3,u=e=>t=>e.test(t),l=u(/\.js$/),d=u(/\.css$/),f=u(/\.(?:svg|png|jpeg|webp|jpg)$/),p=u(/\.(?:woff|eot|woff2|ttf)/);var h;!function(e){e.html="html",e.js="js",e.css="css",e.img="img",e.font="font",e.other="other"}(h||(h={}));const g=(e,t)=>{if(e.getEntriesByType)return e.getEntriesByType(t)},m=e=>{const t=g(e,"paint");if(t&&t[0])return t[0].startTime},v=(e,t)=>e&&e[t]||0,b=(e,t)=>({duration:v(e,"duration")+c(t.duration),transferSize:v(e,"transferSize")+t.transferSize,encodedBodySize:v(e,"encodedBodySize")+t.encodedBodySize}),y=e=>{const t={},r=g(e,"resource");r&&r.length>0&&r.forEach((e=>{const r=(e=>{switch(!0){case d(e):return h.css;case l(e):return h.js;case f(e):return h.img;case p(e):return h.font;default:return h.other}})(e.name.split("?",1)[0]);h[r]&&(t[r]=b(t[r],e))}));const n=g(e,"navigation");return n&&n.length>0&&(t[h.html]=b({},n[0])),t};var O,_,j,w,k,E,S,T=r("dAUr"),P=r("UBCb"),x=function(){return(x=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=function(){function e(e){void 0===e&&(e={}),this.config={logging:!1},this.config=x(x({},this.config),e)}return e.prototype.printError=function(e,t){if(this.config.logging){var r="🛑 %cERROR: "+e+" failed, because "+t.message;window.console.log(r,"color: #C40B08; font-size:11px;")}},e}(),M=function(){return(M=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},R=function(){function e(e,t){this.logger=t,this.config=e}return e.prototype.init=function(e){this.initSendingMetricsToMonitoringService(e)},e.prototype.initSendingMetricsToMonitoringService=function(e){var t=this;window.addEventListener("unload",(function(){try{var r=t.config,n=r.app,o=r.env,i=r.group,s=r.endpoint,a=JSON.stringify(M(M({},e),{app:n,env:o,group:i}));n&&o&&i&&s&&navigator.sendBeacon(s,a)}catch(e){t.logger.printError("initSendingMetricsToMonitoringService",e)}}),!1)},e}();!function(e){e.paint="paint",e.longTask="longtask",e.navigation="navigation",e.firstInput="first-input",e.largestContentfulPaint="largest-contentful-paint"}(O||(O={})),function(e){e.device="device",e.longTasks="long-tasks",e.firstPaint="first-paint",e.firstInputDelay="first-input-delay",e.navigationTimings="navigation-timings",e.deviceInformation="device-information",e.networkInformation="network-information",e.firstContentfulPaint="first-contentful-paint",e.largestContentfulPaint="largest-contentful-paint"}(_||(_={})),function(e){e.domainLookupTime="domain-lookup-time",e.serverResponseTime="server-response-time",e.serverConnectionTime="server-connection-time",e.downloadDocumentTime="download-document-time"}(j||(j={})),function(e){e.roundTripTime="round-trip-time",e.downlinkBandwidth="downlink-bandwidth",e.effectiveConnectionType="effective-connection-type"}(w||(w={})),function(e){e.total="total",e.firstLongTaskDuration="first-long-task-duration",e.firstLongTaskStartTime="first-long-task-start-time"}(k||(k={})),function(e){e.eventName="event-name",e.startTime="start-time",e.duration="duration"}(E||(E={})),function(e){e.mobile="mobile",e.desktop="desktop"}(S||(S={}));var I=[O.paint,O.longTask,O.navigation,O.firstInput,O.largestContentfulPaint],D=function(){function e(e,t){var r;this.metrics=((r={})[_.device]=null,r[_.longTasks]=null,r[_.firstPaint]=null,r[_.firstInputDelay]=null,r[_.navigationTimings]=null,r[_.networkInformation]=null,r[_.firstContentfulPaint]=null,r[_.largestContentfulPaint]=null,r),this.logger=e,this.monitoring=t}return e.prototype.init=function(){this.initMonitoringService(),this.initDeviceInformation(),this.initNetworkInformation(),this.initPerformanceObservers()},e.prototype.initMonitoringService=function(){this.monitoring.init(this.metrics)},e.prototype.initDeviceInformation=function(){this.metrics[_.device]=-1!==navigator.userAgent.indexOf("Mobi")?S.mobile:S.desktop},e.prototype.initNetworkInformation=function(){var e,t=navigator.connection;t&&(this.metrics[_.networkInformation]=((e={})[w.roundTripTime]=t.rtt,e[w.downlinkBandwidth]=t.downlink,e[w.effectiveConnectionType]=t.effectiveType,e))},e.prototype.initPerformanceObservers=function(){var e=this;this.observedEntryTypes.forEach((function(t){switch(t){case O.longTask:e.initLongTasksObserver();break;case O.paint:e.initPaintTimingsObservers();break;case O.firstInput:e.initFirstInputDelayObserver();break;case O.navigation:e.initNavigationTimingsObserver();break;case O.largestContentfulPaint:e.initLargestContentfulPaintObserver()}}))},e.prototype.initNavigationTimingsObserver=function(){var e=this;try{var t=new PerformanceObserver((function(r){var n,o=r.getEntries()[0],i=o.startTime,s=o.connectEnd,a=o.responseEnd,c=o.requestStart,u=o.connectStart,l=o.responseStart,d=o.domainLookupEnd,f=o.domainLookupStart;e.metrics[_.navigationTimings]=((n={})[j.domainLookupTime]=d-f,n[j.serverResponseTime]=l-c,n[j.serverConnectionTime]=s-u,n[j.downloadDocumentTime]=a-i,n),t.disconnect()}));t.observe({type:O.navigation,buffered:!0})}catch(e){this.logger.printError("initNavigationTimingsObserver",e)}},e.prototype.initPaintTimingsObservers=function(){var e=this;try{var t=new PerformanceObserver((function(r){r.getEntries().forEach((function(r){r.name===_.firstPaint&&(e.metrics[_.firstPaint]=r.startTime,t.disconnect())}))})),r=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){t.name===_.firstContentfulPaint&&(e.metrics[_.firstContentfulPaint]=t.startTime,r.disconnect())}))}));t.observe({type:O.paint,buffered:!0}),r.observe({type:O.paint,buffered:!0})}catch(e){this.logger.printError("initPaintTimingsObservers",e)}},e.prototype.initFirstInputDelayObserver=function(){var e=this;try{var t=new PerformanceObserver((function(r){var n,o=r.getEntries()[0];e.metrics[_.firstInputDelay]=((n={})[E.eventName]=o.name,n[E.startTime]=o.startTime,n[E.duration]=o.processingStart-o.startTime,n),t.disconnect()}));t.observe({type:O.firstInput,buffered:!0})}catch(e){this.logger.printError("initFirstInputDelayObserver",e)}},e.prototype.initLargestContentfulPaintObserver=function(){var e=this;try{var t=new PerformanceObserver((function(t){var r=t.getEntries(),n=r[r.length-1];e.metrics[_.largestContentfulPaint]=n.startTime}));t.observe({type:O.largestContentfulPaint,buffered:!0}),this.setDisconnectPerformanceObserverTimeout(t)}catch(e){this.logger.printError("initLargestContentfulPaintObserver",e)}},e.prototype.initLongTasksObserver=function(){var e,t=this;try{null===this.metrics[_.longTasks]&&(this.metrics[_.longTasks]=((e={})[k.total]=0,e[k.firstLongTaskDuration]=0,e[k.firstLongTaskStartTime]=0,e));var r=new PerformanceObserver((function(e){var r=e.getEntries(),n=t.metrics[_.longTasks];if(n[k.total]+=r.length,0===n[k.firstLongTaskDuration]){var o=r[0];n[k.firstLongTaskDuration]=o.duration,n[k.firstLongTaskStartTime]=o.startTime}}));r.observe({type:O.longTask}),this.setDisconnectPerformanceObserverTimeout(r)}catch(e){this.logger.printError("initLongTasksObserver",e)}},e.prototype.setDisconnectPerformanceObserverTimeout=function(e,t){void 0===t&&(t=15e3),setTimeout((function(){return e.disconnect()}),t)},Object.defineProperty(e.prototype,"observedEntryTypes",{get:function(){var e=PerformanceObserver.supportedEntryTypes.length?PerformanceObserver.supportedEntryTypes:null;return e?I.filter((function(t){return e.includes(t)})):I},enumerable:!0,configurable:!0}),e}(),A=function(){return(A=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},L=null,N=function(e){if(this.config={app:"",env:"",group:"",endpoint:"",logging:!1},L)return L;if("navigator"in window&&"sendBeacon"in navigator&&"performance"in window&&"PerformanceObserver"in window&&"supportedEntryTypes"in PerformanceObserver){this.config=A(A({},this.config),e);var t=new C({logging:this.config.logging}),r=new R({app:this.config.app,env:this.config.env,group:this.config.group,endpoint:this.config.endpoint},t);new D(t,r).init(),L=this}};let q=class{};q=Object(n.__decorate)([Object(o.g)({providers:[{provide:o.h.init,useFactory:({appInfo:e,envManager:t})=>()=>((e,t)=>new N({group:"tramvai",app:e.appName,env:t.get("CLIENT_PERFORMANCE_MONITORING_ENV"),endpoint:t.get("CLIENT_PERFORMANCE_MONITORING_ENDPOINT")}))(e,t),multi:!0,deps:{appInfo:o.c,envManager:s.m}}]})],q);"undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&performance.clearMeasures;let F=class{};F=Object(n.__decorate)([Object(o.g)({imports:[q],providers:[{provide:a.a,useFactory:()=>{const e=new P.Registry;return{registry:e,counter:t=>new P.Counter(Object.assign({registers:[e]},t)),gauge:t=>new P.Gauge(Object.assign({registers:[e]},t)),histogram:t=>new P.Histogram(Object.assign({registers:[e]},t)),summary:t=>new P.Summary(Object.assign({registers:[e]},t))}},scope:i.c.SINGLETON},{provide:o.h.init,useFactory:({logger:e})=>()=>{window.addEventListener("load",(()=>{setTimeout((()=>{const t=function(){let e;try{if(e=window.performance,!e.timing||!e.timing.loadEventEnd)throw 0===e.timing.loadEventEnd&&console.error("Library used at browser initialization page. Reed docs"),new Error("Not implemented timing api")}catch(e){return{}}const{requestStart:t,responseStart:r,responseEnd:n,domComplete:o,loadEventEnd:i,domInteractive:s,navigationStart:a}=e.timing,u=[{key:"connection",start:a,end:t},{key:"backend",start:t,end:r},{key:"pageDownload",start:r,end:n},{key:"first-paint",start:0,end:m(e)},{key:"domInteractive",start:a,end:s},{key:"domComplete",start:a,end:o},{key:"pageLoadTime",start:a,end:i}],l={};return u.forEach((e=>{const t=c(e.end-e.start);l[e.key]=t>0||t<2e3?t:void 0})),l.download=y(e),l}();e({name:"metrics:perf",defaults:{remote:{emitLevels:{info:!0}}}}).info(Object.assign(Object.assign({},t),{event:"perf-timings"}))}),0)}))},multi:!0,deps:{logger:s.q}},{provide:o.h.init,multi:!0,useFactory:({metrics:e,basePapiUrl:t})=>()=>{window.addEventListener("unload",(()=>{const r=e.registry.getMetricsAsJSON().map((({name:e,values:t})=>({name:e,values:t})));navigator.sendBeacon&&navigator.sendBeacon(t+"/metrics",JSON.stringify(r))}))},deps:{metrics:a.a,basePapiUrl:T.d}}]})],F);const U=[{provide:T.d,useFactory:({appInfo:e})=>`/${e.appName}/papi`,deps:{appInfo:o.c}},{provide:T.b,useFactory:({appInfo:e})=>`/${e.appName}/private/papi`,deps:{appInfo:o.c}}];let H=class{};H=Object(n.__decorate)([Object(o.g)({providers:[...U]})],H);let V=class{};V=Object(n.__decorate)([Object(o.g)({imports:[F,H],providers:[]})],V)},"GiL/":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){for(var r in void 0===t&&(t={}),t)if(Object.prototype.hasOwnProperty.call(t,r)&&!e(t[r],r,t))return!1;return!0}))},Gsl7:function(e,t,r){"use strict";var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,O=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function j(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case s:case c:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case m:case u:return e;default:return t}}case i:return t}}}function w(e){return j(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=s,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=c,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||j(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return j(e)===l},t.isContextProvider=function(e){return j(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return j(e)===p},t.isFragment=function(e){return j(e)===s},t.isLazy=function(e){return j(e)===v},t.isMemo=function(e){return j(e)===m},t.isPortal=function(e){return j(e)===i},t.isProfiler=function(e){return j(e)===c},t.isStrictMode=function(e){return j(e)===a},t.isSuspense=function(e){return j(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===f||e===c||e===a||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===l||e.$$typeof===p||e.$$typeof===y||e.$$typeof===O||e.$$typeof===_||e.$$typeof===b)},t.typeOf=j},Gygw:function(e,t,r){"use strict";e.exports=function(){}},"H/m5":function(e,t,r){(function(e){e.exports=function(e,t){if(!1===t)return e;var r=e.load;return e.then=function(e){return r().then((function(t){return e&&e(t)}))},e.catch=function(e){return r().catch((function(t){return e&&e(t)}))},e};var t=!1;!function(){if(!t){var n,o=void 0!==r;try{if(o){n=r("b+vP")}else{n=("undefined"==typeof require?e.require:require)("react-universal-component")}n&&(n.setHasBabelPlugin(),t=!0)}catch(e){}}}()}).call(this,r("op1K")(e))},HPRs:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy").__importDefault(r("6PeD")),o=r("6tfJ");t.default=function(e){var t=e.tree,r=e.act,i=e.use,s=e.forwardDomRef,a="<Maker tree={"+(t===Object(t)?JSON.stringify(t):String(t))+"} use="+("function"==typeof i?"function":String(i))+" act="+("function"==typeof r?"function":String(r))+" />";return n.default.createElement(o.Info,{title:a,mode:"info",forwardDomRef:s})}},Hd8N:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return null!=t?t[e]:void 0}))},HqrZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return P})),r.d(t,"c",(function(){return g})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return v})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return y})),r.d(t,"i",(function(){return x})),r.d(t,"j",(function(){return w})),r.d(t,"k",(function(){return T}));var n=r("vek/"),o=r("1JnH"),i=r.n(o),s=r("7pC/"),a=r.n(s),c=r("r5ud"),u=r.n(c);const l="_module_parameters_";function d({providers:e,imports:t,deps:r={}}){return n=>Object.assign(n,{[l]:{providers:e,deps:r,imports:t,name:n.name,id:`${n.name}-${Math.random()}`}})}const f=Object(n.f)("bundleList"),p=Object(n.f)("actionsList"),h=Object(n.f)("modulesList"),g=Object(n.f)("appInfo"),m=Object(n.f)("commandLineRunner"),v=Object(n.f)("commandLines"),b={multi:!0},y={init:Object(n.f)("init",b),listen:Object(n.f)("listen",b),customerStart:Object(n.f)("customer_start",b),resolveUserDeps:Object(n.f)("resolve_user_deps",b),resolvePageDeps:Object(n.f)("resolve_page_deps",b),generatePage:Object(n.f)("generate_page",b),clear:Object(n.f)("clear",b),spaTransition:Object(n.f)("spa_transition",b),close:Object(n.f)("close",b)},O=e=>!1!==Boolean(e)&&(l in e||"mainModule"in e&&O(e.mainModule)),_=e=>!!e.mainModule;class j{constructor({name:e,modules:t,bundles:r,actions:o=[],providers:i}){this.di=Object(n.e)(),this.modulesIdInitialized=new Set,this.modulesNameInitialized=new Set,this.modulesToResolve=new Set,this.walkOfProviders(function(e,t,r,o){return[{provide:g,scope:n.c.SINGLETON,useValue:{appName:e}},{provide:f,scope:n.c.SINGLETON,useValue:t},{provide:p,scope:n.c.SINGLETON,useValue:r,multi:!0},{provide:h,scope:n.c.SINGLETON,useValue:o}]}(e,r,o,t)),t.forEach((e=>{this.walkOfModule(e)})),i&&this.walkOfProviders(i)}async initialization(e,t="init"){const r=await this.di.get(m).run(e,t);return this.resolveModules(),r}resolveModules(){this.modulesToResolve.forEach((e=>{new e(this.resolveModuleDeps(e))}))}resolveModuleDeps(e){const{deps:t}=e[l];if(t)return this.di.getOfDeps(t)}walkOfProviders(e){e.forEach((e=>{this.di.register(e)}))}walkOfModule(e){if(!O(e))throw new Error("В списке модулей приложения передан некорректный модуль");let t;if(_(e)){const r=e.mainModule[l];t=Object.assign({},r),t.providers=t.providers.concat(e.providers||[]);const n=t.imports||[];t.imports=n.concat(e.imports||[])}else t=e[l];this.modulesIdInitialized.has(t.id)||(this.modulesIdInitialized.add(t.id),this.modulesNameInitialized.add(t.name),t.imports&&t.imports.forEach((e=>{this.walkOfModule(e)})),this.modulesToResolve.add(_(e)?e.mainModule:e),this.walkOfProviders(t.providers))}}function w(e){let t;try{t=new j(e)}catch(e){throw e.appCreationError=!0,e}return t.initialization("client").then((()=>t))}const k=(e,t)=>Array.isArray(e)&&Array.isArray(t)?i()(e,t):"object"==typeof e&&"object"==typeof t?a()(k,e,t):t,E=a()(k),S=e=>{if(!e||!e.length)return{};const t=e.map((e=>E(S(e.presets),u()(["presets"],e))));return 1===t.length?t[0]:E(...t)};function T(e){let t={};return e.presets&&(t=S(e.presets)),E(t,e)}const P="__action_parameters__";function x(e){const t=Object.assign(e.fn,{[P]:e});return e.conditions||(e.conditions={}),t}},Hqua:function(e,t,r){"use strict";var n=r("ITDq"),o=r("CPiL");e.exports=n(3,(function(e,t,r){void 0===e&&(e=[]),void 0===r&&(r={});var n=o(e,r);return null!=n?n:t}))},I4Rs:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy").__importDefault(r("UVr1"));t.default=n.default},IAEy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("72zy")),s=r("pID9");t.default=function(e){return function(t){var r=o.useRef();var a=function(){if(!r.current){var e=t.dival&&t.dival.trackingOptions||void 0,n=new i.default(e);t.tree&&n.setTree(t.tree),r.current=n}return r.current}(),c=o.useRef((function(e,r){switch(e&&e.type){case"block-tracking-data":a.extendBlockTracking(r.id,e.payload);break;case"track-block":if(e.target)s.trackAction(e);else{var n=e.event,o=void 0===n?"blockInteraction":n,i=e.payload;a.trackBlock(r.id,o,i)}break;default:if(!s.trackAction(e)&&"function"==typeof t.act)return t.act(e,r)}}));return o.useEffect((function(){return a.mount(),function(){return a.unmount()}}),[]),o.default.createElement(e,n.__assign({},t,{act:c.current,saveDomRef:function(e,r){return t.saveDomRef&&t.saveDomRef(e,r),a.registerElement(e,r)}}))}}},ITDq:function(e,t,r){"use strict";e.exports=function(e,t){return function r(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e?t.apply(this,o):function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,o.concat(t))}}}},IWcU:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("sV9m").__importStar(r("6PeD")),i="__MEDIA_CONTEXT_GLOBAL_REACT_CONTEXT__";(n=window[i])||"undefined"==typeof globalThis||(n=globalThis[i]),n||void 0===e||(n=e[i]),n||(n=o.createContext(null),"undefined"!=typeof globalThis&&(globalThis[i]=n),void 0!==e&&(e[i]=n),window[i]=n),t.default=n}).call(this,r("BewK"))},Ioz2:function(e,t,r){"use strict";e.exports=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var o=0;o<e.length;o++)if(e[o][0].apply(this,r))return e[o][1].apply(this,r)}}},Iwce:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.httpMethod,r=void 0===t?"GET":t,n=e.url,o=e.payload,i=e.query,s=e.rawQueryString,a=void 0===s?"":s,c=e.additionalCacheKey,u=void 0===c?"":c;return r.toLowerCase()+n+JSON.stringify(o||"")+JSON.stringify(i||"")+a+JSON.stringify(u)}},"JC/+":function(e,t,r){(function(n){function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=r("FmNw")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if(window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,r("Lnon"))},JaRI:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackMediaProvider=void 0;var n=r("sV9m"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("BWuC")),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){return this.props.children(this.props.media)},t}(o.PureComponent);t.FallbackMediaProvider=i.default()(s)},Jdlq:function(e,t,r){"use strict";var n,o=r("SlZt");try{n=r("7+8w").isElement}catch(e){}n||(n=function(e){return!!e&&o("$$typeof",e)}),e.exports=n},JuBB:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(3,(function(e,t,r){for(var n in void 0===r&&(r={}),r)Object.prototype.hasOwnProperty.call(r,n)&&(t=e(t,r[n],n,r));return t}))},"K+YV":function(e,t,r){"use strict";r.d(t,"a",(function(){return J}));var n=r("sV9m"),o=r("8ygP"),i=r.n(o),s=r("9vPl"),a=r.n(s),c=r("HqrZ"),u=r("s5GS"),l=r("Ti8s"),d=r.n(l),f=r("SlZt"),p=r.n(f),h=r("53i8"),g=r.n(h),m=r("JuBB"),v=r.n(m);class b{constructor(){this.state=new Map}eachMeta(e){this.state.forEach(((t,r)=>e(t,r)))}updateMeta(e,t){return g()(((t,r)=>{if(!t&&null!==t)return;const n=this.state.get(r);(!n||e>=n.priority)&&(null===t?this.state.delete(r):this.state.set(r,{value:t,priority:e}))}),t),this}get(e){return this.state.get(e)}reset(){this.state.clear()}}const y=e=>p()("tag",e)?e:null;class O{constructor({list:e,transformValue:t=d.a,converters:r={},metaWalk:n}){this.listSources=e,this.transformValue=t,this.converters=r,this.metaWalk=n}dataCollection(...e){var t;const r=null!==(t=this.metaWalk)&&void 0!==t?t:new b;this.listSources.map((t=>t(r,...e)));let n=[];return r.eachMeta(((e,t)=>{const r=this.transformValue(e),o=(this.converters[t]||y)(r.value);o&&(n=n.concat(a()(o)?o.filter(d.a):o))})),r.reset(),n}}const _="data-meta-dynamic";v()(((e,t,r)=>`${e} ${r}="${t}"`),"");const j=({tag:e,attributes:t,innerHtml:r})=>{const n=document.createElement(e);return r&&(n.innerHTML=r),g()(((e,t)=>{n.setAttribute(t,e||"")}),t),n.setAttribute(_,!0),n};class w{constructor(e){this.meta=e}update(){const e=document.head||document.querySelector("head"),t=this.meta.dataCollection().map(j),r=e.querySelectorAll("[data-meta-dynamic]"),n=document.createDocumentFragment();[].slice.call(r).forEach((t=>e.removeChild(t))),t.forEach((e=>n.appendChild(e))),e.insertBefore(n,e.firstChild)}}var k=r("g4He"),E=r.n(k),S=r("wTcq"),T=r.n(S),P=r("VoAY"),x=r.n(P),C=r("Ul1X"),M=r("vek/"),R=r("ITDq"),I=r.n(R);const D=E()(T.a,x.a,d.a),A=e=>e.priority>10?{priority:e.priority,value:D(e.value)}:e,L=Object(M.f)("metaDefaultPack"),N=Object(M.f)("metaWalk"),q=Object(M.f)("metaUpdater",{multi:!0}),F=(e,t={})=>{const r={};return Object.keys(t).forEach((n=>{var o;r[e+(o=n,`${o.charAt(0).toUpperCase()}${o.slice(1)}`)]=t[n]})),r},U=[{provide:N,useClass:b},{provide:L,useValue:{title:"Тинькофф — Кредитные и дебетовые карты, кредиты для бизнеса и физических лиц",ogTitle:"Кредитные и дебетовые карты с доставкой по всей России. Моментальные платежи и переводы с карты на карту.",ogDescription:"Онлайн оформление кредитных карт и кредитов за 5 минут. Доставка банковских карт домой и в офис. Лучший онлайн-банк и универсальный платежный сервис.",ogSiteName:"Тинькофф Банк",ogImage:"http://static2.tinkoff.ru/portal/share/tinkoffru.png",ogImageSecure:"https://static2.tinkoff.ru/portal/share/tinkoffru.png"}},{provide:q,multi:!0,useFactory:({defaultMeta:e})=>{return t=e,e=>{e.updateMeta(0,t)};var t},deps:{defaultMeta:L}},{provide:q,useFactory:({pageService:e})=>t=>{const r=e.getMeta().seo||{},n=r.shareSchema||{},o=Object.assign(Object.assign(Object.assign({},r.metaTags),F("twitter",n.twitterCard)),F("og",n.openGraph));t.updateMeta(10,o)},multi:!0,deps:{pageService:u.i}},{provide:q,multi:!0,useFactory:({context:e,metaList:t})=>{const r=i()(t||[]);return t=>{r.forEach((r=>r(e,t)))}},deps:{context:C.i,metaList:{token:"metaList",optional:!0}}}],H=I()(2,((e,t)=>t&&{tag:e,innerHtml:t})),V=I()(2,((e,t)=>t&&{tag:"meta",attributes:{name:e,content:t}})),B=I()(2,((e,t)=>t&&{tag:"meta",attributes:{property:e,content:t}})),z=I()(2,((e,t)=>t&&{tag:"link",attributes:{rel:e,href:t}})),G={all:[V("robots","all"),V("robots","index, follow"),V("robots","noarchive")],noindex:[V("robots","noindex, follow"),V("robots","noarchive")],nofollow:[V("robots","index, nofollow"),V("robots","noarchive")],none:[V("robots","none"),V("robots","noindex, nofollow"),V("robots","noarchive")]},$={title:H("title"),description:V("description"),keywords:V("keywords"),canonical:z("canonical"),viewport:V("viewport"),ogTitle:B("og:title"),ogDescription:B("og:description"),ogSiteName:B("og:site_name"),ogUrl:B("og:url"),ogType:B("og:type"),ogImage:B("og:image"),ogImageSecure:B("og:image:secure_url"),ogImageType:B("og:image:type"),ogImageAlt:B("og:image:alt"),ogImageWidth:B("og:image:width"),ogImageHeight:B("og:image:height"),ogLocale:B("og:locale"),twitterTitle:V("twitter:title"),twitterDescription:V("twitter:description"),twitterCard:V("twitter:card"),twitterSite:V("twitter:site"),twitterCreator:V("twitter:creator"),twitterImage:V("twitter:image"),twitterImageAlt:V("twitter:image:alt"),robots:e=>G[e]};var W;let J=W=class{static forRoot(e){if(a()(e))return{mainModule:W,providers:[{provide:"metaList",useValue:e,multi:!0}]};const{metaUpdaters:t,metaDefault:r}=e,n=[];return r&&n.push({provide:L,useValue:r}),t&&n.push({provide:q,useValue:t,multi:!0}),{providers:n,mainModule:W}}};J=W=Object(n.__decorate)([Object(c.g)({providers:[...U,{provide:u.p,multi:!0,useFactory:({metaWalk:e,metaUpdaters:t})=>{const r=new O({list:i()(t||[]),transformValue:A,converters:$,metaWalk:e});return e=>{e.on("after-navigate",(async(e,t,n)=>{await n(),new w(r).update()}))}},deps:{metaWalk:N,metaUpdaters:{token:q,optional:!0}}}]})],J)},KJat:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return T}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X"),s=r("wkad"),a=r.n(s),c=r("1IN0"),u=r("vek/"),l=r("s5GS"),d=r("+n3f"),f=r.n(d),p=r("cWxP"),h=r("UDiI"),g=r("UbHL");const m=Object(u.f)("analytics"),v=Object(u.f)("analyticsConfig"),b=Object(p.d)("Set analytics config"),y=Object(p.e)("analytics",{}).on(b,((e,t)=>Object.assign(Object.assign({},e),{config:t}))),O=[...[{provide:i.g,multi:!0,useValue:[y]}],{provide:o.h.resolvePageDeps,multi:!0,useFactory:({tracking:e,pageService:t})=>function(){e.extend(f()("analytics",{},t.getMeta()))},deps:{tracking:m,pageService:l.i}},{provide:v,useFactory:({store:e})=>{const{config:t={}}=e.getState().analytics;return t},deps:{store:i.A}}],_="userType",j={Visitor:0,"Client-Light":10,Applicant:20,"Client-Heavy":30},w=e=>j[e]||0;let k=!1;const E=({tracking:e,cookies:t,logger:r,store:n})=>{const o=r("analytics:tracking:user-type"),{roles:i}=n.getState(),s=t.get(_)||"Visitor",a=w(s),c=(e=>{let t;switch(!0){case Object(g.k)(e):t="Client-Light";break;case Object(g.j)(e):t="Client-Heavy";break;default:t="Visitor"}return t})(i),u=w(c);let l=s;u>=a&&(l=c,((e,t,r)=>{t.debug({message:"New user level",userType:r}),e.set({name:_,value:r,expires:63072e3})})(t,o,c)),e.extend({userType:l,userStatus:Object(g.i)(i)?"Logged In":"Not Logged In"}),!k&&u>a&&Object(g.i)(i)&&(k=!0,e.event("ibSuccess"))},S=[{provide:o.h.resolvePageDeps,useFactory:({store:e,tracking:t,logger:r,cookies:n})=>()=>((({tracking:e,cookies:t,logger:r,store:n})=>{let{roles:o}=n.getState();o&&(E({tracking:e,cookies:t,logger:r,store:n}),n.subscribe((()=>{const{roles:i}=n.getState();i!==o&&(o=i,E({tracking:e,cookies:t,logger:r,store:n}))})))})({store:e,tracking:t,logger:r,cookies:n}),Promise.resolve()),deps:{store:i.A,tracking:m,logger:i.q,cookies:h.a},multi:!0}];let T=class{};T=Object(n.__decorate)([Object(o.g)({providers:[{provide:i.n,multi:!0,useValue:[{key:"TINKOFF_API",dehydrate:!1},{key:"CONFIG_API",dehydrate:!1}]},{provide:m,useFactory:({logger:e})=>{(window.twtConfig=window.twtConfig||{}).logger=e("analytics:tracking");const t=new a.a;return t.resolve(Object(c.getTracking)()),t},deps:{logger:i.q}},{provide:o.h.spaTransition,multi:!0,useFactory:({tracking:e})=>()=>{e.updateLocation()},deps:{tracking:m}},...O,...S]})],T)},Krsf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("j9ye");t.default=function(e){var t=void 0===e?{}:e,r=t.shouldExecute,o=void 0===r||r,i=t.getCacheKey,s=void 0===i?void 0:i,a={},c=function(e){var t=e.getState(),r=n.getCacheKey(e,s);if(r&&a[r]){var o=a[r];delete a[r],o.forEach((function(e){e({status:t.status,response:t.response,error:t.error})}))}};return{shouldExecute:n.shouldCacheExecute("deduplicate",o),init:function(e,t){var r=n.getCacheKey(e,s);if(a[r])return e.updateExternalMeta(n.metaTypes.CACHE,{deduplicated:!0}),void a[r].push(t);a[r]=[],t()},complete:function(e,t){c(e),t()},error:function(e,t){c(e),t()}}}},KtHL:function(e,t,r){e.exports=r("e5XK")("KtHL")},LCbF:function(e,t,r){"use strict";var n=r("7+8w"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return n.isMemo(e)?s:a[e.$$typeof]||o}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var s=l(r);d&&(s=s.concat(d(r)));for(var a=c(t),g=c(r),m=0;m<s.length;++m){var v=s[m];if(!(i[v]||n&&n[v]||g&&g[v]||a&&a[v])){var b=f(r,v);try{u(t,v,b)}catch(e){}}}}return t}},LS0E:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===t&&(t=[]);for(var r=0;r<t.length;r++)e(t[r],r,t)}))},LVSF:function(e,t,r){"use strict";r.d(t,"a",(function(){return te}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X"),s=r("UDiI"),a=r("9+TJ"),c=r("zsJm"),u=r("2T11"),l=r.n(u),d=r("vqSi"),f=r.n(d),p=r("EDne"),h=r.n(p),g=r("N7Wv"),m=r.n(g),v=r("VbTK"),b=r.n(v),y=r("sGsm"),O=r.n(y),_=r("4fSt");const j=["click","scroll","keypress"],w=12e4,k=r.n(_)()(["sessionWillExpireIn"],(e=>e-(new Date).getTime()<=24e4)),E=m()(b()(["accessLevel"],"ANONYMOUS")),S=(h()(k,E),f()(E));var T=class{constructor({sessionManager:e}){this.startPollingAuthorizedSessionStatus=()=>{if(this.alreadyPollingSession())return;const e=({millisLeft:e})=>{const r=e<w?e:w;return this.schedule(t,r)},t=()=>this.sessionManager.updateSessionStatus(this.sessionManager.getSessionId()).then(O()(S(e))).catch(this.unSchedule);this.scheduleHandle&&this.unSchedule(),this.schedule(t,w)},this.schedule=(e,t)=>{this.scheduleHandle=setTimeout(e,t)},this.unSchedule=()=>{clearTimeout(this.scheduleHandle),this.scheduleHandle=void 0},this.sessionManager=e,this.scheduleHandle=null}startProlongateSessionOnUserActivity(){this.startListenForUserActivity((()=>{this.sessionManager.prolongateSession(this.sessionManager.getSessionId())}))}alreadyListeningForUserActivity(){return!!this.throttledUserActivitySubscriber}alreadyPollingSession(){return!!this.scheduleHandle}startListenForUserActivity(e){this.alreadyListeningForUserActivity()||(this.throttledUserActivitySubscriber=l()(6e4,(()=>setTimeout(e,5e3))),j.forEach((e=>{window.addEventListener(e,this.throttledUserActivitySubscriber,!0)})))}},P=r("Q40W"),x=r("s5GS"),C=r("CPiL"),M=r.n(C),R=r("Hqua"),I=r.n(R),D=r("DqCI"),A=r.n(D),L=r("UbHL"),N=r("bXyb"),q=r("cWxP"),F=r("vYnz"),U=r.n(F),H=r("8ygP"),V=r.n(H),B=r("AtJk");const z=(e,t)=>Object(L.i)(t)?"/summary/":A()("/login/",e.url)?void 0:Object(N.a)("/login/",{redirectTo:e.url,redirectType:I()(["config","properties","loginRedirectType"],"",e)}).path,G=Object(q.d)("UPDATE_SESSION"),$=Object(q.e)("session",{}).on(G,((e,t)=>t)),W=Object(q.d)("UPDATE_ROLES"),J={[L.b]:Object(L.c)()},K=Object(q.e)("roles",J).on(W,((e,t)=>t));class Y{constructor({sessionManager:e}){this.sessionManager=e}authenticate({success:e,pass:t}){this.sessionManager.authenticate().then(e).catch(t)}}class Q extends class{constructor({strategies:e=[]}){this.strategies=e}async authenticate(){for(let e=0,t=this.strategies.length;e<t;++e){const t=this.strategies[e],{status:r,payload:n}=await this.authenticateBy(t);if("success"===r)return n}}async authenticateBy(e){return new Promise((t=>{const r={pass:()=>t({status:"pass"}),success:e=>t({status:"success",payload:e})};e.authenticate(r)}))}}{constructor({strategies:e,sessionManager:t}){super({strategies:e}),this.prolongateSession=async e=>this.sessionManager.prolongateSession(e),this.sessionManager=t}async logout(){return this.sessionManager.logout()}async runAuthenticateFlow(){return this.sessionManager.runAuthenticateFlow()}}const X=[{provide:i.g,useValue:$,multi:!0},{provide:i.g,useValue:K,multi:!0},{provide:x.n,multi:!0,useFactory:({store:e})=>({route:t},r,n)=>{const{session:{requested:o},roles:i}=e.getState();return o&&((e,t)=>{const r={config:M()(["config","properties"],e)},n=Object(L.g)(r),o=Object(L.e)(Object(L.f)(r));return n.length?!Object(L.h)(t,n):Object(L.m)(t,o)})(t,i)?n("redirect",{redirect:z(t,i),replace:t===r}):n()},deps:{store:i.A}},{provide:i.a,useFactory:({context:e})=>({key:"auth",fn:t=>{const{requiredCoreRoles:r,requiredRoles:n=r}=t.conditions;if(n){const{roles:r,session:o}=e.getState();if(!Object(L.h)(r,n))return t.forbid();const i=(({guid:e,accessLevel:t,campaign:r})=>{const n={guid:e,accessLevel:t};return r&&(n.campaignId=r.id),n})(o);U()(t.getState(),i)||(t.allow(),t.setState(i))}}}),multi:!0,deps:{context:i.i}},{provide:P.a,useFactory:function({strategies:e,sessionManager:t}){const r=V()(e||[]);return new Q({sessionManager:t,strategies:r.concat(new Y({sessionManager:t}))})},deps:{sessionManager:P.e,strategies:{token:P.b,optional:!0}}}],Z="module:authenticate:auth";function ee({apiClient:e,pubsub:t,cookie:r,context:o,initialState:i}){return new B.b({initialState:i,apiClient:e,cookie:r,dispatcher:function({type:e,payload:r}){const i=o.getStore("session").getState(),s=function(e){const t=e.session,r=Object(n.__rest)(t,["sessionId"]),{accessLevel:i,guid:s}=o.getStore("session").getState();return Object.assign(r,{guid:i===r.accessLevel?s:(new Date).getTime()})}(r),a=o.getStore("roles").getState(),c=Object(L.d)(a,s);return Promise.all([o.dispatch(G(s)),o.dispatch(W(c))]).then((()=>t.publish(Z,Object.assign(Object.assign({currentSession:i},r),{roles:a,newRoles:c}))))}})}let te=class{};te=Object(n.__decorate)([Object(o.g)({imports:[a.b],providers:[...X,{provide:P.e,useFactory:({apiClient:e,pubsub:t,cookie:r,context:n})=>ee({apiClient:e,pubsub:t,cookie:r,context:n,initialState:{session:n.getStore("session").getState()}}),deps:{cookie:s.a,apiClient:c.g,pubsub:i.s,context:i.i}},{provide:P.d,useClass:T,deps:{sessionManager:P.e}},{provide:o.h.generatePage,useFactory:({authenticator:e,sessionLifetimeController:t,pubsub:r,context:n,pageService:o,componentRegistry:i,logger:s,customRedirectUrl:a})=>{const c=e=>{e&&t.startProlongateSessionOnUserActivity(),E(e)&&t.startPollingAuthorizedSessionStatus()};return r.subscribe(Z,(e=>{c(e.session),(({customRedirectUrl:e,pageService:t,componentRegistry:r,logger:n,payload:o,context:i})=>{var s,a;const c=n("auth:pubsub"),{roles:u,newRoles:l,session:d}=o;if(Object(L.i)(u)&&!Object(L.i)(l)||Object(L.l)(u)&&!Object(L.l)(l)){const n=!d.sessionId,o=(({customRedirectUrl:e,pageService:t,componentRegistry:r,sessionExpired:n,context:o})=>{var i,s,a;const c=t.getProperties()||{},{pageComponent:u,bundle:l}=c,d=r.get(u,l)||{},f=n?"sessionExpired":"himselfLogout";return(null==e?void 0:e())||(null===(i=null==c?void 0:c.redirects)||void 0===i?void 0:i[f])||(null===(a=null===(s=null==d?void 0:d.redirects)||void 0===s?void 0:s[f])||void 0===a?void 0:a.call(s,o,{sessionExpired:n}))})({customRedirectUrl:e,pageService:t,componentRegistry:r,sessionExpired:!!d.sessionId,context:i}),f=t.getProperties()||{},p=Object(L.g)({config:f}),h=Object(L.h)(u,p)&&!Object(L.h)(l,p),g=(({shouldGoHome:e})=>e?"/":"./")({shouldGoHome:!o&&n&&h}),m=o||g;let v;"./"===m&&(v=null===(a=null===(s=t.getCurrentRoute())||void 0===s?void 0:s.parsedUrl)||void 0===a?void 0:a.query),c.debug(`force redirect to ${m} after ${n?"user logout":"session expired"}`),t.navigate({url:m,query:v,force:!0})}})({customRedirectUrl:a,pageService:o,payload:e,logger:s,componentRegistry:i,context:n})})),function(){return e.authenticate().then((()=>{const e=n.getStore("session").getState();c(e)}))}},deps:{authenticator:P.a,sessionLifetimeController:P.d,pubsub:i.s,context:i.i,pageService:x.i,componentRegistry:i.h,logger:i.q,customRedirectUrl:{token:P.c,optional:!0}},multi:!0}]})],te)},LhCt:function(e,t,r){"use strict";r.d(t,"a",(function(){return V}));var n=r("sV9m"),o=r("HqrZ"),i=r("vek/"),s=r("Ul1X"),a=r("6/k4"),c=r("LS0E"),u=r.n(c),l=r("6PeD"),d=r.n(l),f=r("gqbd"),p=r.n(f),h=r("B2vP"),g=r.n(h),m=r("cWxP"),v=r("sf38"),b=r("Ykgu"),y=r.n(b),O=r("1x9k"),_=r.n(O),j=r("KtHL"),w=r.n(j);const k=e=>Array.isArray(e)?e:[e],E=(e,t)=>k(null!=t?t:[]).reduce(((e,t)=>t(e)),e),S=({children:e})=>e,T=e=>{var{children:t}=e;return t(Object(n.__rest)(e,["children"]))};class P extends l.PureComponent{render(){const{LayoutComponent:e,PageComponent:t,HeaderComponent:r,FooterComponent:n}=this.props;return d.a.createElement(e,{Header:r,Footer:n},d.a.createElement(t,null))}}const x=y()(Object(v.e)(),_.a),C=y()(Object(v.e)(),_.a);var M=Object(v.e)()((({componentRegistry:e})=>{const t=Object(m.i)("router",(({router:t})=>{const{currentRoute:{config:{properties:r}}}=t,{bundle:n,pageComponent:o,layoutComponent:i="layoutDefault",headerComponent:s="headerDefault",footerComponent:a="footerDefault"}=r,c=e.get(o,n),u=e.get(i,n)||e.get("layoutDefault"),l=e.get(s,n)||e.get("headerDefault"),d=e.get(a,n)||e.get("footerDefault");if(!c)throw new Error(`Page component '${o}' not found`);return{HeaderComponent:l,FooterComponent:d,LayoutComponent:x(u),PageComponent:C(c)}}));return d.a.createElement(P,Object.assign({},t))}));function R({componentRegistry:e,di:t},r){const n=function(e){class t extends d.a.Component{getChildContext(){return Object.assign({},e)}render(){return this.props.children}}return t.childContextTypes=g()((()=>p.a.any),e),t}(r);return d.a.createElement(m.a,{context:r},d.a.createElement(n,null,d.a.createElement(v.a.Provider,{value:t},d.a.createElement(M,{componentRegistry:e}))))}const I=({element:e,container:t,callback:r})=>Object(j.hydrate)(e,t,r),D=({children:e,callback:t})=>(Object(l.useEffect)(t,[]),e),A=e=>({element:t,container:r,callback:n,log:o})=>{const i=Object(l.createElement)(D,{callback:n},t);return e(r,{hydrate:!0}).render(i)},L=A(w.a.createBlockingRoot),N=A(w.a.createRoot);function q({componentRegistry:e,log:t,consumerContext:r,customRender:n,extendRender:o,di:i,mode:s}){let a=R({componentRegistry:e,di:i},r);if(o&&u()((e=>{a=e(a)}),o),n)return n(a);const c=document.querySelector(".application"),d={element:a,container:c,callback:()=>{t.debug("App rendering"),document.querySelector("html").classList.remove("no-js")},log:t};switch(s){case"strict":return(e=>{const t=Object(l.createElement)(l.StrictMode,null,e.element);return I(Object.assign(Object.assign({},e),{element:t}))})(d);case"blocking":return L(d);case"concurrent":return N(d);case"legacy":default:return I(d)}}let F=class{};var U;F=Object(n.__decorate)([Object(o.g)({providers:[{provide:a.d,useFactory:({layoutOptions:e})=>{var t;return(({components:e={},wrappers:t={}}={})=>{const{header:r=T,footer:o=T,layout:i=S,content:s=S,page:a=S}=e,c=Object(n.__rest)(e,["header","footer","layout","content","page"]),u=E(i,t.layout),l=E(s,t.content),f=E(a,t.page),p=E(r,t.header),h=E(o,t.footer),g=Object.keys(c).map((e=>({name:e,Component:E(c[e],t[e])})));return({children:e,Header:t,Footer:r})=>d.a.createElement(u,null,g.map((({Component:e,name:t})=>d.a.createElement(e,{key:t}))),d.a.createElement(l,null,t?d.a.createElement(p,null,(e=>d.a.createElement(t,Object.assign({},e)))):null,d.a.createElement(f,null,e),r?d.a.createElement(h,null,(e=>d.a.createElement(r,Object.assign({},e)))):null))})((null!=(t=e)?t:[]).reduce(((e,t)=>{const{components:r,wrappers:n}=e;return t.components&&Object.assign(r,t.components),t.wrappers&&Object.keys(t.wrappers).forEach((e=>{n[e]||(n[e]=[]),n[e].push(...k(t.wrappers[e]))})),e}),{components:{},wrappers:{}}))},deps:{layoutOptions:{token:a.f,optional:!0}}},{provide:"componentDefaultList",multi:!0,useFactory:e=>e,deps:{layoutDefault:a.d,footerDefault:{token:a.b,optional:!0},headerDefault:{token:a.c,optional:!0}}}]})],F);const H=e=>{0};let V=U=class{static forRoot({mode:e}){const t=[];return"string"==typeof e&&t.push({provide:a.g,useValue:e}),{mainModule:U,providers:t}}};V=U=Object(n.__decorate)([Object(o.g)({imports:[F],providers:[{provide:a.h,useFactory:({logger:e})=>({getPageResources:()=>(H(),[]),register:()=>H()}),deps:{logger:s.q}},{provide:o.h.generatePage,useFactory:e=>function(){return window.contextExternal=e.consumerContext,Promise.resolve(q(e))},deps:{componentRegistry:s.h,log:s.q,customRender:{token:a.a,optional:!0},extendRender:{token:a.e,optional:!0},consumerContext:s.i,di:i.a,mode:a.g},multi:!0},{provide:a.g,useValue:"legacy"}]})],V)},Lnon:function(e,t,r){var n,o;t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},o="/",t.cwd=function(){return o},t.chdir=function(e){n||(n=r("UjTV")),o=n.resolve(e,o)},t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},M2uo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateProps=void 0;var n=r("fFyy"),o=r("6PeD"),i=n.__importDefault(r("KtHL")),s=n.__importDefault(r("TJbA")),a=r("e0Gv"),c=s.default("page-maker:di");t.generateProps=function(e,t){var r=t.Component,s=t.children,u=a.isPrototypeOf(o.Component,r)||a.isPrototypeOf(o.PureComponent,r),l=function(r){return t.saveDomRef(e.id,r)},d=function(e){l(i.default.findDOMNode(e))},f={forwardDomRef:l,hoistRef:d};return(u||r.$$typeof===Symbol.for("react.forward_ref"))&&(f={forwardDomRef:l,ref:function(r){return t.saveRef(e.id,r)},hoistRef:d}),n.__assign(n.__assign(n.__assign(n.__assign({},e.properties),{di:t.di,dispatch:function(r){return c.debug({message:"dispatch was called with payload",payload:r}),t.act(r,e)},bus:function(r,n){return c.debug({message:"component "+e.id+" is subscribing for event "+r}),t.bus(e.id,r,n)},key:e.id,id:e.id,children:s}),f),"sticky"===e.type?{scrollParent:t.scrollParent}:{})}},MYqv:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("sV9m"),o=r("HqrZ");let i=class{};i=Object(n.__decorate)([Object(o.g)({providers:[]})],i)},"Mg/g":function(e,t,r){"use strict";e.exports=function(e){return null==e}},N7Wv:function(e,t,r){"use strict";e.exports=function(e){return function(){return!e.apply(void 0,arguments)}}},OTpg:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var s=o.apply(null,n);s&&e.push(s)}else if("object"===i)for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},P647:function(e,t,r){"use strict";e.exports=function(){}},P8IC:function(e,t,r){"use strict";var n=r("ITDq"),o=r("wTcq");e.exports=n(3,(function(e,t,r){return void 0===r&&(r=[]),o(r)?r.slice(e,t):Array.prototype.slice.call(r,e,t)}))},PQBz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("OTpg")),s=r("e0Gv"),a=n.__importDefault(r("+F8o")),c=["color"],u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.componentDidMount=function(){},t.prototype.componentDidUpdate=function(){},t.prototype.componentWillUnmount=function(){},t.prototype.render=function(){var e=this.props,t=e.dispatch,r=e.text,n=e.children,u=e.scheme,l=e.size,d=e.margin,f=e.onClick,p=void 0===f?"":f,h=e.dataQA,g=e.forwardDomRef,m=p.split(":"),v=m[0],b=m[1],y=m[2],O=m.slice(3),_=s.pick(this.props,c),j=O.join(":");try{j=JSON.parse(j)}catch(e){}return d&&(_.margin=s.safeMargins(d)),o.default.createElement("div",{onClick:function(){"emit"===v?t&&t({type:v,payload:{blockId:b,eventName:y,arg:j}}):v&&t&&t({type:v,payload:{targetGuid:b,targetMethod:y,arg:j}})},style:_,className:i.default(a.default.btn,a.default["size_"+l],a.default["scheme_"+u]),"data-qa":h,ref:g},n||r)},t.displayName="Btn",t.defaultProps={scheme:"orange",size:"m"},t}(o.Component);t.default=u},Pwia:function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},Q40W:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return i}));var n=r("vek/");const o=Object(n.f)("authenticator"),i=Object(n.f)("sessionManager"),s=Object(n.f)("sessionLifetimeController"),a=Object(n.f)("authStrategies",{multi:!0}),c=Object(n.f)("logoutRedirectUrl")},QDYm:function(e,t,r){"use strict";function n(e){let t=Object.keys(e);if(0===t.length)return"";t.length>1&&(t=t.sort());let r="",n=0;const o=t.length;for(;n<o-1;n++)r+=`${t[n]}:${e[t[n]]},`;return r+=`${t[n]}:${e[t[n]]}`,r}t.getPropertiesFromObj=function(e){return Object.keys(e).map((t=>e[t]))},t.getValueAsString=function(e){return Number.isNaN(e)?"Nan":Number.isFinite(e)?""+e:e<0?"-Inf":"+Inf"},t.removeLabels=function(e,t){delete e[n(t)]},t.setValue=function(e,t,r){return e[n(r)]={value:"number"==typeof t?t:0,labels:r||{}},e},t.getLabels=function(e,t){if(e.length!==t.length)throw new Error("Invalid number of arguments");const r=Array.prototype.slice.call(t);return e.reduce(((e,t,n)=>(e[t]=r[n],e)),{})},t.hashObject=n,t.isObject=function(e){return e===Object(e)};class o extends Map{add(e,t){this.has(e)?this.get(e).push(t):this.set(e,[t])}}t.Grouper=o},QSgB:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===t&&(t=[]);for(var r=0;r<t.length;r++)if(e(t[r],r,t))return!0;return!1}))},RgYb:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return"function"==typeof t?t.apply(void 0,e):t}))},SlZt:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}))},TCrd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("Gygw")),i=r("6Alu"),s=r("l9QB");t.default=function(e){var t=void 0===e?{}:e,r=t.validator,a=void 0===r?o.default:r,c=t.allowFallback,u=void 0===c||c,l=t.errorValidator,d=void 0===l?o.default:l;return{complete:function(e,t){var r=e.getState(),o=r.request,c=a(r);return e.updateExternalMeta(s.VALIDATE,{validated:!c}),c?t({error:c,request:u?o:n.__assign(n.__assign({},o),{fallbackCache:!1}),status:i.Status.ERROR}):t()},error:function(e,t){var r=e.getState(),n=d(r);return e.updateExternalMeta(s.VALIDATE,{errorValidated:!!n}),n?(e.updateExternalMeta(s.VALIDATE,{error:r.error}),t({error:null,status:i.Status.COMPLETE})):t()}}}},TJbA:function(e,t,r){"use strict";r.r(t),r.d(t,"BrowserReporter",(function(){return E})),r.d(t,"LEVELS",(function(){return y})),r.d(t,"LEVEL_NAMES",(function(){return O})),r.d(t,"RemoteReporter",(function(){return R})),r.d(t,"createLoggerFactory",(function(){return k})),r.d(t,"logger",(function(){return C}));var n=r("9JzW"),o=r.n(n),i=r("53i8"),s=r.n(i),a=r("pexD"),c=r.n(a),u=r("P647"),l=r.n(u),d=r("VbTK"),f=r.n(d),p=r("wTcq"),h=r.n(p),g=r("BT50"),m=r.n(g),v=r("9vPl"),b=r.n(v);const y={trace:50,debug:40,info:30,warn:20,error:10,fatal:0,silent:-1/0},O={50:"trace",40:"debug",30:"info",20:"warn",10:"error",0:"fatal"},_=e=>new RegExp(`^${e.replace(/\*/g,".*?")}$`);class j{constructor(e={name:""}){if(this.name=o()(e.name),j.instances[this.name])return j.instances[this.name];this.beforeReporters=e.beforeReporters||[],this.reporters=e.reporters||[],this.filters=e.filters||[],this.extensions=e.extensions||[],this.defaults=e.defaults||{},e.level&&this.setLevel(y[e.level]),e.enabled&&this.setLevel(y.trace),this.checkEnabled(),j.instances[this.name]=this,s()(((e,t)=>{this[t]=(...t)=>this.log(e,t)}),y)}static save(){var e;null===(e=j.onChange)||void 0===e||e.call(j,{level:j.level,enabledName:this.enabledName,enabledLevel:this.enabledLevel})}static load(e){j.level=e.level,j.enabledName=e.enabledName,j.enabledLevel=e.enabledLevel}static setLevel(e){var t;j.level=null!==(t=y[e])&&void 0!==t?t:j.level,j.save()}static setOnChange(e){j.onChange=e}static enable(e,t){const[r,n]=t?[y[e],t]:[y.trace,e];j.enabledName.push(n),j.enabledLevel.push(r),j.save();const o=_(n);s()(((e,t)=>{o.test(t)&&e.setLevel(r)}),j.instances)}static disable(e,t){const[r,n]=t?[y[e],t]:[y.silent,e],o=j.enabledName.indexOf(n);o>-1?(j.enabledName.splice(o,1),j.enabledLevel.splice(o,1)):(j.enabledName.push(n),j.enabledLevel.push(r)),j.save();const i=_(n);s()(((e,t)=>{i.test(t)&&e.setLevel(r)}),j.instances)}static clear(){j.level=y.silent,j.enabledName=[],j.enabledLevel=[],j.save(),s()(((e,t)=>{e.setLevel(void 0)}),j.instances)}child(e){const t="string"==typeof e?{name:e}:e,r=this.name?`${this.name}.${t.name}`:t.name;return new j(Object.assign(Object.assign({beforeReporters:this.beforeReporters,reporters:this.reporters,filters:this.filters,extensions:this.extensions,defaults:this.defaults},t),{name:r}))}addBeforeReporter(e){this.beforeReporters.push(e)}setBeforeReporters(e){this.beforeReporters=c()(e)}addReporter(e){this.reporters.push(e)}setReporters(e){this.reporters=c()(e)}addFilter(e){this.filters.push(e)}setFilters(e){this.filters=c()(e)}addExtension(e){this.extensions.push(e)}setExtensions(e){this.extensions=c()(e)}setLevel(e){this.level=e}checkEnabled(){for(let e=j.enabledName.length-1;e>=0;e--){const t=j.enabledName[e];if(_(t).test(this.name))return void this.setLevel(j.enabledLevel[e])}}createLogObj(e,t){return Object.assign(Object.assign({date:new Date},this.defaults),{name:this.name,type:O[e],level:e,args:t})}log(e,t){let r;this.beforeReporters.length&&(r=this.createLogObj(e,t));for(const e of this.beforeReporters)e.log(r);if(void 0===this.level){if(e>j.level)return!1}else if(e>this.level)return!1;r||(r=this.createLogObj(e,t));for(const e of this.filters)if(!1===e.filter(r))return!1;for(const e of this.extensions)r=e.extend(r);for(const e of this.reporters)e.log(r);return!0}}j.level=y.silent,j.instances={},j.enabledName=[],j.enabledLevel=[];const w=["addBeforeReporter","setBeforeReporters","addReporter","setReporters","addFilter","setFilters","addExtensions","setExtensions",...Object.keys(y)],k=e=>{const t=new j(e);return Object.assign((e=>t.child(e)),w.reduce(((e,r)=>(t[r]&&(e[r]=t[r].bind(t)),e)),{}),{setLevel:j.setLevel,enable:j.enable,disable:j.disable,clear:j.clear})};class E{constructor(){this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c00046",10:"#c0392b",20:"#f39c12",30:"#00BCD4"}}log(e){const t=e.level<20?console.error:20===e.level?console.warn:console.log,r=`\n      background: ${this.levelColorMap[e.level]||this.defaultColor};\n      border-radius: 0.5em;\n      color: white;\n      font-weight: bold;\n      padding: 2px 0.5em;\n    `,n="%c"+[e.name,e.type].filter(Boolean).join(":");"string"==typeof e.args[0]?t.call(console,`${n}%c ${e.args[0]}`,r,"",...e.args.slice(1)):t.call(console,n,r,...e.args)}}const S=()=>{try{return(e=>{if(!e)return;const t=e.split(",");return{level:y.silent,enabledLevel:Array(t.length).fill(y.trace),enabledName:t}})(window.localStorage.getItem("debug"))}catch(e){}},T="_tinkoff_logger";y.error;let P,x;try{P=window.localStorage,x=JSON.parse(P.getItem(T))}catch(e){}x||(x=S()),j.setOnChange((e=>{try{P.setItem(T,JSON.stringify(e))}catch(e){}})),x&&j.load(x);const C=k({name:"",reporters:[new E]});window.logger=C;const M=e=>Object.assign(Object.assign({},e),{message:e.message,stack:e.stack});class R{constructor({requestCount:e,makeRequest:t,emitLevels:r}){this.reqCount=0,this.queue=[],this.requestCount=e||1,this.makeRequest=t,this.emitLevels=r||{fatal:!0}}checkQueue(){this.queue.length&&this.reqCount<this.requestCount&&this.sendRequest()}sendRequest(){const e=this.queue.shift();this.reqCount++,this.makeRequest((e=>{let t,r,n=null;const{args:o}=e;o[0]instanceof Error?(r=M(o[0]),t=h()(o[1])?o[1]:o[0].message):m()(o[0])&&!b()(o[0])?(n=o[0],r=n.error&&M(n.error),o[0].message?t=o[0].message:h()(o[1])&&(t=o[1])):t=o[0];const i=o.slice(t===o[1]?2:1).map((e=>e instanceof Error?{error:M(e)}:e));return Object.assign(Object.assign(Object.assign(Object.assign({},e),{args:i.length?i:void 0}),n),{error:r,message:t})})(e)).catch(l.a).then((()=>{this.reqCount--,this.checkQueue()}))}remote(e){this.queue.push(e),this.checkQueue()}log(e){const{type:t,remote:r}=e;null==r?this.emitLevels[t]&&this.remote(e):(!0===r||f()(["emitLevels",t],!0,r))&&this.remote(Object.assign(Object.assign({},e),{remote:void 0}))}}t.default=C},TUac:function(e,t,r){"use strict";e.exports=function(e){void 0===e&&(e=[]);for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}},Ti8s:function(e,t,r){"use strict";e.exports=function(e){return e}},UBCb:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r("WrKS"));t.Registry=o.default;const i=r("ZsHj");t.Counter=i.Counter;const s=r("/0Hb");t.Gauge=s.Gauge;const a=r("etHu");t.Histogram=a.Histogram;const c=r("FUWm");t.Summary=c.Summary,t.register=o.globalRegistry},UBcq:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o}));var n=r("9h3G");const o=()=>{},i="_rawRequest";class s{onSuccess(e,t){return e}onError(e,t){throw e}request(e){const t=this.rawRequest(e);return Object.assign(t.then((t=>this.onSuccess(t,e)),(t=>this.onError((e=>{const t=e.message,r=(e=>{switch(!0){case/network timeout at/i.test(e)||/request timed out/i.test(e):return"Время истекло. Обновите страницу и повторите попытку.";default:return"Что-то пошло не так. Мы уже решаем проблему. Попробуйте снова через несколько минут."}})(t);return Object.assign(e,{message:r,originalMessage:t})})(t),e))),{[i]:t})}getHeaders(e){if(e[i])return Object(n.getHeaders)(e[i]);throw Error("You should pass the result promise of call apiClient.request without chaining, not any promise")}}},UDiI:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return p}));var n=r("sV9m"),o=r("HqrZ"),i=r("vek/"),s=r("WWOT"),a=r.n(s);const c=/^(?:::(?:ffff:(0:)?)?)?(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,u=/^([0-9a-fA-F]{1,4}:){1,4}:(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,l=e=>{if(e)return new Date("number"==typeof e?+new Date+1e3*e:e)},d=e=>(e=>c.test(e)||u.test(e))(e)?e:(e=>e.replace(/:\d+$/,""))(e.indexOf("localhost")>=0?e:"."+e.split(".").slice(-2).join("."));a.a.defaults.secure="https:"===window.location.protocol,a.a.defaults.sameSite="lax";const f=Object(i.f)("cookieManager");let p=class{};p=Object(n.__decorate)([Object(o.g)({providers:[{provide:f,useClass:class{get(e){return a.a.get(e)||void 0}set(e){var{name:t,value:r,noSubdomains:o}=e,i=Object(n.__rest)(e,["name","value","noSubdomains"]);a.a.set(t,r,Object.assign(Object.assign({},i),{expires:l(i.expires),domain:o?d(i.domain||window.location.hostname):i.domain}))}all(){return a.a.all()}remove(e,t){return a.a.erase(e,t)}},scope:i.c.SINGLETON}]})],p)},UVr1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("OTpg")),s=n.__importDefault(r("x/Op")),a=n.__importDefault(r("XAlA")),c=function(e){function t(t){var r=e.call(this,t)||this;return r.state={fixed:!1},r.mainBlock=null,r.fixedBlock=null,r.fixedBlockHeight=0,r.isWaitingFrame=!1,r.state={fixed:!1},r.id=String(Math.random()*Number.MAX_SAFE_INTEGER),r._handleScroll=r.invalidate.bind(r),r}return n.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("scroll",this._handleScroll,{passive:!0,capture:!0}),this.unregisterMe=this.context.registerMe(this)},t.prototype.componentWillUnmount=function(){this.unregisterMe(),document.removeEventListener("scroll",this._handleScroll)},t.prototype.invalidate=function(){var e=this;this.isWaitingFrame||(window.requestAnimationFrame((function(){if(e.mainBlock instanceof HTMLElement){var t=e.mainBlock.getBoundingClientRect(),r=t.top,n=t.height+r-e.context.getHeightBeforeMe(e)<e.fixedBlockHeight;n!==e.state.fixed&&e.setState({fixed:n})}e.isWaitingFrame=!1})),this.isWaitingFrame=!0)},t.prototype.saveDomRef=function(e,t){"mainBlock"===t?this.mainBlock=e:"fixedBlock"===t&&(this.fixedBlock=e),"fixedBlock"===t&&e&&(this.fixedBlockHeight=e.offsetHeight)},t.prototype.renderMain=function(e){var t=this;return o.default.createElement("div",{className:a.default.mainBlock,ref:function(e){return t.saveDomRef(e,"mainBlock")},"data-qa":"sticky-mainBlock"},e)},t.prototype.renderFixed=function(e){var t=this;return o.default.createElement("div",{style:{top:this.context.getHeightBeforeMe(this)+"px"},className:a.default.fixedBlock,ref:function(e){return t.saveDomRef(e,"fixedBlock")},"data-qa":"sticky-fixedBlock"},e)},t.prototype.render=function(){var e,t=this.state.fixed,r=this.props,n=r.children,s=r.forwardDomRef,c=r.dataQA,u=o.Children.toArray(n);return o.default.createElement("div",{className:i.default(a.default.block,(e={},e[a.default.isFixed]=t,e)),ref:s,"data-qa":c},this.renderMain(u[0]),this.renderFixed(u[1]||u[0]))},t.displayName="Sticky",t.contextType=s.default,t}(o.Component);t.default=c},UbHL:function(e,t,r){"use strict";r.d(t,"a",(function(){return N})),r.d(t,"b",(function(){return D})),r.d(t,"c",(function(){return q})),r.d(t,"d",(function(){return Y})),r.d(t,"e",(function(){return z})),r.d(t,"f",(function(){return X})),r.d(t,"g",(function(){return Q})),r.d(t,"h",(function(){return Z})),r.d(t,"i",(function(){return H})),r.d(t,"j",(function(){return V})),r.d(t,"k",(function(){return B})),r.d(t,"l",(function(){return J})),r.d(t,"m",(function(){return K}));var n=r("1d8C"),o=r.n(n),i=r("GiL/"),s=r.n(i),a=r("+n3f"),c=r.n(a),u=r("B2vP"),l=r.n(u),d=r("/g+q"),f=r.n(d),p=r("4fSt"),h=r.n(p),g=r("VbTK"),m=r.n(g),v=r("b4jh"),b=r.n(v),y=(r("YZZw"),r("5B8e")),O=r.n(y),_=r("0e+P"),j=r.n(_),w=r("rFO0"),k=r.n(w),E=r("QSgB"),S=r.n(E),T=r("Hqua"),P=r.n(T),x=(r("TUac"),r("1JnH"),r("jy6p")),C=r.n(x);const M=(e,t,r)=>{const n=c()(t,{},e);return s()(((e,t)=>e===n[t]),r)?e:Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},n),r)})},R=l()(o.a),I=e=>R(e),D="CORE",A=["ANONYMOUS","AUTHENTICATED","APPLICANT","CANDIDATE","REGISTERED","CLIENT","EMPLOYEE"],L={0:"ANONYMOUS",5:"AUTHENTICATED",20:"APPLICANT",30:"CANDIDATE",35:"REGISTERED",40:"CLIENT",50:"EMPLOYEE"},N=A.reduce(((e,t)=>(e[t]=t,e)),Object.create(null));const q=()=>Object.assign(Object.assign({},I(N)),{[N.ANONYMOUS]:!0}),F=(e,t)=>{if(t===N.ANONYMOUS)return M(e,D,q());let r=!0;const n=A.reduce(((e,n)=>(e[n]=r,n===t&&(r=!1),e)),{});return M(e,D,n)},U=c()(D,{}),H=(h()([D,N.AUTHENTICATED],f.a),m()([D,N.REGISTERED],!0)),V=m()([D,N.CLIENT],!0),B=e=>{const t=U(e);return!!t[N.REGISTERED]&&!t[N.CLIENT]},z=(e=0)=>F({[D]:{}},L[e]),G=A.length;const $="DYNAMIC",W=c()($,{}),J=e=>b()(Boolean,W(e)),K=(e,t)=>{const r=J(e),n=J(t);return!(r||!n)||!(r&&!n)&&function(e,t){const r=U(e),n=U(t);if(r===n)return!1;for(let e=G-1;e>=0;e--){const t=A[e];if(!r[t]&&n[t])return!0}return!1}(e,t)},Y=(e,t)=>{var r;const n=null===(r=t.campaign)||void 0===r?void 0:r.id;return n?((e,t)=>{const r=M(e,D,I(N)),n={[`${N.CLIENT}_${t}`]:!0},o=W(e);return s()(((e,t)=>e===o[t]),n)?r:Object.assign(Object.assign({},r),{[$]:n})})(e,n):F(e,t.accessLevel)},Q=O()(j()((e=>!!e)),k()(","),P()(["config","requiredRoles"],"")),X=P()(["config","accessLevel"],0);function Z(e,t=[]){const r=C()(e);return S()((t=>S()((r=>e[r][t]),r)),t)}},UjTV:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,o="/"===s.charAt(0))}return(o?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),s="/"===o(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,c=0;c<s;c++)if(o[c]!==i[c]){a=c;break}var u=[];for(c=a;c<o.length;c++)u.push("..");return(u=u.concat(i.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){r=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===n&&(o=!1,n=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){r=s+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("Lnon"))},Ul1X:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return m})),r.d(t,"g",(function(){return O})),r.d(t,"h",(function(){return v})),r.d(t,"i",(function(){return i})),r.d(t,"j",(function(){return h})),r.d(t,"k",(function(){return y})),r.d(t,"l",(function(){return b})),r.d(t,"m",(function(){return x})),r.d(t,"n",(function(){return C})),r.d(t,"o",(function(){return l})),r.d(t,"p",(function(){return k})),r.d(t,"q",(function(){return w})),r.d(t,"r",(function(){return d})),r.d(t,"s",(function(){return f})),r.d(t,"t",(function(){return g})),r.d(t,"u",(function(){return E})),r.d(t,"v",(function(){return S})),r.d(t,"w",(function(){return T})),r.d(t,"x",(function(){return P})),r.d(t,"y",(function(){return p})),r.d(t,"z",(function(){return j})),r.d(t,"A",(function(){return _}));var n=r("vek/");const o=Object(n.f)("bundleManager"),i=Object(n.f)("context"),s=Object(n.f)("actionRegistry"),a=Object(n.f)("actionExecution"),c=Object(n.f)("actionPageRunner"),u=Object(n.f)("actionConditionals",{multi:!0}),l=Object(n.f)("hooks"),d=Object(n.f)("pubsubFactory"),f=Object(n.f)("pubsub"),p=Object(n.f)("rootPubsub"),h=Object(n.f)("createCache"),g=Object(n.f)("registerClearCache",{multi:!0}),m=Object(n.f)("clearCache"),v=Object(n.f)("componentRegistry"),b=Object(n.f)("dispatcher"),y=Object(n.f)("dispatcherContext"),O=Object(n.f)("combineReducers",{multi:!0}),_=Object(n.f)("store"),j=Object(n.f)("storeMiddleware",{multi:!0}),w=Object(n.f)("logger"),k=Object(n.f)("loggerHook"),E=Object(n.f)("request"),S=Object(n.f)("requestManager"),T=Object(n.f)("response"),P=Object(n.f)("responseManager"),x=Object(n.f)("environmentManager"),C=Object(n.f)("envUsed",{multi:!0})},V0EN:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X");const s=[{provide:r("sf38").b,useFactory:({logger:e})=>{const t=e("error-interceptor:error-boundary");return function(e,r){t.error({event:"component-did-catch",error:e,info:r})}},deps:{logger:i.q},multi:!0}];let a=class{};a=Object(n.__decorate)([Object(o.g)({providers:[...s]})],a)},"VOL+":function(e,t,r){"use strict";var n=r("ITDq"),o=r("jy6p");e.exports=n(2,(function(e,t){void 0===t&&(t={});for(var r=o(t),n={},i=0;i<r.length;i++){var s=r[i];e(t[s],s,t)&&(n[s]=t[s])}return n}))},VbTK:function(e,t,r){"use strict";var n=r("ITDq"),o=r("CPiL");e.exports=n(3,(function(e,t,r){return void 0===e&&(e=[]),void 0===r&&(r={}),o(e,r)===t}))},Vmr7:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X"),s=r("9+TJ"),a=r("vek/"),c=r("45F3"),u=r("5TCA"),l=r.n(u),d=r("RgYb"),f=r.n(d),p=r("sf38");const h=["init","addBreadcrumb","captureMessage","captureException","captureEvent","configureScope","withScope"];function g(){return window.Sentry}function m({sdkBundleUrl:e,lazyInjecting:t=!1,metricsErrorCounter:r}){var n;const o=null!==(n=window.__SENTRY_MODULE_INLINE_ERROR_INTERCEPTOR__)&&void 0!==n?n:{},i=o.onError,s=[];let a=g(),c=a?"loaded":null;function u(){var e,t;if(null===(e=o.clear)||void 0===e||e.call(o),r&&(window.onerror=()=>{r.inc()},window.onunhandledrejection=()=>{r.inc()}),a=g(),!a)return;const n=a.init;a.init=e=>{n(f()([a],e))},s.forEach((({method:e,args:t})=>{a[e](...t)}));const i=window.onerror,c=window.onunhandledrejection;null===(t=o.errorsQueue)||void 0===t||t.forEach((e=>{"error"in e&&i?i.apply(window,e.error):"promise"in e&&c&&c.apply(window,e.promise)}))}function d(){c="loading";const t=document.createElement("script");t.async=!0,t.src=e,t.crossOrigin="anonymous",t.onerror=()=>{c="fail"},t.onload=()=>{c="loaded",u()},document.head.appendChild(t)}function p(){null==c&&d()}function m(){(function(){var e;if(null!=c)return!1;const t=(null===(e=o.errorsQueue)||void 0===e?void 0:e.length)>0,r=!!l()((({method:e})=>"withScope"===e||e.indexOf("capture")>-1),s);return t||r})()&&d()}o.onError=(...e)=>{null==i||i(...e),m()};const v=h.reduce(((e,t)=>(e[t]=(...e)=>{if(a)return a[t](...e);s.push({method:t,args:e}),m()},e)),{});return v.forceLoad=()=>{p()},"loaded"===c?u():t?m():p(),v}const v=Object(a.f)("sentry"),b=Object(a.f)("sentryDSNToken"),y=Object(a.f)("sentryOptions",{multi:!0}),O=(Object(a.f)("sentryRequestOptions",{multi:!0}),[{provide:o.h.init,multi:!0,useFactory:({sentry:e,multiOptions:t,envManager:r,sentryDsn:n})=>{const o=e=>{const o={maxBreadcrumbs:20,enabled:!0,environment:r.get("SENTRY_ENVIRONMENT"),dsn:n,release:r.get("SENTRY_RELEASE")};return(null!=t?t:[]).reduce(((t,r)=>Object.assign(Object.assign({},t),f()([e,t],r))),o)};return function(){e.init(o)}},deps:{sentry:v,multiOptions:{token:y,optional:!0},envManager:i.m,sentryDsn:b}},{provide:p.b,multi:!0,useFactory:({sentry:e})=>function(t,r){e.withScope((n=>{n.setExtras(r),e.captureException(t)}))},deps:{sentry:v}}]),_=e=>null==e?void 0:e.counter({name:"client_system_globalErrors_total",help:"Shows count of unhandled errors and unhandled rejections"});var j;let w=j=class{static forRoot(e){return{mainModule:j,providers:[{provide:y,multi:!0,useValue:e}]}}};w=j=Object(n.__decorate)([Object(o.g)({providers:[...O,{provide:v,scope:a.c.SINGLETON,useFactory:({envManager:e,metrics:t})=>m({sdkBundleUrl:e.get("SENTRY_SDK_URL"),metricsErrorCounter:_(t)}),deps:{envManager:i.m,metrics:{token:c.a,optional:!0}}},{provide:b,useFactory:({envManager:e})=>e.get("SENTRY_DSN_CLIENT")||e.get("SENTRY_DSN"),deps:{envManager:i.m}}]})],w);var k=r("anMn"),E=r.n(k);function S(e){const t=new URLSearchParams(e||"");return t.forEach(((e,r)=>{if(/sessionid/i.test(r)){const[n,o=""]=e.split("."),i=n.slice(0,12)+E()(n.slice(12).length,"*");t.set(r,`${i}.${o}`)}else"ticket"===r&&t.set(r,E()(e.length,"*"))})),t.toString()}function T(e){const[t,r=""]=(e||"").split("?"),[n,o]=r.split("#");if(!n)return e;return`${t}?${S(n)}${o?"#"+o:""}`}function P(e,t){const r=null==e?void 0:e.category;return"http"===r||"fetch"===r||"xhr"===r?e.data.url=T(e.data.url):"navigation"===r&&(e.data.from=T(e.data.from),e.data.to=T(e.data.to)),e}let x=class{};x=Object(n.__decorate)([Object(o.g)({imports:[w],providers:[{provide:y,multi:!0,useFactory:({envManager:e,appInfo:t,requestManager:r,wuid:n})=>{const{appName:o}=t,i=e.get("APP_VERSION");function s(e,t){const{tags:s={},contexts:a={},user:c={},request:u={}}=e,{host:l,search:d,pathname:f,href:p}=window.location;return e.transaction=f,e.request=Object.assign(Object.assign({},u),{url:T(p),query_string:S(d.slice(1))||void 0}),e.environment||(e.environment=l),e.tags=Object.assign({wuid:n,"app.name":o,"app.version":i,"app.platform":"browser"},s),e.contexts=Object.assign({app:{app_name:o,app_version:i}},a),e.user=Object.assign({wuid:n,ip_address:r.getClientIp()||void 0},c),e}return function(t,r){var n,o;return{beforeSend:s,beforeBreadcrumb:P,release:null!==(o=null!==(n=r.release)&&void 0!==n?n:e.get("APP_RELEASE"))&&void 0!==o?o:e.get("APP_VERSION")}}},deps:{appInfo:o.c,envManager:i.m,requestManager:i.v,wuid:{token:s.a,optional:!0}}}]})],x)},VoAY:function(e,t,r){"use strict";var n=/[&<>"']/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(e){return o[e]};e.exports=function(e){return void 0===e&&(e=""),e.replace(n,i)}},VrK3:function(e,t,r){"use strict";var n=r("Mg/g"),o=r("9vPl"),i=r("wTcq"),s=r("BT50");e.exports=function(e){switch(!0){case n(e):return!0;case i(e):return""===e;case o(e):return 0===e.length;case s(e):return 0===Object.keys(e).length}return!1}},W5ap:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("TJbA")),s=n.__importDefault(r("x/Op")),a=i.default("page-maker:master-of-scroll");t.default=function(e){var t;return(t=function(t){function r(e){var r=t.call(this,e)||this;return r.scrollParentElement=null,r.stack=[],r.beforeHeightsMap={},r.contextValue={registerMe:r.registerSticky.bind(r),scrollTo:r.scrollTo.bind(r),getHeightBeforeMe:r.getHeights.bind(r)},r}return n.__extends(r,t),r.prototype.lazyScrollParent=function(){if(this.scrollParentElement instanceof HTMLElement)return this.scrollParentElement;var e=null;return this.props.scrollParent&&(e=document.querySelector(this.props.scrollParent)),e instanceof HTMLElement||(e=document.scrollingElement||document.body&&document.body.parentElement),e instanceof HTMLElement&&(this.scrollParentElement=e),a.debug({message:"scrollParentElement",scrollParentElement:e}),this.scrollParentElement},r.prototype.componentDidMount=function(){this.lazyScrollParent()},r.prototype.componentWillUnmount=function(){this.stack=[]},r.prototype.registerSticky=function(e){var t=this;this.lazyScrollParent();var r=e.mainBlock?e.mainBlock.getBoundingClientRect().top:0,o=this.scrollParentElement?this.scrollParentElement.scrollTop:0;this.stack=n.__spreadArrays(this.stack,[{element:e,top:r+o}]).sort((function(e,t){return e.top-t.top}));var i=0;return this.stack.forEach((function(e){t.beforeHeightsMap[e.element.id]=i,e.element.fixedBlock&&(i+=e.element.fixedBlock.offsetHeight)})),function(){t.beforeHeightsMap[e.id]=void 0,t.stack=t.stack.filter((function(t){return t.element.id!==e.id}))}},r.prototype.getHeights=function(e){return this.beforeHeightsMap[e.id]||0},r.prototype.scrollTo=function(e){var t=this.scrollParentElement;if(e instanceof HTMLElement&&t instanceof HTMLElement){var r=e.getBoundingClientRect().top+t.scrollTop,n=this.stack.reduce((function(e,t){return t.top<r&&t.element.fixedBlock&&(e+=t.element.fixedBlock.offsetHeight),e}),0),o=r-n;0,"function"==typeof this.props.scrollTo?this.props.scrollTo(0,o):"scrollTo"in t?t.scrollTo({left:0,top:o,behavior:"smooth"}):t.scrollTop=o}},r.prototype.render=function(){return o.default.createElement(s.default.Provider,{value:this.contextValue},o.default.createElement(e,n.__assign({},this.props)))},r}(o.Component)).displayName="MasterOfScroll",t}},"W6/Z":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy").__importDefault(r("sAIE"));t.default=n.default},W7eU:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("6PeD"),o=r("vYnz"),i=r.n(o);const s=e=>{const t=Object(n.useRef)(e);return i()(t.current,e)||(t.current=e),t.current}},W7tZ:function(e,t,r){"use strict";r.d(t,"a",(function(){return fe}));var n=r("sV9m"),o=r("HqrZ"),i=r("vek/"),s=r("dAUr"),a=r("Ul1X"),c=r("UDiI"),u=r("CPiL"),l=r.n(u),d=r("UBcq"),f=r("6Alu"),p=r.n(f),h=r("BhXG"),g=r.n(h),m=r("Krsf"),v=r.n(m),b=r("6QeP"),y=r.n(b),O=r("TCrd"),_=r.n(O),j=r("9h3G"),w=r.n(j),k=r("i/4V"),E=r.n(k),S=r("49XQ"),T=r.n(S),P=r("+n3f"),x=r.n(P),C=({request:e,response:t})=>{if(!t.response&&!t.result)return t.error||JSON.stringify(t)},M=({request:e,response:t,error:r})=>""+(e.version||2)=="2"&&404===r.status&&!(!t||!t.error);const R=Object(d.b)(),I={cacheTime:6e5,defaultTimeout:3e4};class D extends d.a{constructor(e){super();const t=Object.assign(Object.assign({},I),e);this.configUrl=t.apiUrl,this.defaultTimeout=t.defaultTimeout,this.makeRequest=(e=>p()([E()({transform:({baseUrl:e,method:t})=>`${e}${t}`}),g()({logger:e.logger,name:"cfg",showQueryFields:!0,showPayloadFields:!0}),y()({shouldExecute:!e.disableCache,lruOptions:{max:1e3,maxAge:e.cacheTime||3e4},allowStale:!0,memoryConstructor:e.createCache}),v()(),T()(),_()({validator:C,errorValidator:M,allowFallback:!0}),w()({agent:R})]))(Object.assign({},t))}onSuccess(e){return e?e.response||e.result||l()(["error","message"],e):null}onError(e,t){const{method:r}=t;throw Object.assign(e,{errorId:"CONFIG_REQUEST_ERROR",method:r})}rawRequest(e){const{timeout:t=this.defaultTimeout,baseUrl:r=this.configUrl}=e;return this.makeRequest(Object.assign(Object.assign({},e),{baseUrl:r,timeout:t}))}}class A extends D{constructor(e){super(e),this.resourcePath=e.resourcePath}onSuccess(e){return x()("value",{},super.onSuccess(e))}rawRequest(e){return super.rawRequest(Object.assign(Object.assign({method:this.resourcePath},e),{payload:{name:e.name}}))}}class L extends D{constructor(){super(...arguments),this.pagesIntegrationApi="pages/api/integration/v1",this.buildJsonRpcParams=(e,t)=>({method:`${this.pagesIntegrationApi}/${e}`,httpMethod:"post",type:"json",payload:{method:e,params:t,id:"null",jsonrpc:"2.0"}})}getRoutesByDomainAndAppId(e){return this.request(this.buildJsonRpcParams("getRoutesByDomainAndAppId",e))}}var N=r("sjQ7"),q=r("zsJm"),F=r("9+TJ"),U=r("5B8e"),H=r.n(U),V=r("P647"),B=r.n(V),z=r("VbTK"),G=r.n(z),$=r("x0RB"),W=r.n($),J=r("SlZt"),K=r.n(J),Y=r("Hd8N"),Q=r.n(Y);const X={cacheTime:12e4};class Z extends d.a{constructor(e){super();const t=Object.assign(Object.assign({},X),e);this.makeRequest=(e=>p()([E()({baseUrl:e.baseUrl,transform:({baseUrl:e,method:t})=>`${e}/${t}`}),g()({logger:e.logger,name:"papi",showQueryFields:!0,showPayloadFields:!0}),y()({shouldExecute:!e.disableCache,lruOptions:{max:1e3,maxAge:e.cacheTime||3e4},allowStale:!0,memoryConstructor:e.createCache}),v()(),_()({validator:({response:e})=>{if(!e.resultCode||!e.payload)return e.error||JSON.stringify(e)}}),w()()]))(Object.assign({},t))}onSuccess(e){return Q()("payload",e)}rawRequest(e){return this.makeRequest(e)}}const ee=H()(l()(["currentRoute","config","tinkoffApiOrigin"]),(te="router",e=>e.getState()[te]));var te;class re{constructor({context:e,defaultOrigin:t}){this.chooseOriginFrom=({routeOrigin:e,defaultOrigin:t,requestOrigin:r})=>e||(r||t),this.context=e,this.defaultOrigin=t}get(){return this.chooseOriginFrom({routeOrigin:ee(this.context),defaultOrigin:this.defaultOrigin})}getWhen({requestOrigin:e}){return this.chooseOriginFrom({requestOrigin:e,routeOrigin:ee(this.context),defaultOrigin:this.defaultOrigin})}}const ne=e=>e=>e,oe=ne;var ie={expired:G()(["resultCode"],"SESSION_IS_ABSENT"),notAllowed:G()(["resultCode"],"INSUFFICIENT_PRIVILEGES"),confirmation:W()([G()(["resultCode"],"WAITING_CONFIRMATION"),K()("confirmations"),K()("confirmationData")])};const se="confirm",ae="sessionAbsent",ce="notAllowed",ue="unknown";class le{constructor({apiClient:e,requestManager:t,headersList:r}){this.apiClient=e,this.fillHeaders=e=>e}request(e){return this.apiClient.request(this.fillHeaders(e))}getHeaders(e){return this.apiClient.getHeaders(e)}}const de=Object(i.f)("INTEGRATION_ADMIN_CLIENT");let fe=class{};fe=Object(n.__decorate)([Object(o.g)({imports:[F.b],providers:[{provide:"adminClientBase",useFactory:({createCache:e,environmentManager:t,logger:r})=>new D({apiUrl:t.get("CONFIG_API"),logger:r,createCache:t=>e("memory",t)}),deps:{createCache:a.j,logger:a.q,environmentManager:a.m},scope:i.c.SINGLETON},{provide:de,useFactory:({createCache:e,environmentManager:t,logger:r})=>{const n=t.get("INTEGRATION_CONFIG_API");return n?new L({apiUrl:n,logger:r,createCache:t=>e("memory",t)}):null},deps:{createCache:a.j,logger:a.q,environmentManager:a.m},scope:i.c.SINGLETON},{provide:q.a,useClass:le,deps:{apiClient:"adminClientBase",requestManager:{token:a.v,optional:!0},headersList:{token:q.c,optional:!0}}},{provide:"adminResourceClientBase",useFactory:({createCache:e,environmentManager:t,logger:r})=>new A({apiUrl:t.get("RESOURCES_API"),resourcePath:"resources",logger:r,createCache:t=>e("memory",t)}),deps:{createCache:a.j,logger:a.q,environmentManager:a.m},scope:i.c.SINGLETON},{provide:q.b,useClass:le,deps:{apiClient:"adminResourceClientBase",requestManager:{token:a.v,optional:!0},headersList:{token:q.c,optional:!0}}},{provide:"tinkoffApiClientBase",useFactory:({createCache:e,environmentManager:t,logger:r,batchRequests:n,appInfo:o})=>new N.a({name:"tinkoff",apiUrl:t.get("TINKOFF_API"),logger:r,batchRequests:n,disableCache:!0,appInfo:{appName:o.appName,appVersion:t.get("APP_VERSION")},createCache:t=>e("memory",t)}),deps:{createCache:a.j,logger:a.q,environmentManager:a.m,appInfo:o.c,batchRequests:q.d},scope:i.c.SINGLETON},{provide:q.g,useClass:class{constructor({apiClient:e,requestManager:t,context:r,hooks:n,apiOriginService:o,cookieManager:i,wuid:s}){this.apiClient=e,this.context=r,this.hooks=n,this.customizeParams=H()((e=>t=>{const r=e.getWhen({requestOrigin:t.origin});return Object.assign(Object.assign({},t),{query:Object.assign(Object.assign({},t.query),{origin:r})})})(o),oe(),(({cookieManager:e})=>t=>t.withoutSession?t:Object.assign(Object.assign({},t),{sessionid:e.get("psid")}))({cookieManager:i}),(e=>t=>t.withoutSession||t.withoutWuid?t:Object.assign(Object.assign({},t),{wuid:e}))(s))}request(e){const{method:t,confirmHide:r,confirmSSR:n=!1,confirmViewType:o=null,onConfirm:i=B.a}=e;return this.apiClient.request(this.customizeParams(e)).catch((s=>{switch(!0){case ie.confirmation(s.response):return this.hooks.runPromiseHooks(se,this.context)({viewType:o,onConfirmShowed:i,confirmHide:r,confirmSSR:n,data:s.response});case"session_status"!==t&&ie.expired(s.response):return this.hooks.runPromiseHooks(ae,this.context)({sessionExpired:!0,useCache:!1});case ie.notAllowed(s.response):return this.hooks.runPromiseHooks(ce,this.context)().then((()=>Promise.reject(new Error("Not Allowed"))));default:return this.hooks.runPromiseHooks(ue,this.context,e)(s).then((()=>Promise.reject(s)))}}))}},deps:{apiClient:"tinkoffApiClientBase",hooks:a.o,requestManager:a.v,context:a.i,apiOriginService:"apiOriginService",cookieManager:c.a,wuid:F.a}},{provide:a.n,useValue:[{key:"CONFIG_API"},{key:"TINKOFF_API"},{key:"RESOURCES_API"},{key:"INTEGRATION_CONFIG_API",optional:!0,dehydrate:!1}],multi:!0},{provide:"defaultOrigin",useValue:"web,ib5,platform"},{provide:"apiOriginService",useFactory:({context:e,defaultOrigin:t})=>new re({context:e,defaultOrigin:t}),deps:{context:a.i,defaultOrigin:"defaultOrigin"}},{provide:q.f,useFactory:e=>new Z(Object.assign(Object.assign({},e),{createCache:t=>e.createCache("memory",t)})),scope:i.c.SINGLETON,deps:{logger:a.q,di:i.a,baseUrl:s.d,papi:{token:s.c,optional:!0},createCache:a.j}},{provide:q.c,multi:!0,useValue:["x-request-id","x-b3-traceid","x-b3-spanid","x-b3-parentspanid","x-b3-sampled","x-b3-flags","x-ot-span-context"]},{provide:q.d,useValue:!0},{provide:q.e,useValue:()=>"tinkoff.ru"}]})],fe)},WWOT:function(e,t){t.defaults={},t.set=function(e,r,n){var o=n||{},i=t.defaults,s=o.expires||i.expires,a=o.domain||i.domain,c=void 0!==o.path?o.path:void 0!==i.path?i.path:"/",u=void 0!==o.secure?o.secure:i.secure,l=void 0!==o.httpOnly?o.httpOnly:i.httpOnly,d=void 0!==o.sameSite?o.sameSite:i.sameSite,f=s?new Date("number"==typeof s?(new Date).getTime()+864e5*s:s):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+r.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(f&&f.getTime()>=0?";expires="+f.toUTCString():"")+(a?";domain="+a:"")+(c?";path="+c:"")+(u?";secure":"")+(l?";httponly":"")+(d?";samesite="+d:"")},t.get=function(e){for(var t=document.cookie.split(";");t.length;){var r=t.pop(),n=r.indexOf("=");if(n=n<0?r.length:n,decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))===e)return decodeURIComponent(r.slice(n+1))}return null},t.erase=function(e,r){t.set(e,"",{expires:-1,domain:r&&r.domain,path:r&&r.path,secure:0,httponly:0})},t.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var r=t.pop(),n=r.indexOf("=");n=n<0?r.length:n,e[decodeURIComponent(r.slice(0,n).replace(/^\s+/,""))]=decodeURIComponent(r.slice(n+1))}return e}},WrKS:function(e,t,r){"use strict";const{getValueAsString:n}=r("QDYm");function o(e){return e.replace(/\n/g,"\\n").replace(/\\(?!n)/g,"\\\\")}class i{constructor(){this._metrics={},this._collectors=[],this._defaultLabels={}}getMetricsAsArray(){return Object.keys(this._metrics).map(this.getSingleMetric,this)}getMetricAsPrometheusString(e){const t=e.get(),r=o(t.name),i=`# HELP ${r} ${o(t.help)}`,s=`# TYPE ${r} ${t.type}`,a=Object.keys(this._defaultLabels);let c="";for(const e of t.values||[]){if(e.labels=e.labels||{},a.length>0){e.labels=Object.assign({},e.labels);for(const t of a)e.labels[t]=e.labels[t]||this._defaultLabels[t]}let r="";for(const t of Object.keys(e.labels))r+=`${t}="${u=e.labels[t],"string"!=typeof u?u:o(u).replace(/"/g,'\\"')}",`;let i=e.metricName||t.name;r&&(i+=`{${r.substring(0,r.length-1)}}`),c+=`${i} ${n(e.value)}\n`}var u;return`${i}\n${s}\n${c}`.trim()}metrics(){let e="";this.collect();for(const t of this.getMetricsAsArray())e+=this.getMetricAsPrometheusString(t)+"\n\n";return e.substring(0,e.length-1)}registerMetric(e){if(this._metrics[e.name]&&this._metrics[e.name]!==e)throw new Error(`A metric with the name ${e.name} has already been registered.`);this._metrics[e.name]=e}registerCollector(e){this._collectors.includes(e)||this._collectors.push(e)}collectors(){return this._collectors}collect(){this._collectors.forEach((e=>e()))}clear(){this._metrics={},this._collectors=[],this._defaultLabels={}}getMetricsAsJSON(){const e=[],t=Object.keys(this._defaultLabels);this.collect();for(const r of this.getMetricsAsArray()){const n=r.get();if(n.values&&t.length>0)for(const e of n.values){e.labels=Object.assign({},e.labels);for(const r of t)e.labels[r]=e.labels[r]||this._defaultLabels[r]}e.push(n)}return e}removeSingleMetric(e){delete this._metrics[e]}getSingleMetricAsString(e){return this.getMetricAsPrometheusString(this._metrics[e])}getSingleMetric(e){return this._metrics[e]}setDefaultLabels(e){this._defaultLabels=e}resetMetrics(){for(const e in this._metrics)this._metrics[e].reset()}get contentType(){return"text/plain; version=0.0.4; charset=utf-8"}static merge(e){const t=new i;return e.reduce(((e,t)=>e.concat(t.getMetricsAsArray())),[]).forEach(t.registerMetric,t),t}}e.exports=i,e.exports.globalRegistry=new i},XAlA:function(e,t,r){e.exports={block:"a1NxX4",main:"b1NxX4",fixedBlock:"c1NxX4",isFixed:"d1NxX4"}},Xz12:function(e,t,r){"use strict";r.r(t),function(e){var t=r("UjTV"),n=r.n(t),o=r("H/m5"),i=r.n(o),s=r("HqrZ"),a=r("qsOC"),c=r("z/Bf"),u=r("s5GS"),l=r("LhCt"),d=r("Gi57"),f=r("W7tZ"),p=r("e7N4"),h=r("ZATm"),g=r("G2jR"),m=r("K+YV"),v=r("3vKK"),b=r("xEVB"),y=r("LVSF"),O=r("KJat"),_=r("37w6"),j=r("lHJy"),w=r("j9Lp"),k=r("AWks"),E=r("gIfq"),S=r("DsfZ"),T=r("V0EN"),P=r("MYqv"),x=r("Vmr7");Object(s.j)({name:"pfphome",modules:[x.a,a.a,c.a,j.a,l.a,y.a,_.a,m.a,v.b,h.a,p.a,d.a,f.a,g.a,O.b,b.a,w.a,k.a,E.a,S.a,T.a,P.a].concat([]),providers:[{provide:u.a,useValue:{"platform/pfpHomeWithoutBlocks":"platform/pfpHome","platform/mobileHomeWithoutBlocks":"platform/mobilePfpHome"}}].concat([]),bundles:{mainDefault:()=>i()({id:"./bundles/mainDefault",load:()=>Promise.all([r.e("mainDefault").then(r.bind(null,"bWug"))]).then((e=>e[0])),path:()=>n.a.join(e,"./bundles/mainDefault"),resolve:()=>"bWug",chunkName:()=>"mainDefault"}),"platform/pfpHome":()=>i()({id:"./bundles/pfpHome",load:()=>Promise.all([r.e("pfpHome").then(r.bind(null,"tOc5"))]).then((e=>e[0])),path:()=>n.a.join(e,"./bundles/pfpHome"),resolve:()=>"tOc5",chunkName:()=>"pfpHome"}),"platform/mobilePfpHome":()=>i()({id:"./bundles/mobilePfpHome",load:()=>Promise.all([r.e("mobilePfpHome").then(r.bind(null,"twMQ"))]).then((e=>e[0])),path:()=>n.a.join(e,"./bundles/mobilePfpHome"),resolve:()=>"twMQ",chunkName:()=>"mobilePfpHome"})}})}.call(this,"/")},YZZw:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){for(var r in void 0===t&&(t={}),t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t))return r}))},Ykgu:function(e,t,r){"use strict";var n=r("EC8c");e.exports=function(e,t){void 0===t&&(t=n);var r,o=[],i=!1,s=function(e,r){return t(e,o[r])};return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return i&&n.length===o.length&&n.every(s)||(r=e.apply(void 0,n),i=!0,o=n),r}}},ZATm:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X"),s=r("53i8"),a=r.n(s),c=r("cWxP"),u=r("6PeD");const l=Object(c.d)("FEATURE_TOGGLE"),d=Object(c.e)("featureToggle",{__values:{}}).on(l,((e,t)=>{const r={},n={};return a()((({status:e,value:t},o)=>{!1!==e&&(r[o]=e),null!==e&&e===t||(n[o]=t)}),t),Object.assign(Object.assign({},r),{__values:n})})),f=(e,t)=>t[e],p=(e,t)=>{var r;const n=null===(r=t.__values)||void 0===r?void 0:r[e],o=f(e,t);return void 0===n&&null!==o?o:n},h=()=>Object(c.i)({store:"featureToggle",optional:!0},(({featureToggle:e})=>null!=e?e:{}));Object(u.memo)((({name:e,children:t})=>{const r=h();return t(f(e,r),p(e,r))})).displayName="FeatureToggle";let g=class{};g=Object(n.__decorate)([Object(o.g)({providers:[{provide:i.g,useValue:d,multi:!0}]})],g)},Zj8j:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.slice(-e.length)===e}))},ZsHj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("fT98"),o=r("dsZU");class i extends n.Metric{constructor(e){super(e),this.type="counter"}inc(...e){let t,r;0===e.length?(t=1,r={}):o.isNumber(e[0])?([t]=e,r={}):[r,t=1]=e,this.setValue(r,t)}labels(...e){const t=this.getLabels(this.labelNames,e);return{inc:this.inc.bind(this,t)}}setValue(e,t){this.validateLabels(e);const r=this.valuesMap[this.hashObject(e)];r&&r[0]?r[0].value+=t:this.valuesMap[this.hashObject(e)]=[{value:t,labels:e}]}}t.Counter=i},a2a8:function(e,t){var r=1e3,n=60*r,o=60*n,i=24*o,s=365.25*i;function a(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?a(c=e,i,"day")||a(c,o,"hour")||a(c,n,"minute")||a(c,r,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"aOi+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTree=void 0;var n=r("fFyy"),o=n.__importDefault(r("6PeD")),i=n.__importDefault(r("TJbA")),s=r("C5ny"),a=r("iWIu"),c=r("M2uo"),u=i.default("page-maker:render");t.renderTree=function(e,t){var r,i=0;return u.debug({event:"renderTree",subtree:e,options:t}),r=e?s.traverseTree(e,(function(e,r,s){i++;var l=s.depth,d=a.pureUse(e),f=d;f||"function"!=typeof t.use||(f=t.use(e,{InternalComponent:d,depth:l})),f||(f=function(e){return e.children},u.warn({message:"Component "+e.type+" not found. Using fallback instead (() => children)",subtree:e}));var p=c.generateProps(e,{Component:f,children:r,di:t.di,act:t.act,saveDomRef:t.saveDomRef,saveRef:t.saveRef,scrollParent:t.scrollParent,depth:l,bus:function(e,r,n){var o=r+"-"+e;return t.subscriptions.set(o,n),function(){return t.subscriptions.delete(o)}}});return o.default.createElement(f,n.__assign({},p))})):null,u.info({event:"renderTreeResult",result:r,counter:i}),{displayTree:r,counter:i}}},anMn:function(e,t,r){"use strict";var n=r("ITDq"),o=r("wTcq");e.exports=n(2,(function(e,t){if(void 0===e&&(e=0),!o(t))return"";for(var r="",n=0;n<e;n++)r+=t;return r}))},awPa:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},b1Bm:function(e,t,r){"use strict";var n=r("ITDq"),o=r("z4OE");e.exports=n(2,(function(e,t){return void 0===t&&(t=[]),-1!==o(e,t)}))},b4jh:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){for(var r in void 0===t&&(t={}),t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t))return!0;return!1}))},bH6c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEvent=t.makeEvent=void 0;var n=r("sV9m").__importDefault(r("TJbA")),o=r("5REX"),i=n.default("analytics:tracking");function s(e,t){var r;try{r=new CustomEvent(e,{detail:t,bubbles:!0})}catch(n){(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!1,t)}return r}t.makeEvent=s,t.sendEvent=function(e,t,r){void 0===r&&(r=document.body);var n=r;o.isConnected(r)||(t.originalTarget=r,n=document.body),i.info({event:"dispatch",type:e,payload:t}),n.dispatchEvent(s(e,t))}},bXyb:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return h}));var n=r("sV9m"),o=r("4B/P"),i=r.n(o),s=r("53i8"),a=r.n(s),c=r("LS0E"),u=r.n(c);const l=i()(/^(?:[a-z]+:)?\/\//i),d=e=>e.pathname+e.search+e.hash,f=(e,t=(()=>window.location.href)())=>new URL(e,t),p=e=>{const t={};e.searchParams.forEach(((e,r)=>{t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]:t[r]=e}));const r=e.toString(),n=d(e),o={href:n,origin:e.origin,protocol:e.protocol,username:e.username,password:e.password,port:e.port,pathname:e.pathname,path:n,search:e.search,hash:e.hash,query:t};return"localhost"!==e.host&&Object.assign(o,{href:e.href,host:e.host,hostname:e.hostname}),Object.defineProperty(o,"toString",{value:()=>r,enumerable:!1}),o},h=e=>p(f(e)),g=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?(#[^s]*)?$/,m=(e,t)=>{const r=f(e.toString());return a()(((e,t)=>{Array.isArray(e)?(r.searchParams.delete(t),u()((e=>r.searchParams.append(t,e)),e)):r.searchParams.set(t,e)}),t),p(r)},v=e=>{const t=f(""),{path:r,query:o,origin:i}=e,s=Object(n.__rest)(e,["path","query","origin"]);if(r){const e=(e=>{const t=g.exec(e);if(t){const[e,r,n="",o=""]=t;return{pathname:r,search:n,hash:o}}})(r);e&&Object.assign(t,e)}if(Object.assign(t,s),o){const r=new URLSearchParams(e.search);a()(((e,t)=>{Array.isArray(e)?u()((e=>r.append(t,e)),e):r.set(t,e)}),o),t.search=r.toString()}return p(t).href}},"c/rd":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c}));var n=r("sV9m");class o extends Error{constructor(e){var{message:t="Http Error",httpStatus:r}=e,i=Object(n.__rest)(e,["message","httpStatus"]);super(t),this.name=o.errorName,this.httpStatus=r,Object.assign(this,i)}}o.errorName="HttpError";class i extends o{constructor(e={}){var{message:t="Not Found"}=e,r=Object(n.__rest)(e,["message"]);super({message:t,httpStatus:404}),this.name=i.errorName,Object.assign(this,r)}}i.errorName="NotFoundError";class s extends o{constructor(e){var{message:t="Redirect Found",nextUrl:r,httpStatus:o=307}=e,i=Object(n.__rest)(e,["message","nextUrl","httpStatus"]);super({message:t,httpStatus:o}),this.name=s.errorName,this.nextUrl=r,this.httpStatus=o,Object.assign(this,i)}}s.errorName="RedirectFoundError";const a=e=>e.name===i.errorName,c=e=>e.name===s.errorName,u=e=>e.name===o.errorName||a(e)||c(e)},cWxP:function(e,t,r){"use strict";r.d(t,"a",(function(){return L})),r.d(t,"b",(function(){return _})),r.d(t,"c",(function(){return k})),r.d(t,"d",(function(){return E})),r.d(t,"e",(function(){return S})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return C})),r.d(t,"h",(function(){return x})),r.d(t,"i",(function(){return A}));var n=r("5B8e"),o=r.n(n),i=r("Ti8s"),s=r.n(i),a=(r("uuQ6"),r("sV9m"),r("vYnz")),c=r.n(a),u=(r("1x9k"),r("LCbF"),r("x9lW")),l=r.n(u),d=r("6PeD"),f=r.n(d),p=(r("7+8w"),r("9vPl")),h=r.n(p),g=r("W7eU"),m=r("pexD"),v=r.n(m);r("EoyJ"),r("B2vP"),r("rtKQ"),r("7Mw8");let b=()=>()=>e=>t=>e(t);var y={__proto__:null,get middleware(){return b}};class O{constructor(){this.listeners=[]}emit(e){this.listeners.forEach((e=>{e()}))}addListener(e,t){this.listeners.push(t)}on(e,t){this.addListener(e,t)}removeListener(e,t){const r=[];for(let e=0;e<this.listeners.length;e++)this.listeners[e]!==t&&r.push(this.listeners[e]);this.listeners=r}off(e,t){this.removeListener(e,t)}}const _=(e,t)=>"string"==typeof e?{payload:t,type:e,error:!1}:e;class j extends O{constructor(e,t,r,n){super(),this.applyDispatch=e=>{const t=this.dispatcher.handlers[e.type]||[];return t.length?(this.applyHandlers(e,t),e.payload):e.payload},this.dispatcher=e,this.storeInstances={},this.context=t,this.dispatcherInterface={getContext:()=>this.context,getStore:this.getStore.bind(this)},this.rehydratedStoreState={},this.fullState={},r&&this.rehydrate(r),n&&(this.applyDispatch=this.applyMiddlewares(n)),Object.keys(this.dispatcher.stores).forEach((e=>{this.getStore(e)}))}applyMiddlewares(e){let t=(...e)=>{throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")};const r={getState:this.getState.bind(this),subscribe:this.subscribe.bind(this),dispatch:(...e)=>t(...e)};return t=o()(...e.map((e=>e(r))))(this.applyDispatch),t}getStore(e){let t,r=!1;"object"==typeof e?(t=e.store,r=e.optional):t=e;const n=this.dispatcher.getStoreName(t);if(!this.storeInstances[n]){let e=this.dispatcher.stores[n];if(!e){if("function"!=typeof t){if(r)return null;throw new Error(`Store ${n} was not registered.`)}this.dispatcher.registerStore(t),e=t}const i=new e(this.dispatcherInterface);if(this.storeInstances[n]=i,this.rehydratedStoreState&&this.rehydratedStoreState[n]){const e=this.rehydratedStoreState[n];i.rehydrate&&i.rehydrate(e),this.rehydratedStoreState[n]=null}o=()=>{const e=i.getState();e!==this.fullState[n]&&(this.fullState=Object.assign(Object.assign({},this.fullState),{[n]:e}),this.emit("change"))},i.on("change",o),o()}var o;return this.storeInstances[n]}dispatch(e,t){if(!e)throw new Error(`eventOrType parameter ${e} is invalid.`);const r=_(e,t);return this.applyDispatch(r)}applyHandlers(e,t){const r={},n=e=>{if(r[e.name])return;const t=this.getStore(e.name);t&&("function"==typeof e.handler?r[e.name]=e.handler.bind(t):r[e.name]=t[e.handler].bind(t))},o=t.length;for(let e=0;e<o;e++)n(t[e]);return((e,t)=>{const r=Object.keys(t);for(let n=0;n<r.length;n++){const o=r[n],i=t[o];if(!i)throw new Error(`${o} does not have a handler for action ${e.type}`);i(e.payload,e.type)}})(e,r)}dehydrate(){const e={},t=Object.keys(this.storeInstances);for(let r=0;r<t.length;r++){const n=t[r],o=this.storeInstances[n];o.dehydrate()&&(e[n]=o.dehydrate())}return{stores:e}}rehydrate(e){if(e.stores){const t=Object.keys(e.stores);for(let r=0;r<t.length;r++){const n=t[r];this.rehydratedStoreState[n]=e.stores[n]}}}subscribe(e){return this.on("change",e),()=>{this.off("change",e)}}getState(){return this.fullState}setContext(e){this.context=e}}class w{constructor(e){(e=e||{}).stores=e.stores||[],this.stores={},this.handlers={},e.stores.forEach((e=>{this.registerStore(e)}))}createContext(e,t,r){return new j(this,e,t,r)}registerStore(e){const{storeName:t}=e;if(this.stores[t]){if(this.stores[t]===e)return;0}this.stores[t]=e,e.handlers&&Object.keys(e.handlers).forEach((r=>{const n=e.handlers[r];this.registerHandler(r,t,n)}))}getStoreName(e){return"string"==typeof e?e:e.storeName}registerHandler(e,t,r){this.handlers[e]=this.handlers[e]||[],this.handlers[e].push({name:t,handler:r})}}function k(e){return new w(e)}function E(e,t=s.a){const r=e,n=(...e)=>({type:r,payload:t(...e)});return n.getType=()=>r,n.toString=()=>r,n}function S(e,t){var r;const n={};return(r=class e extends O{constructor(){super(),this.state=t}static createEvents(t){const r=Object.keys(t),n={};return r.forEach((r=>{const o=t[r],i=E(""+r);n[r]=i,e.on(i,o)})),n}static on(t,r){if(Array.isArray(t))return t.forEach((t=>e.on(t,r))),e;const o=t.toString();return e.handlers[o]="handle",n[o]=r,e}getState(){return this.state}setState(e){this.state=e,this.emit("change")}dehydrate(){return this.state}rehydrate(e){this.state=e}handle(e,t){const r=n[t];r&&(this.state=r(this.state,e),this.emit("change"))}}).storeName=e,r.handlers={},r}class T{constructor(e){this.handleStateChange=()=>{this.onStateChange&&this.onStateChange()},this.stores=e,this.unsubscribe=void 0}isSubscribed(){return Boolean(this.unsubscribe)}setOnStateChange(e){this.onStateChange=e}trySubscribe(){this.unsubscribe||(this.unsubscribe=this.stores.filter(Boolean).map((e=>(e.on("change",this.handleStateChange),()=>{e.removeListener("change",this.handleStateChange)}))))}tryUnsubscribe(){this.unsubscribe&&(this.unsubscribe.forEach((e=>e())),this.unsubscribe=void 0),this.onStateChange=void 0}}const P=Object(d.createContext)(null),x=()=>Object(d.useContext)(P);function C(e){const t=x(),r=Object(g.a)(e);return Object(d.useMemo)((()=>h()(r)?r.map((e=>t.executeAction.bind(t,e))):t.executeAction.bind(t,r)),[r,t])}const M=d.useLayoutEffect,R=window;function I(){return"requestAnimationFrame"in R?requestAnimationFrame:"setImmediate"in R?R.setImmediate:setTimeout}const D=I();function A(e,t,r=c.a){l()(t,"You must pass a selector to useSelectors");const n=x(),[,o]=Object(d.useReducer)((e=>e+1),0),i=Object(d.useRef)(!1),s=Object(g.a)(e),a=Object(d.useMemo)((()=>new T(v()(s).map(n.getStore))),[s,n]),u=Object(d.useRef)(),f=Object(d.useRef)(t),p=Object(d.useRef)();let h;try{h=!p.current||t!==f.current||u.current?t(n.getState()):p.current}catch(e){let t=`An error occured while selecting the store state: ${e.message}.`;throw u.current&&(t+=`\nThe error may be correlated with this previous error:\n${u.current.stack}\n\nOriginal stack trace:`),new Error(t)}return M((()=>{f.current=t,p.current=h,u.current=void 0})),M((()=>{function e(){i.current=!1;try{const e=f.current(n.getState());if(r(e,p.current))return;p.current=e}catch(e){u.current=e}o()}return a.setOnStateChange((()=>{i.current||(i.current=!0,D(e))})),a.trySubscribe(),e(),()=>a.tryUnsubscribe()}),[a]),h}var L=e=>f.a.createElement(P.Provider,{value:e.context},e.children);const{Consumer:N}=P},cskU:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("fT98"),o=r("ivNy"),i=r("dsZU");class s extends n.Metric{startTimer(e){return o.startTimer.call(this,e)}observe(...e){let t,r={};i.isNumber(e[0])?[t]=e:i.isNumber(e[1])&&([r={},t]=e),this.setValue(r,t)}labels(...e){const t=this.getLabels(this.labelNames,e);return{startTimer:this.startTimer.bind(this,t),observe:this.observe.bind(this,t)}}}t.TimeMetric=s},d2Ko:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}},d52I:function(e,t,r){"use strict";var n=r("BT50"),o=r("7Mw8");e.exports=function(e){return(n(e)||o(e))&&o(e.then)}},dAUr:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o}));var n=r("vek/");const o=Object(n.f)("serverModulePapiPublicUrl"),i=Object(n.f)("serverModulePapiPrivateUrl"),s=Object(n.f)("serverModulePapiPrivateRoute",{multi:!0}),a=Object(n.f)("serverModulePapiPublicRoute",{multi:!0});Object(n.f)("serverModuleStaticsOptions"),Object(n.f)("server"),Object(n.f)("webApp"),Object(n.f)("webAppBeforeInit",{multi:!0}),Object(n.f)("webAppInit",{multi:!0}),Object(n.f)("webAppAfterInit",{multi:!0}),Object(n.f)("proxyConfigToken",{multi:!0}),Object(n.f)("dependenciesVersionFilter")},dCVy:function(e,t,r){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},da5Q:function(e,t,r){"use strict";e.exports={PHONE_SMALL:370,PHONE_GIANT:541,PHONE:599,MEDIUM_TABLETS:600,TABLETS:600,MOBILE:1023,DESKTOP:1024,DESKTOP_SMALL:1024,DESKTOP_MEDIUM:1360,DESKTOP_LARGE_BOARD:1600,DESKTOP_LARGE:1600,DESKTOP_EXTRA_LARGE:1716,TABLET_S:600,TABLET_L:768,DESKTOP_S:1024,DESKTOP_M:1360,DESKTOP_L:1600}},dsZU:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=e=>"number"==typeof e||e instanceof Number},"e++P":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("Hd8N")),i=n.__importDefault(r("+n3f")),s=n.__importDefault(r("7Fsg")),a=n.__importDefault(r("kss9")),c=r("6Alu"),u=r("96Xu");t.default=function(e,t){return function(r){var n,l=r.getRequest(),d=o.default("cacheForce",l),f=o.default(e+"CacheForce",l),p=s.default("cache",!1,l),h=i.default(e+"Cache",!p&&t,l),g=r.getStatus()===c.Status.COMPLETE;return r.getStatus()===c.Status.INIT&&r.updateExternalMeta(u.CACHE,((n={forced:d,enabled:!p})[e+"Enabled"]=h,n[e+"Force"]=f,n)),f?g:a.default(f)&&d?g&&t:h}}},"e/dA":function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Object.assign.apply(Object,[{}].concat(t))}))},e0Gv:function(e,t,r){"use strict";function n(e){var t=e.replace(/\D/g,""),r=Math.abs(Number(t));return 0===r||Number.isNaN(r)||r>20?"0":r+"px"}Object.defineProperty(t,"__esModule",{value:!0}),t.isPrototypeOf=t.safeMargins=t.warn=t.noop=t.pick=void 0,t.pick=function(e,t){return Object.keys(e).reduce((function(r,n){return-1!==t.indexOf(n)&&void 0!==e[n]&&(r[n]=e[n]),r}),{})},t.noop=function(){},t.warn=function(e,t){0},t.safeMargins=function(e){var t=e.split(" "),r=t[1],o=void 0===r?"0":r,i=t[3],s=void 0===i?"0":i;return"0 "+n(o)+" 0 "+n(s)},t.isPrototypeOf=function(e,t){return Object.prototype.isPrototypeOf.call(e,t)}},e5XK:function(e,t){e.exports=vendor_1ab84b9c7e24e65834ba},e7N4:function(e,t,r){"use strict";r.d(t,"a",(function(){return Q})),r.d(t,"b",(function(){return K}));var n=r("sV9m"),o=r("HqrZ"),i=r("vek/"),s=r("Ul1X"),a=r("6/k4"),c=r("Al+g"),u=r("6PeD"),l=r.n(u),d=r("B2vP"),f=r.n(d),p=r("cWxP"),h=r("LS0E"),g=r.n(h),m=r("P647"),v=r.n(m),b=r("zsJm"),y=r("Q40W"),O=r("s5GS"),_=r("wTcq"),j=r.n(_),w=r("8ygP"),k=r.n(w),E=r("53i8"),S=r.n(E),T=r("5TCA"),P=r.n(T),x=r("7Fsg"),C=r.n(x),M=r("Hd8N"),R=r.n(M),I=r("5B8e"),D=r.n(I),A=r("2UNw"),L=r.n(A);let N,q;try{N=r("JC/+")}catch(e){N={}}try{q=r("OTpg")}catch(e){q={}}var F={react:r("6PeD"),"react-dom":r("KtHL"),"lru-cache":function(...e){try{return new(r("yNnq"))(...e)}catch(e){return{}}},debug:N,classnames:q};window.__externals=F;class U{constructor(e=Object.create(null)){this.state=e}get(e){return this.state[e]}set(e){this.state=Object.assign(Object.assign({},this.state),e)}clear(){this.state=Object.create(null)}getState(){return this.state}}const H=Object(p.d)("LOAD_MODULES_CONFIG"),V=Object(p.d)("SET_MODULE_STATE"),B=Object(p.d)("CLEAR_MODULE_STATE"),z=Object(p.e)("module",{modulesConfig:{},modulesState:{},modulesInnerStore:{}}).on(H,((e,t)=>Object.assign(Object.assign({},e),{modulesConfig:t,modulesInnerStore:f()(((e,t)=>new U),t)}))).on(V,((e,{name:t,state:r})=>Object.assign(Object.assign({},e),{modulesState:Object.assign(Object.assign({},e.modulesState),{[t]:Object.assign(Object.assign({},e.modulesState[t]),r)})}))).on(B,((e,t)=>Object.assign(Object.assign({},e),{modulesState:Object.assign(Object.assign({},e.modulesState),{[t]:void 0})})));z.prototype.rehydrate=function(e){const{modulesInnerStore:t}=e;this.state=Object.assign(Object.assign({},e),{modulesInnerStore:f()((e=>new U(e.state)),t)})};const G=P()(L()(C()("type","headerSlim"),C()("type","header"))),$=D()(R()("properties"),G),W=Object(i.f)("dynamicPubsubSubscriptions",{multi:!0});let J=class{};J=Object(n.__decorate)([Object(o.g)({providers:[{provide:s.s,useFactory:({createPubsub:e})=>{const t=e(),r=t.subscribe.bind(t),n=t.publish.bind(t);return{fallback:!0,subscribe:(e,t)=>j()(e)?r(e,t):r(e.type,(e=>Promise.resolve(t(e)).then((e=>[e])))),publish:(e,...t)=>j()(e)?n(e,...t):n(e.type,e.payload)}},deps:{createPubsub:s.r}},{provide:o.h.customerStart,scope:i.c.REQUEST,useFactory:e=>function(){(({pubsub:e,pubsubSubscriptions:t,pageService:r,papiClient:n,tinkoffApiClient:o,authenticator:i,resourceLoader:s})=>{const a=Object.assign({"Tinkoff:get:currentRoute":()=>Object(c.d)(r.getCurrentRoute()),"Tinkoff:module:request:platform":e=>n.request(e),"Tinkoff:module:navigate":e=>r.navigate(e),"Tinkoff:get:headerVariations":()=>{const e=r.getContent();return e?$(e.content):{}},"Tinkoff:module:request:tinkoff":e=>o.request(e),"Tinkoff:module:actions:logout":()=>null==i?void 0:i.logout(),"Tinkoff:module:request:resources":({name:e,httpMethod:t,useCache:r=!0,timeout:n})=>s.request({name:e,httpMethod:t,cache:r,timeout:n})},...k()(t||[]));S()(((t,r)=>{e.subscribe(r,((...e)=>Promise.resolve(t(...e)).then((e=>[e]))))}),a)})(e)},multi:!0,deps:{pubsub:s.s,pageService:O.i,papiClient:b.f,tinkoffApiClient:b.g,pubsubSubscriptions:{token:W,optional:!0,multi:!0},authenticator:{token:y.a,optional:!0},resourceLoader:b.b,store:s.A}}]})],J);const K=e=>{const{moduleName:t}=e,r=Object(p.i)("module",(({module:{modulesState:e,modulesInnerStore:r}})=>({moduleInitialState:e[t],moduleInnerStore:r[t]})));return l.a.createElement(c.b,Object.assign({},e,r))};var Y;let Q=Y=class{static forRoot({pubsubSubscriptions:e}){return{mainModule:Y,providers:[{provide:W,multi:!0,useValue:e}]}}};Q=Y=Object(n.__decorate)([Object(o.g)({imports:[J],providers:[{provide:"createDynamicModulesLoader",useFactory:({logger:e})=>new c.a({log:e("dynamic-components")}),deps:{logger:s.q},scope:i.c.SINGLETON},{provide:"dynamicModulesLoader",useFactory:({store:e,loader:t,logger:r})=>(n,o)=>{const i=r("dynamic-components"),{module:{modulesConfig:s},featureToggle:a}=e.getState(),u=Object(c.e)(s,n,o,a);if(u)return t.load(u);i.error(`module ${n} is not found in moduleConfig`)},deps:{loader:"createDynamicModulesLoader",store:s.A,logger:s.q}},{provide:a.e,useFactory:({loader:e})=>t=>l.a.createElement(c.c.Provider,{value:{loader:e}},t),deps:{loader:"dynamicModulesLoader"},multi:!0},{provide:s.g,useValue:z,multi:!0},{provide:o.h.customerStart,useFactory:({loader:e})=>function(){const t=[];return g()((r=>{const n=r.getAttribute("dc-js-name"),o=r.getAttribute("dc-js-version");if(n&&o){const r=e(n,o);r&&r.then&&t.push(r.catch(v.a))}}),document.scripts),Promise.all(t)},multi:!0,deps:{loader:"dynamicModulesLoader"}}]})],Q)},etHu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("cskU");class o extends n.TimeMetric{constructor(e){super(e),this.type="histogram"}}t.Histogram=o},f9eB:function(e,t,r){"use strict";const{AbortController:n,AbortSignal}="undefined"!=typeof self?self:window;e.exports=n,e.exports.AbortSignal=AbortSignal,e.exports.default=n},"fAA/":function(e,t,r){"use strict";var n=r("ITDq");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=n(3,(function(e,t,r){var n;return void 0===r&&(r={}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(r,!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,((n={})[e]=t,n))}))},fFyy:function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return o})),r.d(t,"__assign",(function(){return i})),r.d(t,"__rest",(function(){return s})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return c})),r.d(t,"__metadata",(function(){return u})),r.d(t,"__awaiter",(function(){return l})),r.d(t,"__generator",(function(){return d})),r.d(t,"__createBinding",(function(){return f})),r.d(t,"__exportStar",(function(){return p})),r.d(t,"__values",(function(){return h})),r.d(t,"__read",(function(){return g})),r.d(t,"__spread",(function(){return m})),r.d(t,"__spreadArrays",(function(){return v})),r.d(t,"__await",(function(){return b})),r.d(t,"__asyncGenerator",(function(){return y})),r.d(t,"__asyncDelegator",(function(){return O})),r.d(t,"__asyncValues",(function(){return _})),r.d(t,"__makeTemplateObject",(function(){return j})),r.d(t,"__importStar",(function(){return k})),r.d(t,"__importDefault",(function(){return E})),r.d(t,"__classPrivateFieldGet",(function(){return S})),r.d(t,"__classPrivateFieldSet",(function(){return T}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var f=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||f(t,e,r)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(i[0][2],r)}catch(e){l(i[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function O(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}}function j(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var w=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&f(t,e,r);return w(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},fT98:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("WrKS"),o=r("QDYm");t.Metric=class{constructor(e,t={}){if(this.valuesMap={},this.getLabels=o.getLabels,this.hashObject=o.hashObject,e!==Object(e))throw new TypeError("constructor expected a config object");if(Object.assign(this,{labelNames:[],registers:[n.globalRegistry]},t,e),this.registers||(this.registers=[n.globalRegistry]),!this.help)throw new Error("Missing mandatory help parameter");if(!this.name)throw new Error("Missing mandatory name parameter");this.reset(),this.registers.forEach((e=>{e.registerMetric(this)}))}get values(){return Object.keys(this.valuesMap).reduce(((e,t)=>e.concat(this.valuesMap[t])),[])}get(){return{name:this.name,help:this.help,type:this.type,values:this.values,aggregator:this.aggregator}}validateLabels(e){Object.keys(e).forEach((e=>{if(-1===this.labelNames.indexOf(e))throw new Error(`Added label "${e}" is not included in initial labelset: ${JSON.stringify(this.labelNames)}`)}))}reset(){this.valuesMap={}}remove(...e){const t=this.getLabels(this.labelNames,e);delete this.valuesMap[this.hashObject(t)]}setValue(e,t){this.validateLabels(e);const r=this.hashObject(e);this.valuesMap[r]?this.valuesMap[r].push({value:t,labels:e}):this.valuesMap[r]=[{value:t,labels:e}]}}},fxiU:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},g4He:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(3,(function(e,t,r){return function(){return e.apply(void 0,arguments)?t.apply(void 0,arguments):r.apply(void 0,arguments)}}))},gHEs:function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},gIfq:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("sV9m"),o=r("HqrZ");let i=class{};i=Object(n.__decorate)([Object(o.g)({providers:[]})],i)},ggPp:function(e,t,r){"use strict";var n=r("ITDq"),o=r("z4OE");e.exports=n(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);for(var r=[],n=0;n<e.length;n++)o(e[n],t)<0&&r.push(e[n]);return r}))},gqbd:function(e,t,r){e.exports=r("l7Wg")()},hMcK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageMakerLite=void 0;var n=r("fFyy").__importDefault(r("W6/Z"));t.PageMakerLite=n.default,t.default=n.default},"i/4V":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m");t.default=function(e){var t=void 0===e?{}:e,r=t.baseUrl,o=void 0===r?"":r,i=t.transform,s=void 0===i?function(e){return""+e.baseUrl+e.url}:i;return{init:function(e,t){var r=e.getRequest();t({request:n.__assign(n.__assign({},r),{url:s(n.__assign(n.__assign({},r),{baseUrl:r.baseUrl||o}))})})}}}},iH1D:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){var r;function n(){var n=this,o=arguments;clearTimeout(r),r=setTimeout((function(){return t.apply(n,o)}),e)}return n.cancel=function(){return clearTimeout(r)},n}))},iPxf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBaseCloudUrl=t.defaultBaseUrl=void 0,t.defaultBaseUrl="https://acdn.tinkoff.ru/pfp-boxy/mm",t.defaultBaseCloudUrl="https://acdn.tinkoff.ru/boxycloud/"},iWIu:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pureUse=void 0;var n=r("fFyy").__importDefault(r("TJbA")),o=r("mcCP"),i=n.default("page-maker:render"),s={btn:o.Btn,flex:o.Flex,lane:o.Lane,expander:o.Expander,fragment:o.Fragment,sticky:o.Sticky,screen:o.Screen};t.pureUse=function(e){var t=e.type;if(void 0!==s[t])return i.debug('for type "'+t+'" found build-in component, returning'),s[t];i.debug('pureUse: type "'+t+'" not found inside page-maker, going outside')}},iWOL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fillMap=t.getMap=void 0;var n=r("sV9m").__importDefault(r("6PeD")),o=r("4dcc"),i=r("C5ny"),s=r("GFzn"),a=r("2qlJ");t.getMap=s.getMap;t.fillMap=function(e,t){return s.fillMap(),i.traverseTree(e,(function(e){var r;"string"==typeof(null===(r=e.render)||void 0===r?void 0:r.lazy)&&"none"!==e.render.lazy&&function(e,t){if(void 0!==e.render){var r=s.getTemper(),i=a.getMmid(e);if(!r.modules[i]){var c=e.render,u=a.getUrl(e,"clientJs",t),l=void 0;!1===e.render.isCriticalCss&&(l=a.getUrl(e,"css",t));var d={initialize:function(){return d.initialize=!0,d},initialized:!0,meta:{mmid:i,clientJs:u,css:l,strategy:c.lazy,render:e.render},exports:n.default.forwardRef((function(e,t){return n.default.createElement(o.ClientLazyRender,{clientJs:u,css:l,mmid:i,props:e,forwardedRef:t,modules:r.modules,strategy:c.lazy})}))};r.modules[i]=d,d.exports.displayName="ClientLazyRender("+i+")",s._addToMap(i,d.exports)}}}(e,t)})),s.getMap()},t.default=t.fillMap},ivNy:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startTimer=function(e={}){const t=performance.now();return function(r={}){const n=[Object.assign(Object.assign({},e),r),performance.now()-t];"observe"in this?this.observe(...n):"set"in this&&this.set(...n)}.bind(this)}},j9Lp:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("sV9m"),o=r("HqrZ");let i=class{};i=Object(n.__decorate)([Object(o.g)({providers:[]})],i)},j9ye:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.metaTypes=t.getCacheKey=t.cacheKey=t.shouldCacheExecute=void 0;var n=r("sV9m"),o=n.__importDefault(r("e++P"));t.shouldCacheExecute=o.default;var i=n.__importDefault(r("Iwce"));t.cacheKey=i.default;var s=n.__importDefault(r("3dWY"));t.getCacheKey=s.default;var a=n.__importStar(r("96Xu"));t.metaTypes=a},jy6p:function(e,t,r){"use strict";var n=r("BT50");e.exports=function(e){return n(e)?Object.keys(e):[]}},kQef:function(e,t,r){e.exports={flex:"a2wgrA",hidden:"b2wgrA",row:"c2wgrA",lane:"d2wgrA",cell:"e2wgrA"}},kbbJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDi=void 0;r("fFyy").__importDefault(r("TJbA")).default("page-maker:di");t.createDi=function(e){return{get:function(t){return e&&e[t]}}}},kmoA:function(e,t,r){e.exports={flex:"a2L1us",hidden:"b2L1us",pointer:"c2L1us"}},krYm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOG=void 0,t.LOG="log"},kss9:function(e,t,r){"use strict";e.exports=function(e){return void 0===e}},l7Wg:function(e,t,r){"use strict";var n=r("Pwia");function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},l9QB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALIDATE=void 0,t.VALIDATE="validate"},lHJy:function(e,t,r){"use strict";r.d(t,"a",(function(){return we}));var n=r("sV9m"),o=r("HqrZ"),i=r("vek/"),s=r("Ul1X"),a=r("UDiI"),c=r("KJat"),u=r("s5GS"),l=r("Hqua"),d=r.n(l),f=r("CPiL"),p=r.n(f),h=r("bXyb"),g=r("VOL+"),m=r.n(g),v=r("JuBB"),b=r.n(v),y=r("uuQ6"),O=r.n(y),_=r("35U/"),j=r("VrK3"),w=r.n(j),k=r("BT50"),E=r.n(k),S=r("/g+q"),T=r.n(S),P=r("wTcq"),x=r.n(P),C=r("EC8c"),M=r.n(C),R=r("x3U1"),I=r.n(R),D=r("5B8e"),A=r.n(D),L=r("Ti8s"),N=r.n(L),q=r("Ioz2"),F=r.n(q),U=r("fAA/"),H=r.n(U),V=r("Hd8N"),B=r.n(V),z=r("e/dA"),G=r.n(z),$=r("r5ud"),W=r.n($),J=r("4bkg"),K=r.n(J),Y=r("+n3f"),Q=r.n(Y),X=r("LS0E"),Z=r.n(X),ee=r("rFO0"),te=r.n(ee);const re=["utm_source","utm_content","utm_campaign","utm_medium","utm_term","sid","wm"];const ne="dcoData";var oe=(e,t)=>{switch(e){case"dco.id":return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(t);default:return void 0!==e&&void 0!==t}};const ie=re.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:!0})),{}),se="utm_source",ae=/; */,ce=e=>m()(((e,t)=>!ie[t]),e),ue=e=>b()(((e,t,r)=>oe(r,t)?[...e,`${r}=${t}`]:e),[],e).join("; ");var le=(e,t="")=>{const r=(e=>{if(!e)return e;const t={};return Object.keys(e).forEach((r=>{if(Object.prototype.hasOwnProperty.call(e,r))try{t[encodeURIComponent(r)]=encodeURIComponent(e[r])}catch(e){}})),t})(((e="")=>{const{query:t}=Object(h.d)(e);return!!t.utm_source&&O()(re,t)})(e.getUrl())),n=((e="")=>e.split(ae).reduce(((e,t)=>{const[r,n]=t.split("=");return Object.assign(Object.assign({},e),{[r]:n})}),{}))(e.getHeader("cookie"));return r?ue(Object.assign(Object.assign({},ce(n)),r)):n.utm_source?ue(n):ue(Object.assign(Object.assign({},ce(n)),{[se]:t||""}))};function de(e){let t;try{t=Object(_.a)(e)}catch(e){}return t||""}const fe="beforeRedirectPageUrl";var pe=(e,t,r)=>{const n=d()(["referrer"],"",e.getState()),o={referrer:n,beforeRedirectPageUrl:r.get(fe)};return{dcoRequestCookieHeader:le(t,n),dcoRequestPayload:((e,{referrer:t,beforeRedirectPageUrl:r})=>{const{query:n}=Object(h.d)(e.getUrl());return Object.assign(Object.assign({},n),{trackingState:de({dco:{referrer:t,beforeRedirectPageUrl:r}})})})(t,o),dcoRequestParams:o}};const he=["protocol","host","pathname","query"],ge=["query","dco_ic"],me=W()(["variation","dco_variation"]),ve=A()((e=>H()("query",e,{})),A()(me,B()("query"))),be=(e,t)=>Object.assign(Object.assign({},e),{query:G()(e.query,t.query)});var ye=(e,t)=>{return A()(h.b,(r=he,A()(F()([[A()(w.a,B()("pathname")),N.a],[A()(T.a,x.a,B()("pathname")),N.a],[A()(M()("/"),K.a,B()("pathname")),N.a],[I.a,e=>Object.assign(Object.assign({},e),{pathname:e.pathname+"/"})]]),O()(r))),be)((({value:e,modify:t={}})=>((e,t={})=>(void 0!==e&&(t.query=t.query||{},t.query.dco_ic=e),t))(d()(ge,void 0,t),e))(e),ve(t));var r};const Oe=te()(", "),_e=Q()("x-dco-set-context","");var je=({requestManager:e,cookieManager:t,logger:r},n)=>{const{payload:o,headers:i}=n;if(!E()(o))return n;((e,t)=>{Z()((t=>{const[r,n]=t.split("=");oe(r,n)&&e.set({name:r,value:n,expires:31536e3})}),Oe(_e(t)))})(t,i),o.currentUrl=Object(h.d)(e.getUrl());const s=o.dco,a=!w()(s)&&!w()(s.state);if(a&&o.redirectUrl){t.set({name:fe,value:o.currentUrl.pathname,expires:60}),t.set({name:ne,value:de(s),expires:60});const e=((e,t,r)=>{const n=Object(h.d)(t),o={query:{dco_ic:p()(["state","ic"],r)}};return ye({value:n,modify:o},e)})(o.currentUrl,o.redirectUrl,s);return o.redirectUrl=e,o.finalRedirectUrl=!0,n}const c=((e,t)=>{const r=e.get(ne);let n;if(r)try{n=JSON.parse(r)}catch(e){t({name:"route:dco:parsing-cookie-state"}).error(e)}return n})(t,r);return c&&t.set({name:ne,value:"",expires:new Date(0)}),a||c&&(o.dco=c),n};let we=class{};we=Object(n.__decorate)([Object(o.g)({providers:[{provide:u.o,multi:!0,scope:i.c.REQUEST,useFactory:({store:e,requestManager:t,cookieManager:r,logger:n,tracking:o})=>i=>s=>{const{dcoRequestPayload:a={},dcoRequestCookieHeader:c="",dcoRequestParams:u={}}=pe(e,t,r)||{},l={"x-app-id":s.appId,"x-dco-user-data":c};return i(Object.assign(Object.assign({},s),{withDco:!0,headers:l,payload:Object.assign(Object.assign({},s.payload),a)})).then((e=>je({requestManager:t,cookieManager:r,logger:n},e))).then((e=>{if(o){const r=e.payload.dco,n=d()(["query","dco_ic"],"",Object(h.d)(t.getUrl()||"")),i=p()(["x-dco-ic"],e.headers),s=p()(["state","ic"],r),a={personalizedLandingMetrics:r,dco:Object.assign(Object.assign({},u),{ic:s||i||n})};o.extend(a)}return e}))},deps:{requestManager:s.v,logger:s.q,cookieManager:a.a,tracking:{token:c.a,optional:!0},store:s.A}}]})],we)},mDUT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUseObserverVisible=void 0;var n=r("6PeD");t.createUseObserverVisible=function(e){return function(t){var r=n.useState(!1),o=r[0],i=r[1];return n.useEffect((function(){if(t.current&&!o){var r=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(t.disconnect(),i(!0))}))}),e);return r.observe(t.current),function(){r.disconnect()}}}),[t]),o}}},mcCP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=t.MakerError=t.Sticky=t.Fragment=t.Expander=t.Flex=t.Lane=t.Btn=void 0;var n=r("fFyy"),o=n.__importDefault(r("PQBz"));t.Btn=o.default;var i=n.__importDefault(r("q5+e"));t.Lane=i.default;var s=n.__importDefault(r("4Z+W"));t.Flex=s.default;var a=n.__importDefault(r("F+Bf"));t.Expander=a.default;var c=n.__importDefault(r("I4Rs"));t.Sticky=c.default;var u=n.__importDefault(r("HPRs"));function l(e){return e.children}function d(e){return e.children}t.MakerError=u.default,t.Fragment=l,l.displayName="PMFragment",t.Screen=d,d.displayName="PMScreen"},msnB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serialize=void 0;var n=r("9HyP");t.serialize=function(e,t){switch(e){case"form":case"urlencoded":case"form-data":return n.serialize(t);case"json":return JSON.stringify(t);default:return t}}},nd4w:function(e,t,r){"use strict";e.exports=function(e){var t,r=!1;return function(){return r||(t=e.apply(void 0,arguments),r=!0),t}}},oKB5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.abort=t.getStatus=t.getHeader=t.getHeaders=t._getResponse=void 0;var n=r("sV9m").__importDefault(r("Hd8N")),o=r("2Ii2");t._getResponse=function(e){var t=e.getInternalMeta(o.PROTOCOL_HTTP);return t&&t.response};var i=function(e){return n.default("headers",t._getResponse(e))};t.getHeaders=function(e){var t=i(e),r={};return t&&t.forEach((function(e,t){r[t]="set-cookie"===t?[]:e})),r},t.getHeader=function(e,t){var r=i(e);if(r)return"set-cookie"===t?[]:r.get(t)},t.getStatus=function(e){return n.default("status",t._getResponse(e))},t.abort=function(e){var t=e.getInternalMeta(o.PROTOCOL_HTTP);return t&&t.requestAbort()}},op1K:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"p+7X":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("sV9m"),o=n.__importDefault(r("LS0E")),i=n.__importDefault(r("53i8")),s=n.__importDefault(r("9vPl")),a=n.__importDefault(r("Mg/g")),c=n.__importDefault(r("E7RR"));t.default=function(e,t){void 0===t&&(t=[]);var r=new c.default;return i.default((function e(t,n){if(s.default(t))return o.default((function(t){return e(t,n)}),t);a.default(t)||r.append(n,t)}),e),t.forEach((function(e){if(e instanceof window.Blob){var t=e.uploadName||e.name,n=e.fieldName||"file";r.append(n,e,encodeURIComponent(t))}})),r}},pID9:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackAction=void 0;var n=r("bH6c");t.trackAction=function(e){switch(e.type){case"track":var t=e.event;t&&n.sendEvent(t,e.payload,e.target);break;case"track-data":n.sendEvent(e.type,e.payload);break;case"track-block":var r=e.payload,o=e.event,i=void 0===o?"blockInteraction":o,s=e.target;n.sendEvent(e.type,{payload:r,event:i},s);break;default:return!1}return!0}},pZ9c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Map;t.default=function(e,t,r){if(void 0===r&&(r={}),n.has(t))return n.get(t);var o=document.createElement("link");Object.assign(o,r,{rel:e,href:t});var i=new Promise((function(e,r){o.onerror=function(){return r(new Error("could not load link "+t))},"onload"in o?o.onload=e:setTimeout(e,50),document.head.appendChild(o)}));return n.set(t,i),i}},pexD:function(e,t,r){"use strict";var n=r("9vPl"),o=r("BFYb");e.exports=function(e){return n(e)?e:o(e)?Array.prototype.slice.call(e):[e]}},"q5+e":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy"),o=n.__importStar(r("6PeD")),i=n.__importDefault(r("OTpg")),s=n.__importDefault(r("4Z+W")),a=n.__importDefault(r("kQef")),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.background,r=e.borderTop,c=e.borderBottom,u=e.children,l=n.__rest(e,["background","borderTop","borderBottom","children"]);return o.default.createElement(s.default,{className:i.default(a.default.lane,a.default.row),background:t,borderTop:r,borderBottom:c,forwardDomRef:function(){},hoistRef:function(){},dispatch:function(){}},o.default.createElement(s.default,n.__assign({className:i.default(a.default.lane,a.default.cell)},l),u))},t.displayName="PMLane",t}(o.Component);t.default=c},qsOC:function(e,t,r){"use strict";r.d(t,"a",(function(){return Pe}));var n=r("sV9m"),o=r("vek/"),i=r("HqrZ"),s=r("Ul1X"),a=r("cWxP");class c{constructor(){this.parameters={}}get(e){return this.parameters[e]}getInt(e,t){const r=Number(e in this.parameters?this.parameters[e]:t);return Number.isFinite(r)?r:t}getAll(){return this.parameters}update(e){this.parameters=Object.assign(this.parameters,e)}clientUsed(){return this.getAll()}}const u=Object(a.e)("environment",{});let l=class{};l=Object(n.__decorate)([Object(i.g)({providers:[{provide:s.m,useFactory:({store:e})=>{const t=new c;return t.update(e.getState().environment),t},scope:o.c.SINGLETON,deps:{store:s.A}},{provide:s.g,useValue:u,multi:!0}]})],l);var d=r("UDiI"),f=r("TJbA"),p=r("35U/");var h=r("9+TJ");const g="__papi_parameters__";var m=r("dAUr"),v=r("LS0E"),b=r.n(v),y=r("rFO0"),O=r.n(y);const _=Object(a.d)("setLogs"),j=Object(a.e)("devLogs",[]).on(_,((e,t)=>t));class w{constructor(e){this.logs=[],this.logs=e}extend(e){const[t]=e.args;return this.logs[t]}}s.p,o.c.SINGLETON,s.g,i.h.customerStart,i.h.generatePage,s.i,m.a,s.m,s.q,s.g,i.h.customerStart,s.i;let k=class{};k=Object(n.__decorate)([Object(i.g)({providers:[{provide:s.q,useFactory({loggerInitHooks:e}){if(e)for(const t of e)t(f.logger);return f.logger},deps:{loggerInitHooks:{token:s.p,multi:!0,optional:!0}}},{provide:"remoteReporter",useFactory:({appInfo:e,envManager:t,wuid:r})=>{const{appName:n}=e,o=t.get("APP_VERSION"),i=t.get("APP_RELEASE"),s=t.get("FRONT_LOG_API");return new f.RemoteReporter({requestCount:1,emitLevels:{error:!0,fatal:!0},makeRequest:e=>function({logApi:e,payload:t}){return fetch(e+"collect",{method:"POST",keepalive:!0,headers:{"Content-type":"application/json"},body:Object(p.b)(t)}).catch((e=>e))}({logApi:s,payload:Object.assign(Object.assign({},e),{component:`tramvai-${n}-${e.name}`,wuid:r,release:i,appVersion:o,appName:n,appType:"tramvai",from:"browser",userAgent:window.navigator.userAgent,href:window.location.href})})})},scope:o.c.SINGLETON,deps:{appInfo:i.c,envManager:s.m,wuid:{token:h.a,optional:!0}}},{provide:s.p,multi:!0,useFactory:({remoteReporter:e})=>t=>{t.addBeforeReporter(e)},deps:{remoteReporter:"remoteReporter"}}]})],k);var E=r("TUac"),S=r.n(E);var T=r("53i8"),P=r.n(T),x=r("Hqua"),C=r.n(x),M=r("8ygP"),R=r.n(M),I=r("VrK3"),D=r.n(I),A=r("ua3C"),L=r.n(A),N=r("45F3"),q=r("P647"),F=r.n(q),U=r("c/rd");const H={logger:{debug:F.a,info:F.a,error:F.a},resultTransform:e=>1===e.length?e[0]:e};class V{constructor(e){this.subscribers=new Map;const t=Object.assign(Object.assign({},H),e);this.logger=t.logger,this.resultTransform=t.resultTransform}subscribe(e,t){this.logger.debug("subscribe",e,t);let r=this.subscribers.get(e);return r?r.add(t):(r=new Set([t]),this.subscribers.set(e,r)),()=>r.delete(t)}publish(e,...t){this.logger.debug("publish",e,t);const r=this.subscribers.get(e);if(r&&r.size){const e=[];return r.forEach((r=>e.push(Promise.resolve(r(...t))))),Promise.all(e).then(this.resultTransform)}return Promise.resolve()}}var B=r("Ti8s"),z=r.n(B),G=r("B2vP"),$=r.n(G),W=r("ggPp"),J=r.n(W),K=r("pexD"),Y=r.n(K),Q=r("yNnq"),X=r.n(Q);const Z="__default";const ee=Object(a.d)("setRequest"),te=Object(a.e)("requestManager",{}).on(ee,((e,t)=>t)),re=[{provide:s.v,scope:o.c.REQUEST,useClass:class{constructor({request:e}){this.request=e||{},this.url=window.location.href}getBody(){return this.request.body}getUrl(){return this.url}getMethod(){return this.request.method}getHeader(e){return this.request.headers[e]}getHeaders(){return this.request.headers}getCookie(e){return this.request.cookies[e]}getCookies(){return this.request.cookies}getClientIp(){return this.getHeader("x-real-ip")||C()(["connection","remoteAddress"],"",this.request)}getHost(){return window.location.host}},deps:{request:s.u}},{provide:s.g,multi:!0,useValue:te}];let ne=class{};ne=Object(n.__decorate)([Object(i.g)({providers:[...re,{provide:s.u,useFactory:({store:e})=>{const t=e.getState().requestManager;return Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},null==t?void 0:t.headers),{"user-agent":navigator.userAgent,cookie:document.cookie})})},deps:{store:s.A}}]})],ne);const oe=[{provide:s.x,scope:o.c.REQUEST,useClass:class{constructor(){this.body="",this.headers={},this.cookies={},this.status=200}getBody(){return this.body}setBody(e){this.body=e}getHeader(e){return"set-cookie"===e?L()(this.cookies):this.headers[e]}getHeaders(){return D()(this.cookies)?this.headers:Object.assign(Object.assign({},this.headers),{"Set-Cookie":L()(this.cookies)})}setHeader(e,t){this.headers[e]=t}getCookie(e){return this.cookies[e]}getCookies(){return this.cookies}setCookie(e,t){this.cookies[e]=t}setStatus(e){this.status=e}getStatus(){return this.status}},deps:{response:s.w}}];let ie=class{};ie=Object(n.__decorate)([Object(i.g)({providers:[...oe,{provide:s.w,useValue:{}}]})],ie);class se{constructor({di:e,dispatcherContext:t,pubsub:r,store:n}){this.executeAction=(e,t)=>this.di.get(s.b).run(e,t),this.dispatch=(e,t)=>new Promise(((r,n)=>{try{r(this.store.dispatch(Object(a.b)(e,t)))}catch(e){n(e)}})),this.dispatchWith=(e,t)=>"function"==typeof e?(...r)=>this.dispatch(e(...r),t):t=>this.dispatch(e,t),this.getStore=e=>this.dispatcher.getStore(e),this.dehydrate=()=>({dispatcher:this.dispatcher.dehydrate()}),this.getState=()=>this.store.getState(),this.subscribe=e=>{this.store.subscribe(e)},this.store=n,this.dispatcher=t,this.dispatcher.setContext(this),this.di=e,this.pubsub=r}}const ae={init:[i.h.init,i.h.listen],close:[i.h.close],customer:[i.h.customerStart,i.h.resolveUserDeps,i.h.resolvePageDeps,i.h.generatePage,i.h.clear],spa:[i.h.resolveUserDeps,i.h.resolvePageDeps,i.h.spaTransition]},ce={server:ae,client:ae};let ue=class{};ue=Object(n.__decorate)([Object(i.g)({providers:[{provide:i.f,scope:o.c.SINGLETON,useClass:class{constructor({lines:e,rootDi:t,logger:r,metrics:n}){this.lines=e,this.rootDi=t,this.log=r("command:command-line-runner"),this.metrics=n}run(e,t,r,n){const i=((e,t,r,n)=>{let i=r;return"customer"===t&&"client"!==e&&(i=Object(o.d)(i)),n&&n.forEach((e=>i.register(e))),i})(e,t,n||this.rootDi,r);return this.log.debug({event:"command-run",type:e,status:t}),this.lines[e][t].reduce(((e,t)=>e.then((()=>{const e=this.createDurationMetric();return Promise.resolve().then((()=>this.createLineChain(i,t))).finally((()=>e({line:t.toString()})))}))),Promise.resolve()).then((()=>i))}createLineChain(e,t){let r;try{if(r=e.get({token:t,optional:!0}),null===r)return Promise.resolve()}catch(t){return this.log.error(t),this.throwError(t,e)}return Array.isArray(r)?Promise.all(r.map((r=>this.instanceExecute(r,t,e)))):this.instanceExecute(r,t,e)}instanceExecute(e,t,r){if(!(e instanceof Function)){const r=new TypeError(`Ожидалась функция в обработке линии "commandLineListTokens.${t.toString()}", получено "${e}".\n      Проверьте, что все подписчики на commandLineListTokens возвращают функции`);return void this.log.error({event:"line-error",error:r,line:t.toString()})}const{name:n=""}=e;return this.log.debug({event:"line-run",line:t.toString(),command:n}),Promise.resolve().then((()=>e())).catch((e=>{this.log[Object(U.a)(e)?"debug":"error"]({event:"line-error",error:e,line:t.toString(),command:n}),this.throwError(e,r)}))}createDurationMetric(){return this.metrics?(this.metricsInstance||(this.metricsInstance=this.metrics.histogram({name:"command_line_runner_execution_time",help:"Command line processing duration",labelNames:["line","runtime"]})),this.metricsInstance.startTimer({runtime:"browser"})):F.a}throwError(e,t){throw e.di=t,e}},deps:{lines:i.e,rootDi:o.a,logger:s.q,metrics:{token:N.a,optional:!0}}},{provide:i.e,scope:o.c.SINGLETON,useValue:ce}]})],ue);let le=class{};le=Object(n.__decorate)([Object(i.g)({providers:[{provide:s.r,scope:o.c.SINGLETON,useFactory:e=>()=>new V({logger:e.logger("pubsub")}),deps:{logger:s.q}},{provide:s.s,scope:o.c.REQUEST,useFactory:({createPubsub:e})=>e(),deps:{createPubsub:s.r}},{provide:s.y,scope:o.c.SINGLETON,useFactory:({createPubsub:e})=>e(),deps:{createPubsub:s.r}}]})],le);const de=[{provide:"initialAppState",useFactory:()=>JSON.parse(window.initialState||"{}"),scope:o.c.REQUEST},{provide:i.h.listen,useFactory:({commandLineRunner:e})=>function(){return e.run("client","customer")},deps:{commandLineRunner:i.f},multi:!0}],fe=Object(a.d)("action state execution in server"),pe=Object(a.e)("actionTramvai",{serverState:{}}).on(fe,((e,t)=>Object.assign(Object.assign({},e),{serverState:t}))),he="global",ge="local";class me{constructor(e,t,r,n,o){this.globalConditionals=e,this.payload=t,this.parameters=r,this.executionState=n,this.type=o,this.status=!0,this.forbiddenMarker=!1,this.key=null,o===he&&(this.status="success"!==n.status),this.conditions=r.conditions}check(){return this.globalConditionals.forEach((e=>{this.key=e.key,e.fn(this)})),this.getStatus()}setState(e){this.executionState.state[this.key]=e}getState(){return this.executionState.state[this.key]}forbid(){this.executionState.status="forbidden",this.forbiddenMarker=!0}allow(){this.status=!0}getStatus(){return!this.forbiddenMarker&&this.status}}const ve="@@global";const be={};const ye={key:"onlyServer",fn:e=>{e.conditions.onlyServer&&e.forbid()}},Oe={key:"onlyBrowser",fn:e=>{e.conditions.onlyBrowser,0}},_e={key:"pageServer",fn:e=>{e.conditions.pageServer&&e.type===he&&e.forbid()}},je={key:"pageBrowser",fn:e=>{e.conditions.pageBrowser&&e.type,0}};let we=class{};we=Object(n.__decorate)([Object(i.g)({providers:[{provide:s.g,multi:!0,useValue:pe},{provide:s.d,scope:o.c.SINGLETON,useClass:class{constructor({actionsList:e}){this.actions=new Map([[ve,R()(e)]])}add(e,t){const r=Y()(t);this.actions.set(e,S()(this.actions.has(e)?[...this.actions.get(e),...r]:r))}get(e,t){return S()([...this.actions.get(e)||[],...t||[]])}getGlobal(){return this.actions.get(ve)}remove(e,t){if(!t)return void this.actions.delete(e);const r=Y()(t);this.actions.has(e)&&this.actions.set(e,J()(this.actions.get(e),r))}},deps:{actionsList:i.a}},{provide:s.b,scope:o.c.REQUEST,useClass:class{constructor({actionConditionals:e,store:t,context:r,di:n,transformAction:o}){this.actionConditionals=R()(e),this.context=r,this.di=n,this.execution=new Map,this.transformAction=o||z.a;const i=t.getState().actionTramvai;i&&i.serverState&&$()(((e,t)=>{this.execution.set(t,e)}),i.serverState)}run(e,t,r=ge){this.transformAction(e);const n=(e=>e[i.b])(e),o=this.getExecutionState(n);if(!this.canExecuteAction(t,n,o,r))return Promise.resolve();const s=n.deps?this.di.getOfDeps(n.deps):{};return o.status="pending",Promise.resolve().then((()=>e(this.context,t,s))).then((e=>(o.status="success",e))).catch((e=>{throw o.status="failed",e}))}getExecutionState(e){let t=this.execution.get(e.name);return t||(t={status:"pending",state:{}},this.execution.set(e.name,t)),t}canExecuteAction(e,t,r,n){return new me(this.actionConditionals,e,t,r,n).check()}},deps:{actionConditionals:s.a,context:s.i,store:s.A,di:o.a,transformAction:{token:"actionTransformAction",optional:!0}}},{provide:s.c,scope:o.c.REQUEST,useClass:class{constructor({actionExecution:e}){this.actionExecution=e}runActions(e,t=(()=>!1)){return Promise.all(e.map((e=>Promise.resolve().then((()=>this.actionExecution.run(e,be,he))).catch((e=>{if(t(e))throw e})))))}},deps:{actionExecution:s.b,store:s.A,limitTime:"limitActionGlobalTimeRun",logger:s.q}},{provide:"limitActionGlobalTimeRun",useValue:500},{provide:s.a,multi:!0,useValue:[{key:"alwaysCondition",fn:e=>{e.conditions.always&&e.allow()}},ye,Oe,_e,je]}]})],we);let ke=class{};ke=Object(n.__decorate)([Object(i.g)({providers:[{provide:s.l,scope:o.c.SINGLETON,useFactory:({stores:e})=>Object(a.c)({stores:e&&R()(e)}),deps:{stores:{token:s.g,optional:!0}}},{provide:s.k,scope:o.c.REQUEST,useFactory:({dispatcher:e,initialState:t,middlewares:r})=>e.createContext({},t,[a.f.middleware(),...R()(r||[])]),deps:{dispatcher:s.l,middlewares:{token:s.z,optional:!0},initialState:{token:"initialAppState",optional:!0}}},{provide:s.A,scope:o.c.REQUEST,useFactory:({dispatcherContext:e})=>({getState:()=>e.getState(),dispatch:t=>e.dispatch(t),subscribe:t=>e.subscribe(t)}),deps:{dispatcherContext:s.k}}]})],ke),X.a.prototype.clear=X.a.prototype.reset;const Ee=(e,...t)=>new X.a(...t),Se=Object(o.f)("_cachesList");let Te=class{};Te=Object(n.__decorate)([Object(i.g)({providers:[{provide:Se,scope:o.c.SINGLETON,useValue:[]},{provide:s.j,useFactory:({caches:e,isChildDi:t})=>t?Ee:(t,...r)=>{const n=Ee(t,...r);return e.push(n),n},deps:{caches:Se,isChildDi:{token:o.b,optional:!0}}},{provide:s.f,scope:o.c.SINGLETON,useFactory:({caches:e,cachesClear:t})=>r=>(e.forEach((e=>e.clear())),t?Promise.all(t.map((e=>e(r)))):Promise.resolve()),deps:{caches:Se,cachesClear:{token:s.t,optional:!0}}}]})],Te);let Pe=class{};Pe=Object(n.__decorate)([Object(i.g)({imports:[ue,l,le,k,d.b,we,ke,ne,ie,Te],providers:[{provide:s.o,scope:o.c.SINGLETON,useClass:class{constructor(){this.hooks=Object.create(null)}registerHooks(e,t){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e]=S()(this.hooks[e].concat(t))}runHooks(e,t,r,n){const o=this.hooks[e];if(!o)return r;let i=r;for(let e=0;e<o.length;e++)i=o[e](t,i,n);return i}runAsyncHooks(e,t,r,n){const o=this.hooks[e];if(!o)return r;for(let e=0;e<o.length;e++){const i=o[e];setTimeout((()=>{i(t,r,n)}))}return r}runPromiseHooks(e,t,r){const n=this.hooks[e];return e=>{if(!n)return Promise.resolve(e);let o=0;return Promise.resolve(e).then((function e(i){const s=n[o++];return s?Promise.resolve(s(t,i,r)).then(e):i}))}}}},{provide:s.h,scope:o.c.SINGLETON,useClass:class{constructor({componentList:e}={}){this.components={[Z]:Object.assign({},...R()(null!=e?e:[]))}}add(e,t,r="__default"){const n=this.components[r]||{};n[e]=t,this.components[r]=n}get(e,t="__default"){return(this.components[t]||{})[e]||this.components.__default[e]}getComponentParam(e,t,r,n){return C()([e],t,this.get(r,n))}},deps:{componentList:{token:"componentDefaultList",optional:!0}}},{provide:s.e,scope:o.c.SINGLETON,useClass:class{constructor({bundleList:e,componentRegistry:t,actionRegistry:r,dispatcher:n,dispatcherContext:o}){this.bundles=e,this.componentRegistry=t,this.actionRegistry=r,this.dispatcher=n,this.dispatcherContext=o}get(e){return this.loadBundle(e).then((e=>this.resolve(e.default)))}has(e){return!!this.bundles[e]}resolve(e){return P()(((t,r)=>{this.componentRegistry.add(r,t,e.name)}),e.components),e.actions&&this.actionRegistry.add(e.name,e.actions),e.reducers&&e.reducers.forEach((e=>{this.dispatcher.registerStore(e),this.dispatcherContext.getStore(e)})),e}loadBundle(e){return this.has(e)?this.bundles[e]():Promise.reject(new Error(`Bundle "${e}" not found`))}},deps:{bundleList:i.d,componentRegistry:s.h,actionRegistry:s.d,dispatcher:s.l,dispatcherContext:s.k}},{provide:s.i,scope:o.c.REQUEST,useFactory:function({di:e,dispatcherContext:t,pubsub:r,store:n}){return new se({di:e,dispatcherContext:t,pubsub:r,store:n})},deps:{di:o.a,pubsub:s.s,dispatcherContext:s.k,store:s.A}},...de]})],Pe)},r5ud:function(e,t,r){"use strict";var n=r("ITDq"),o=r("jy6p");e.exports=n(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var r=Object.create(null),n=0;n<e.length;n++)r[e[n]]=!0;for(var i={},s=o(t),a=0;a<s.length;a++){var c=s[a];r[c]||(i[c]=t[c])}return i}))},rFO0:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return void 0===e&&(e=""),void 0===t&&(t=""),t.split(e)}))},rtKQ:function(e,t,r){"use strict";var n=r("Jdlq"),o=r("3uze"),i=r("BT50");e.exports=function(e){if(!i(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;if(t!==Object.prototype)return!1;if(n(e)||o(e))return!1;return!0}},s5GS:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return b})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"j",(function(){return o})),r.d(t,"k",(function(){return i})),r.d(t,"l",(function(){return a})),r.d(t,"m",(function(){return c})),r.d(t,"n",(function(){return l})),r.d(t,"o",(function(){return f})),r.d(t,"p",(function(){return u})),r.d(t,"q",(function(){return d}));var n=r("vek/");const o=Object(n.f)("routerEventInit",{multi:!0}),i=Object(n.f)("routerEventLeave",{multi:!0}),s=Object(n.f)("initialRoutes",{multi:!0}),a=Object(n.f)("routerRedirectMap",{multi:!0}),c=Object(n.f)("router"),u=Object(n.f)("routePlugin",{multi:!0}),l=Object(n.f)("routerGuard",{multi:!0}),d=Object(n.f)("routeTransform",{multi:!0}),f=Object(n.f)("routeLoadExtend",{multi:!0}),p=Object(n.f)("pageService"),h=Object(n.f)("pageLoadService"),g=Object(n.f)("routeEnableAutoDomainResolve"),m=Object(n.f)("getOriginService"),v=Object(n.f)("bundleFallback"),b=Object(n.f)("pageFallback"),y=Object(n.f)("notFoundRoute"),O=Object(n.f)("enableDelayRouterStoreDispatchFeature")},sAIE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy"),o=n.__importDefault(r("TJbA")),i=r("6PeD"),s=r("aOi+"),a=r("kbbJ"),c=n.__importDefault(r("W5ap")),u=n.__importDefault(r("x/Op")),l=o.default("page-maker:dispatch"),d=o.default("page-maker"),f=o.default("page-maker");t.default=c.default((function(e){var t=e.tree,r=e.use,n=e.dival,o=e.saveRef,c=e.saveDomRef,p=i.useContext(u.default),h=i.useState(new Map)[0],g=i.useState(new Map)[0],m=i.useState(new Map)[0];return i.useEffect((function(){d.debug({event:"reistry",domRegistry:h,elementsRegistry:g})}),[t]),s.renderTree(t,{use:r,act:function(t,r){return function(e,t,r,n){l.debug({event:"action",action:r});var o=t.domRegistry,i=t.elementsRegistry,s=t.stickyContext,a=t.subscriptions,c="object"==typeof r&&null!==r?r:{},u=c.type,d=void 0===u?"":u,p=c.payload,h=void 0===p?{}:p;switch(d){case"scrollTo":if(s.scrollTo(o.get(h.targetGuid)),!o.has(h.targetGuid)){var g="tried to scrollTo, but Element id='"+String(h.targetGuid)+"' does not exist.\n          check typo and make sure forwardDomRef is on right dom element!\n        ";f.error(g),console.error(g)}break;case"emit":if(h.eventName&&h.blockId){var m=h.eventName+"-"+h.blockId;l.debug("eventName and blockId found in payload, key is "+m),a.has(m)?(l.debug("found "+m+" subscription, invoking it with",h.arg),a.get(m)(h.arg)):l.debug("subscription "+m+" not found")}break;case"send":i.has(h.targetGuid)||(g="tried to send but Element id='"+String(h.targetGuid)+"' does not exist.\n          check typo and make sure Element is statefull (not functional) component or have a ref forwarding!\n        ",f.error(g),console.error(g));var v=i.get(h.targetGuid);l.debug("found an element",v),v?v[h.targetMethod]?(l.debug("call "+h.targetMethod+" with "+h.arg),v[h.targetMethod](h.arg)):f.error("component with "+h.targetGuid+" has no method "+h.targetMethod,v):f.error("component with "+h.targetGuid+" was not found in",i);break;default:"function"==typeof e.act&&e.act(r,n)}}(e,{domRegistry:h,elementsRegistry:g,stickyContext:p,subscriptions:m},t,r)},di:a.createDi(n),saveDomRef:function(e,t){h.set(e,t),c&&c(e,t)},saveRef:function(e,t){g.set(e,t),o&&o(e,t)},subscriptions:m}).displayTree}))},sGsm:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return Promise.resolve().then((function(){return e(t)})).then((function(){return t}))}))},sV9m:function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",(function(){return o})),r.d(t,"__assign",(function(){return i})),r.d(t,"__rest",(function(){return s})),r.d(t,"__decorate",(function(){return a})),r.d(t,"__param",(function(){return c})),r.d(t,"__metadata",(function(){return u})),r.d(t,"__awaiter",(function(){return l})),r.d(t,"__generator",(function(){return d})),r.d(t,"__createBinding",(function(){return f})),r.d(t,"__exportStar",(function(){return p})),r.d(t,"__values",(function(){return h})),r.d(t,"__read",(function(){return g})),r.d(t,"__spread",(function(){return m})),r.d(t,"__spreadArrays",(function(){return v})),r.d(t,"__await",(function(){return b})),r.d(t,"__asyncGenerator",(function(){return y})),r.d(t,"__asyncDelegator",(function(){return O})),r.d(t,"__asyncValues",(function(){return _})),r.d(t,"__makeTemplateObject",(function(){return j})),r.d(t,"__importStar",(function(){return w})),r.d(t,"__importDefault",(function(){return k})),r.d(t,"__classPrivateFieldGet",(function(){return E})),r.d(t,"__classPrivateFieldSet",(function(){return S}));var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function a(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function f(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function y(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,u):l(i[0][2],r)}catch(e){l(i[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function O(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}}function j(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},sf38:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return b}));var n=r("6PeD"),o=r.n(n),i=r("LCbF"),s=r.n(i),a=r("B2vP"),c=r.n(a),u=r("sV9m"),l=r("vek/");const d=Object(n.createContext)(null);function f(e){const t=(()=>{const e=Object(n.useContext)(d);if(!e)throw new Error("DI-контейнер не найден");return e})();return Object(n.useMemo)((()=>"[object Object]"!==e.toString()?t.get(e):c()((e=>t.get(e)),e)),[e,t])}const p=e=>t=>s()((function(r){const n=f(e);return o.a.createElement(t,Object.assign({},r,n))}),t),h=()=>o.a.createElement("div",null,o.a.createElement("div",{style:{textAlign:"center",marginBottom:11,paddingTop:26,fontSize:30,lineHeight:"36px",fontWeight:200}},"Возникла ошибка :("),o.a.createElement("div",{style:{textAlign:"center",marginBottom:17,color:"#9299a2",fontSize:20,lineHeight:"24px"}},"Попробуйте"," ",o.a.createElement("a",{href:"",onClick:()=>window.location.reload()},"перезагрузить страницу"))),g=Object(l.f)("reactErrorBoundaryHandlers",{multi:!0}),m=Object(l.f)("errorBoundaryFallbackComponent");let v=class extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){const{errorHandlers:r}=this.props;r&&r.forEach((r=>{r(e,t)}))}render(){return this.state.hasError?this.props.fallbackComponent||this.props.fallbackComponentFromDi||o.a.createElement(h,null):this.props.children}};v=Object(u.__decorate)([p({errorHandlers:{token:g,optional:!0},fallbackComponentFromDi:{token:m,optional:!0}})],v);const b=({fallbackComponent:e}={})=>t=>s()((function(r){return o.a.createElement(v,{fallbackComponent:e},o.a.createElement(t,Object.assign({},r)))}),t)},sjQ7:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n=r("UBcq"),o=r("6Alu"),i=r.n(o),s=r("BhXG"),a=r.n(s),c=r("Krsf"),u=r.n(c),l=r("6QeP"),d=r.n(l),f=r("TCrd"),p=r.n(f),h=r("9h3G"),g=r.n(h),m=r("i/4V"),v=r.n(m),b=r("49XQ"),y=r.n(b),O=r("ITDq"),_=r.n(O),j=r("VbTK");const w=r.n(j)()(["resultCode"],"OK"),k=(e=w,t)=>{const{request:{method:r},response:n}=t;if(e(n))return;const o="COMMON_API_REQUEST_ERROR";return Object.assign(new Error(o),{errorId:o,method:r,response:n||{}})},E=Object(n.b)(),S={defaultTimeout:6e4},T={name:"api",success:e=>e.payload},P="get",x="post";class C extends n.a{constructor(e){super();const t=Object.assign(Object.assign(Object.assign({},S),T),e);this.apiUrl=t.apiUrl,this.defaultTimeout=t.defaultTimeout,this.appInfo=e.appInfo||{},this.onSuccess=t.success,this.makeRequest=(e=>i()([v()({transform:({baseUrl:e,method:t})=>`${e}${t}`}),a()({logger:e.logger,name:e.name}),d()({shouldExecute:!e.disableCache,lruOptions:{max:1e3,maxAge:e.cacheTime||3e4},allowStale:!0,memoryConstructor:e.createCache}),u()(),p()({validator:_()(2,k)(e.isResponseValid),allowFallback:!0}),y()(),g()({agent:E})]))(Object.assign({},t))}rawRequest(e){const{query:t={},httpMethod:r=P,serverGetSession:n=!1,cache:o=r!==x,cacheForce:i,sessionid:s,wuid:a,roles:c,timeout:u=this.defaultTimeout,apiUrl:l}=e,d=l||this.apiUrl;return this.makeRequest(Object.assign(Object.assign({cache:o,cacheForce:i},e),{baseUrl:d,timeout:u,query:Object.assign(Object.assign({sessionid:s,wuid:a},this.appInfo),t),additionalCacheKey:s+JSON.stringify(c)}))}}},tk5w:function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var i=[];for(r=0;n&&r<t;r++)i.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=2;r<arguments.length;r++)n=o(this,n,arguments[r]);return i},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r("gHEs")(n)}catch(e){}},ua3C:function(e,t,r){"use strict";var n=r("jy6p");e.exports=function(e){for(var t=n(e),r=t.length,o=new Array(r),i=0;i<r;i++)o[i]=e[t[i]];return o}},uuQ6:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===e&&(e=[]),void 0===t&&(t={});for(var r={},n=0;n<e.length;n++){var o=e[n];o in t&&(r[o]=t[o])}return r}))},v0NM:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){void 0===t&&(t=[]);for(var r=t.length,n=new Array(r),o=0;o<r;o++)n[o]=e(t[o],o,t);return n}))},vRvG:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(3,(function(e,t,r){return void 0===e&&(e=""),void 0===t&&(t=""),void 0===r&&(r=""),r.replace(e,t)}))},vYnz:function(e,t,r){"use strict";var n=r("BT50"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(e===t)return!0;if(!n(e)||!n(t))return!1;var r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(var i=0;i<r.length;i++){var s=r[i];if(!o.call(t,s)||e[s]!==t[s])return!1}return!0}},"vek/":function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return m})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return y})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return l}));const n={REQUEST:"request",SINGLETON:"singleton"},o="NotFound",i="CircularDep",s="RequireMulti",a="MixedMulti",c=(e,t)=>{const r=new Error(e);return Object.assign(r,Object.assign(Object.assign({},t),{stack:t.stack?`${r.stack}\n---- caused by: ----\n${t.stack}`:r.stack}))};class u{constructor(e,t={}){this.isToken=!0,this.name=e,this.options=t}toString(){return this.name}}function l(e,t){return new u(e,t)}const d=l("di"),f="__NOT_YET__MARKER",p="__CIRCULAR__MARKER";function h(e,t,r,n,o){return{factory:e,resolvedDeps:t,scope:r,multi:n?[]:void 0,stack:o}}class g{constructor(e){this.records=new Map,this.recordValues=new Map,e&&e.forEach((e=>this.register(e))),this.register({provide:d,useValue:this})}get(e){let t,r=!1;"string"==typeof e?t=e:"token"in e?(t=e.token,r=e.optional):t=e,t=t.toString();const n=this.getRecord(t);return!n&&r?null:(function(e,t){if(void 0===e)throw c("Token not found "+t,{type:o})}(n,t),this.hydrate(n,t,r))}getOfDeps(e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=this.get(e[r]));return t}getRecord(e){return this.records.get(e)}getValue(e){return this.recordValues.get(e)}register(e){return function(e){if("string"==typeof e.provide)return;const t=e.provide.options;if(t&&t.multi&&!e.multi)throw c(`Token ${e.provide.toString()} require multi providers`,{type:s,stack:e.__stack})}(e),this.processProvider(e)}processProvider(e){const t=e.provide.toString(),r=function(e){let t,r={},o=n.REQUEST;return"useFactory"in e?(t=t=>e.useFactory(t),e.deps&&(r=e.deps),e.scope&&(o=e.scope)):"useClass"in e&&(t=t=>new e.useClass(t),e.deps&&(r=e.deps),e.scope&&(o=e.scope)),h(t,r,o,!1,e.__stack)}(e),o=function(e){return"useValue"in e?e.useValue:f}(e);if(e.multi){let o=this.getRecord(t);if(o){if(void 0===o.multi)throw c("Mixed multi-provider for "+t,{type:a,stack:e.__stack})}else o=h(void 0,{},e.scope||n.REQUEST,!0,e.__stack),this.records.set(t,o),this.recordValues.set(o,f);o.multi.push(r)}else this.records.set(t,r);this.recordValues.set(r,o)}hydrateDeps(e){return this.getOfDeps(e.resolvedDeps)}hydrate(e,t,r){let n=this.getValue(e);if(function(e,t,r){if(r===p)throw c("Circular dep for "+t,{type:i,stack:e.stack})}(e,t,n),n!==f)return n;if(e.multi)this.recordValues.set(e,p),n=e.multi.map((e=>this.hydrate(e,t,!1)));else{this.recordValues.set(e,p);try{n=e.factory(this.hydrateDeps(e))}catch(n){if(this.recordValues.set(e,f),r&&n.type===o)return null;!function(e,t){throw t.__extendedWithStack?t.message+=" < "+e:(t.__extendedWithStack=!0,t.message=`${t.message} at ${e}`),Object.hasOwnProperty.call(t,"stack")&&"string"==typeof t.stack&&(t.stack=t.stack.replace(/^.+\n/,`${t.name}: ${t.message}\n`)),t}(t,Object.assign(n,{stack:!e.stack||/---- caused by: ----/g.test(n.stack)?n.stack:`${n.stack}\n---- caused by: ----\n${e.stack||""}`}))}}return this.recordValues.set(e,n),n}}const m=l("isDiChildContainer");class v extends g{constructor(e){super(),this.root=e,this.register({provide:d,useValue:this}),this.register({provide:m,useValue:!0})}getRecord(e){const t=super.getRecord(e);return t||this.root.getRecord(e)}getValue(e){return this.recordValues.has(e)?this.recordValues.get(e):e.scope!==n.SINGLETON&&e.factory?f:this.root.getValue(e)}hydrateDeps(e){return e.scope===n.REQUEST?super.hydrateDeps(e):super.hydrateDeps.call(this.root,e)}hydrate(e,t,r){return e.scope===n.REQUEST?super.hydrate(e,t,r):super.hydrate.call(this.root,e,t,r)}}function b(e){return new g(e)}function y(e){return new v(e)}},vqSi:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(3,(function(e,t,r){return e(r)?t(r):r}))},wTcq:function(e,t,r){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},wkad:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,o++)n[o]=i[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r("/E2y"),i=function(){function e(){var e=this;this.utils={},this.proxy=!0,this.addUtil=this.getProxiedMethod("addUtil"),this.updateLocation=this.getProxiedMethod("updateLocation"),this.event=this.getProxiedMethod("event"),this.addPixel=this.getProxiedMethod("addPixel"),this.use=this.getProxiedMethod("use"),this._stateAcc={},this._listeners=Object.create(null),this.ready=new Promise((function(t){e._readyResolve=t})),this.trackingReady=new Promise((function(t){e._trackingResolve=t}))}return Object.defineProperty(e.prototype,"_version",{get:function(){return this.tracking?this.tracking._version:"proxy-4.61.0"},enumerable:!1,configurable:!0}),e.prototype.setTracking=function(e){var t=this;this.tracking=e;var r=Object.keys(e.state).length>0;this._trackingResolve(e),e.ready.then(this._readyResolve),e.extend(this._stateAcc),r&&this._listeners.change&&this._listeners.change.forEach((function(r){r(e.state,t._stateAcc)})),this._listeners=Object.create(null)},e.prototype.addPixels=function(e){return this.tracking?this.tracking.addPixels(e):this.trackingReady.then((function(t){return t.addPixels(e)}))},e.prototype.resolve=function(e){var t=this;return Promise.resolve(e).then((function(e){return t.setTracking(e),e}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.tracking?this.tracking.state:this._stateAcc},enumerable:!1,configurable:!0}),e.prototype.callUtil=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return this.tracking?(t=this.tracking).callUtil.apply(t,n([e],r)):this.trackingReady.then((function(t){return t.callUtil.apply(t,n([e],r))}))},e.prototype.fullfill=function(e){return this.tracking?this.tracking.fullfill(e):this.trackingReady.then((function(t){return t.fullfill(e)}))},e.prototype.extend=function(e){if(this.tracking)return this.tracking.extend(e);var t=Object.keys(e).reduce((function(t,r){var n=r.split(".");return o.assoc(t,n,e[r])}),this._stateAcc);return this.update(t)},e.prototype.update=function(e){return this.tracking?this.tracking.update(e):(this._stateAcc!==e&&(this._stateAcc=e),this)},e.prototype.remove=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.tracking)return(e=this.tracking).remove.apply(e,t);var i=o.dissoc.apply(void 0,n([this._stateAcc],t.map((function(e){return e.split(".")}))));return this.update(i)},e.prototype.on=function(e,t){this.tracking?this.tracking.on(e,t):("change"===e&&(this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)),this.trackingReady.then((function(r){r.on(e,t)})))},e.prototype.off=function(e,t){this.tracking?this.tracking.off(e,t):("change"===e&&this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t}))),this.trackingReady.then((function(r){r.off(e,t)})))},e.prototype.emit=function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];this.tracking?(t=this.tracking).emit.apply(t,n([e],r)):this.trackingReady.then((function(t){t.emit.apply(t,n([e],r))}))},e.prototype.waitFor=function(e){return this.trackingReady.then((function(t){return t.waitFor(e)}))},e.prototype.getProxiedMethod=function(e){var t=this;return function(){for(var r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t.tracking?(r=t.tracking)[e].apply(r,n):t.trackingReady.then((function(t){t[e].apply(t,n)})),t}},e}();t.default=i},"x/Op":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fFyy").__importDefault(r("6PeD")).default.createContext({scrollTo:function(){0},registerMe:function(){return function(){}},getHeightBeforeMe:function(){return 0}});t.default=n},x0RB:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0;o<e.length;o++)if(!e[o].apply(e,r))return!1;return!0}))},x3U1:function(e,t,r){"use strict";e.exports=function(){return!0}},x9lW:function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,s,a],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},xEVB:function(e,t,r){"use strict";r.d(t,"a",(function(){return Mt}));var n=r("sV9m"),o=r("HqrZ"),i=r("ZATm"),s=r("lHJy"),a=r("Ul1X"),c=r("s5GS"),u=r("cWxP");const l=Object(u.d)("updateReferrer"),d=Object(u.e)("referrer","").on(l,((e,t)=>t));let f=class{};f=Object(n.__decorate)([Object(o.g)({providers:[{provide:a.g,multi:!0,useValue:d},{provide:c.p,multi:!0,useFactory:({store:e})=>t=>{t.on("after-navigate",((t,r)=>e.dispatch(l(null==r?void 0:r.parsedUrl.href))))},deps:{store:a.A}}]})],f);let p=class{};p=Object(n.__decorate)([Object(o.g)({providers:[]})],p);let h=class{};h=Object(n.__decorate)([Object(o.g)({providers:[...["customerStart","generatePage","clear"].map((e=>({provide:o.h[e],useFactory:({logger:t})=>()=>function(e,t){e({name:"tramvai:load",defaults:{remote:{emitLevels:{info:!0}}}}).info({event:t})}(t,e+"-load-event"),multi:!0,deps:{logger:a.q}})))]})],h);var g=r("UDiI"),m=r("vek/"),v=r("iH1D"),b=r.n(v);const y=Object(m.f)("userAgent"),O=Object(u.d)("setMedia"),_=Object(u.e)("media",{height:0,width:0,isTouch:!1,retina:!1,synchronized:!1}).on(O,((e,t)=>Object.assign(Object.assign({},e),t))),j="(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)",w=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),k=Object(u.d)("setUserAgent"),E=Object(u.e)("userAgent",null).on(k,((e,t)=>t)),S=[{provide:a.g,multi:!0,useValue:[E,_]}];function T(e){return!!e.synchronized}function P(e){return!!e.supposed}function x(e){return!!e.retina}function C(){return Object(u.i)("media",(({media:e})=>e))}let M=class{};M=Object(n.__decorate)([Object(o.g)({providers:[...S,{provide:y,useFactory:({store:e})=>e.getState().userAgent,deps:{store:a.A}},{provide:o.h.clear,multi:!0,useFactory:({context:e,cookieManager:t})=>function(){const r=()=>{const r={width:window.innerWidth,height:window.innerHeight,isTouch:w,retina:window.matchMedia(j).matches};return t.set({name:"mediaInfo",value:JSON.stringify(r)}),e.dispatch(O(Object.assign(Object.assign({},r),{supposed:!1})))},n=b()(300,r);return window.addEventListener("orientationchange",n),window.addEventListener("resize",n),r()},deps:{context:a.i,cookieManager:g.a}}]})],M);var R=r("e7N4"),I=r("G2jR");const D=Object(u.d)("UPDATE_UI_MODULES_CONFIG"),A=Object(u.e)("uiModulesConfig",{}).on(D,((e,t)=>t)),L=[{provide:a.g,useValue:A,multi:!0}],N=Object(m.f)("UIMODULE_CONFIG_KEYS",{multi:!0});let q=class{};q=Object(n.__decorate)([Object(o.g)({providers:[...L]})],q);var F=r("6PeD"),U=r.n(F),H=r("5B8e"),V=r.n(H),B=r("UbHL"),z=r("sf38"),G=r("Ykgu"),$=r.n(G),W=r("SlZt"),J=r.n(W),K=r("Hqua"),Y=r.n(K),Q=r("Al+g"),X=r("da5Q"),Z=r.n(X);function ee(e){return e.width>=Z.a.TABLET_S}function te(e){return e.width>=Z.a.TABLET_L}function re(e){return e.width>=Z.a.DESKTOP_S}function ne(e){return e.width>=Z.a.DESKTOP_M}function oe(e){return e.width>=Z.a.DESKTOP_L}function ie(){const e=C();return Object(F.useMemo)((()=>({fromClientHints:T(e),supposed:P(e),isRetina:x(e),isPhone:!ee(e),isTablet:ee(e),isTabletS:ee(e),isTabletL:te(e),isMobile:!re(e),isDesktop:re(e),isDesktopS:re(e),isDesktopM:ne(e),isDesktopL:oe(e)})),[e])}const se=V()(J()("auth"),Y()(["query"],{})),ae=$()((e=>{var t;const r=Object(Q.d)(e);return Object.assign(Object.assign({},r),{url:null===(t=r.parsedUrl)||void 0===t?void 0:t.path})}),((e,t)=>e===t)),ce=V()(Object(z.d)({routeTree:"routeTree",pageService:c.i}),(e=>{const t=({uiModulesConfig:{footerConfig:e},router:{currentRoute:t},roles:r,featureToggle:n})=>({isAuth:Object(B.i)(r),isPreAuth:se(t.parsedUrl)||!1,isClient:Object(B.j)(r),currentRoute:ae(t),footerConfig:e,featureToggle:n,userRoles:r,inheritedPhone:t.config.footerPhone});return function(r){const n=Object(u.i)(["uiModulesConfig","featureToggle","router",{store:"roles",optional:!0}],t),o=ie();return U.a.createElement(e,Object.assign({},r,n,{media:o,preventRenderFooterWrapper:!0}))}})),ue=V()(F.memo,ce)((e=>{var{variation:t,lazyWrapperProps:r}=e,o=Object(n.__rest)(e,["variation","lazyWrapperProps"]);return U.a.createElement(R.b,{moduleName:"footer",lazy:!0,lazyWrapperProps:r||{style:{marginTop:"auto"}},moduleProps:Object.assign(Object.assign({},o),{variation:t?{[t]:o}:null})})})),le=Object(m.f)("FOOTER_COMPONENT_TOKEN");let de=class{};de=Object(n.__decorate)([Object(o.g)({imports:[q],providers:[{provide:le,useValue:ue},{provide:N,multi:!0,useValue:"footerConfig"}]})],de);var fe=r("Ti8s"),pe=r.n(fe);const he=Object(m.f)("HEADER_MENU_TRANSFORM_TOKEN"),ge=Object(m.f)("HEADER_CONFIG_TRANSFORM_TOKEN"),me=V()(J()("auth"),Y()(["query"],{})),ve=$()((e=>{var t;const r=Object(Q.d)(e);return Object.assign(Object.assign({},r),{url:null===(t=r.parsedUrl)||void 0===t?void 0:t.path})}),((e,t)=>e===t)),be=({featureToggle:e,router:{currentRoute:t},roles:r,environment:{TINKOFF_API:n,SME_URL:o},menuCounters:i})=>({authorized:Object(B.i)(r),isPreAuth:me(t.parsedUrl)||!1,currentRoute:ve(t)||{currentRoute:{config:{}}},featureToggle:e,userRoles:r,tinkoffApi:n,smeUrl:o,menuCounters:i}),ye=(Oe=e=>{var{variation:t}=e,r=Object(n.__rest)(e,["variation"]);return U.a.createElement(R.b,{moduleName:"header",moduleProps:Object.assign(Object.assign({},r),{variation:t?{[t]:r}:null})})},function(e){const{appInfo:t,transformMenu:r,transformConfig:n}=Object(z.c)({appInfo:o.c,transformMenu:{token:he,optional:!0},transformConfig:{token:ge,optional:!0}}),i=ie(),s=Object(u.i)(["featureToggle","router","environment",{store:"menuCounters",optional:!0},{store:"roles",optional:!0},{store:"region",optional:!0}],be),{appName:a}=null!=t?t:{},c=Object(F.useMemo)((()=>null!=r?r:pe.a),[r]),l=Object(F.useMemo)((()=>null!=n?n:pe.a),[n]);return U.a.createElement(Oe,Object.assign({},e,s,{transformMenu:c,transformConfig:l,media:i,appId:a}))});var Oe;const _e=Object(m.f)("HEADER_COMPONENT_TOKEN");let je=class{};je=Object(n.__decorate)([Object(o.g)({imports:[q],providers:[{provide:_e,useValue:ye},{provide:N,multi:!0,useValue:"headerConfig"}]})],je);var we=r("3vKK"),ke=r("6/k4"),Ee=r("4OR0");const Se=(e,t)=>function(r){const n=Object(F.useMemo)((()=>({style:{zIndex:1,marginTop:"auto"},"data-module-type":e})),[]);return U.a.createElement(t,Object.assign({},r,{variation:e,lazyWrapperProps:n,preventRenderFooterWrapper:!0}))},Te=({children:e})=>{const t=ie();return U.a.createElement(Ee.MediaProvider,{value:t},e)},Pe={display:"flex",flexDirection:"column",minHeight:"100vh"},xe=Object(m.f)("makeHeaderFunctionToken"),Ce=[{provide:xe,useValue:(e,t)=>function(r){return U.a.createElement(t,Object.assign({},r,{variation:e}))}},{provide:we.a,multi:!0,useFactory:({HeaderComponent:e,makeHeaderFunc:t})=>({type:"headerSlim",component:t("headerSlim",e)}),deps:{HeaderComponent:_e,makeHeaderFunc:xe}},{provide:we.a,multi:!0,useFactory:({HeaderComponent:e,makeHeaderFunc:t})=>({type:"header",component:t("header",e)}),deps:{HeaderComponent:_e,makeHeaderFunc:xe}},{provide:we.a,multi:!0,useFactory:({FooterComponent:e})=>({type:"productFooter",component:Se("productFooter",e)}),deps:{FooterComponent:le}},{provide:we.a,multi:!0,useFactory:({FooterComponent:e})=>({type:"advertFooter",component:Se("advertFooter",e)}),deps:{FooterComponent:le}},{provide:a.n,multi:!0,useValue:[{key:"TINKOFF_API"},{key:"SME_URL",optional:!0}]},{provide:ke.f,multi:!0,useValue:{wrappers:{layout:e=>t=>U.a.createElement("div",{style:Pe},U.a.createElement(Te,null,U.a.createElement(e,Object.assign({},t))))}}}],Me=[{provide:o.h.customerStart,useFactory:()=>function(){console.log("%c Обнаружил ошибку? Нам важно знать – bugs@tinkoff.ru \n Хочешь присоединиться к команде профессионалов? Расскажи о себе – frontend@tinkoff.ru","background-color: #ffdd2d; color: #333; ")},multi:!0},...Ce];let Re=class{};Re=Object(n.__decorate)([Object(o.g)({imports:[M,R.a,I.a,de,je],providers:Me})],Re);var Ie=r("xSXg"),De=r.n(Ie),Ae=r("2UNw"),Le=r.n(Ae),Ne=r("0e+P"),qe=r.n(Ne),Fe=r("v0NM"),Ue=r.n(Fe),He=r("b1Bm"),Ve=r.n(He),Be=r("TUac"),ze=r.n(Be),Ge=r("Hd8N"),$e=r.n(Ge),We=r("+n3f"),Je=r.n(We),Ke=r("CPiL"),Ye=r.n(Ke),Qe=r("ua3C"),Xe=r.n(Qe);function Ze(e,t){return e===t}function et(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}function tt(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}var rt=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=0,s=n.pop(),a=tt(n),c=e.apply(void 0,[function(){return i++,s.apply(null,arguments)}].concat(r)),u=e((function(){for(var e=[],t=a.length,r=0;r<t;r++)e.push(a[r].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=s,u.dependencies=a,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze,r=null,n=null;return function(){return et(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}));r("5f1s");var nt=r("sjQ7"),ot=r("zsJm"),it=r("VbTK"),st=r.n(it);const at=Object(m.f)("geoApiClient");let ct=class{};ct=Object(n.__decorate)([Object(o.g)({providers:[{provide:"geoApiClientBase",useFactory:({environmentManager:e,logger:t,batchRequests:r})=>new nt.a({name:"geo",apiUrl:e.get("GEO_API"),logger:t,batchRequests:r,isResponseValid:e=>st()(["status"],"Ok",e)}),deps:{logger:a.q,environmentManager:a.m,batchRequests:ot.d},scope:m.c.SINGLETON},{provide:at,useClass:class{constructor({logger:e,apiClient:t,requestManager:r}){this.logger=e({name:"geo-api-client"}),this.apiClient=t,this.requestManager=r,this.customizeParams=V()((e=>e))}request(e){return this.apiClient.request(this.customizeParams(e)).catch((e=>{throw this.logger.error(e),e}))}requestRegions(e){const{feature:t,query:r,parentId:n}=e,o={method:"/regions/query",query:{feature:t,query:r,parentId:n},timeout:2e3};return this.request(o).then((({regions:e})=>e))}requestNearestRegion(e){const{feature:t="presentInPg",required:r=!0,regionId:n}=e,o={method:"regions/nearest",query:{feature:t,required:r},timeout:2e3};return!n||Number.isNaN(Number(n))?(o.query.ip=void 0,o.cache=!1):o.query.regionId=n,this.request(o).then((({region:e})=>e))}},deps:{logger:a.q,apiClient:"geoApiClientBase",requestManager:a.v}},{provide:a.n,useValue:[{key:"GEO_API"}],multi:!0}]})],ct);const ut=rt($e()("currentRegion"),$e()("deliveryRegion"),((e,t)=>t||e)),lt=rt(ut,(e=>V()(Le()($e()("namePrepositional"),$e()("name")),De()({}))(e))),dt=rt($e()("currentRegion"),(e=>V()($e()("name"),De()({}))(e))),ft=rt($e()("capitalsByRegions"),(e=>V()(ze.a,Xe.a)(e))),pt=rt((e=>e.currentRegionCapital),(e=>Ye()(["capitalsByRegions",dt(e)])(e)),((e,t)=>e||t)),ht=e=>({name:e}),gt=rt(Je()("cityList",[]),Ue()(ht)),mt=rt($e()("searchQuery"),Je()("list",[]),((e,t)=>qe()((t=>Ve()(e,t.name.toLowerCase())),t))),vt=rt(ft,$e()("searchQuery"),((e,t)=>{const r=Ue()(ht,e);return qe()((e=>Ve()(t,e.name.toLowerCase())),r||[])}));var bt={__proto__:null,getDeliveryRegion:ut,getDeliveryCityPrepositional:lt,getCurrentName:dt,getRegionsCapitals:ft,getCurrentRegionCapital:pt,getFormattedCities:gt,getSearchedRegions:mt,getSearchedRegionsWithCapitals:vt};const yt={currentRegion:{},cityList:[],suggestList:[],suggestValue:"",popupVisible:!1},Ot=Object(u.d)("REGION_CURRENT_SET"),_t=Object(u.d)("REGION_CITY_LIST_SET"),jt=Object(u.d)("REGION_TAPI_SPECIFY_SET"),wt=Object(u.d)("REGION_POPUP_VISIBILITY");function kt(e,t){return Object.assign(Object.assign({},e),{suggestList:t.list,suggestValue:t.value})}const Et=Object(u.e)("region",yt).on(Ot,((e,t)=>Object.assign(Object.assign({},e),{currentRegion:t}))).on(_t,((e,t)=>{const r=Object.assign(Object.assign({},e),{cityList:t});return e.currentRegion.id||(r.currentRegion=t[0]),r})).on(jt,kt).on(wt,(e=>Object.assign(Object.assign(Object.assign({},e),kt(e,{list:[],value:""})),{popupVisible:!e.popupVisible})));var St=Object(o.i)({name:"regionPopupToggleVisibility",fn:e=>e.dispatch(wt())});const Tt={value:"",list:[]};Object(o.i)({name:"loadRegionSuggestList",fn:(e,t,r)=>t?r.geoApiClient.requestRegions({feature:"selectable",query:t}).then((e=>{return t=10,e.slice(0,t);var t})).then((e=>e.map((e=>Object.assign(Object.assign({},e),{namePrepositional:e.namePrepositional||e.name}))))).then((r=>e.dispatch(jt({value:t,list:r})))).catch((t=>e.dispatch(jt(Tt)).then((()=>r.logger({name:"region:load-region-suggest-list"}).error(t))))):e.dispatch(jt(Tt)),deps:{geoApiClient:at,logger:a.q}});Object(o.i)({name:"setCurrentRegion",fn:(e,t,{cookie:r})=>(r.get("rid")!==t.id&&r.set({name:"rid",value:t.id}),e.dispatch(Ot(t))),deps:{cookie:g.a}}),Object(o.i)({name:"loadDeliveryCity",fn:(e,t,r)=>r.adminResourcesClient.request({name:"app_form_landing_delivery_cities_cases"}).then((e=>e.map((e=>({id:e.id,name:e.name,namePrepositional:e.prepositional}))))).then((t=>e.dispatch(_t(t)))).catch((e=>{r.logger({name:"region:load-delivery-city"}).error(e)})),deps:{adminResourcesClient:ot.b,logger:a.q}});U.a.PureComponent;const Pt=Object(m.f)("moduleRegionPopupShow");let xt=class{};xt=Object(n.__decorate)([Object(o.g)({imports:[ct,M],providers:[{provide:Pt,useValue:St},{provide:a.g,useValue:Et,multi:!0}]})],xt);const Ct=bt;let Mt=class{};Mt=Object(n.__decorate)([Object(o.g)({imports:[Re,i.a,s.a,f,p,h],providers:[{provide:xe,useValue:(e,t)=>function(r){const{toggleRegionPopup:n}=Object(z.c)({toggleRegionPopup:{optional:!0,token:Pt}}),o=Object(u.h)(),i=Object(F.useCallback)((()=>{if(n)return o.executeAction(n,{})}),[n,o]),{currentRegion:s}=Object(u.i)([{store:"region",optional:!0}],(({region:e})=>({currentRegion:Ct.getDeliveryCityPrepositional(e)})));return U.a.createElement(t,Object.assign({},r,{applicationOpenPopup:i,currentRegion:s,variation:e}))}}]})],Mt)},xSXg:function(e,t,r){"use strict";var n=r("ITDq");e.exports=n(2,(function(e,t){return null==t||t!=t?e:t}))},yNnq:function(e,t,r){"use strict";const n=r("tk5w"),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),h=()=>1;const g=(e,t,r)=>{const n=e[f].get(t);if(n){const t=n.value;if(m(e,t)){if(b(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},v=e=>{if(e[i]>e[o])for(let t=e[d].tail;e[i]>e[o]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[i]-=r.length,e[f].delete(r.key),e[d].removeNode(t)}};class y{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const O=(e,t,r,n)=>{let o=r.value;m(e,o)&&(b(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||h;if(this[s]="function"!=typeof t?h:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[s]&&(this[s]=e,this[i]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),v(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;O(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;O(this,e,r,t),r=n}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[f]=new Map,this[d]=new n,this[i]=0}dump(){return this[d].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[f].has(e)){if(a>this[o])return b(this,this[f].get(e)),!1;const s=this[f].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),v(this),!0}const p=new y(e,t,a,n,r);return p.length>this[o]?(this[u]&&this[u](e,t),!1):(this[i]+=p.length,this[d].unshift(p),this[f].set(e,this[d].head),v(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach(((e,t)=>g(this,t,!1)))}}},"z/Bf":function(e,t,r){"use strict";r.d(t,"a",(function(){return Le}));var n=r("sV9m"),o=r("HqrZ"),i=r("Ul1X"),s=r("s5GS"),a=r("6/k4"),c=r("cWxP"),u=r("6PeD"),l=r.n(u);r("W7eU");const d=Object(u.createContext)(null),f=e=>l.a.createElement(d.Provider,{value:e.router},e.children);var p=r("Hd8N"),h=r.n(p),g=r("bXyb"),m=r("Zj8j"),v=r.n(m),b=r("LS0E"),y=r.n(b),O=r("x3U1"),_=r.n(O),j=r("Ti8s"),w=r.n(j),k=r("v0NM"),E=r.n(k);class S{constructor(e,t,r){if(this.config=e,this.url=t,this.params=r,!e.name)throw new Error("Route should have `name` property");if(!e.path)throw new Error("Route should have `path` property");this.name=e.name}}const T=/([^(?]+)(?:\((.+)\))?(\?)?/,P=e=>e.replace(/\/$/,"").split("/"),x=(e,t)=>{const r=P(e+"/");return E()((e=>{const[r="",n="",o=""]=e.split(":"),i=T.exec(n);if(i){const[,n]=i;return r+(t[n]||"")+o||e}return e}),r).join("/")};_.a,w.a;function C(){this.children=Object.create(null),this.parameterized=[]}C.prototype=Object.create(null);var M=r("c/rd"),R=r("TUac"),I=r.n(R),D=r("8ygP"),A=r.n(D),L=r("4bkg"),N=r.n(L),q=r("r5ud"),F=r.n(q);const U=!(!window.history||!window.history.pushState),H=(e,t,r)=>{U?window.history.pushState(e,t,r):window.location.href=r},V=(e,t,r)=>{U?window.history.replaceState(e,t,r):window.location.replace(r)},B=({replace:e})=>e?V:H,z=e=>t=>{var r;const{route:n,replace:o,navigateState:i,browserSelfEvent:s}=t;s||B(t)({navigateState:i,flow:o?null===(r=window.history.state)||void 0===r?void 0:r.flow:e},"",n.url)};var G=r("wTcq"),$=r.n(G),W=r("P647"),J=r.n(W),K=r("sGsm"),Y=r.n(K);const Q=e=>!e.host||e.host===window.location.host,X=({route:e,url:t,query:r})=>{var n,o;if(e||t)return Object(g.a)(e?null!==(o=null===(n=e.parsedUrl)||void 0===n?void 0:n.href)&&void 0!==o?o:e.url:t,r)},Z={debug:J.a};class ee{constructor(e,t={}){this.currentRoute=null,this.checkRedirect=(e,t,r)=>{const{parsedUrl:{pathname:n,query:o}}=e,i=this.redirects[n];return i?r("redirect",$()(i)?{redirect:Object(g.a)(i,o).path}:Object.assign(Object.assign({},i),{redirect:Object(g.a)(i.redirect,o).path})):r()},this.routeLookup=(e,t,r)=>e.route||Object(g.c)(e.url)&&!Q(e.parsedUrl)?e.force||!this.isRouteTheSame(e)?r():void this.log.debug("route is the same ignore navigate"):Promise.resolve().then((()=>this.loadRoute(e))).then((t=>{if(t){const{route:n,redirect:o}=t;if(o)return this.addRedirect(e.parsedUrl.pathname,o),r("redirect",o);if(n)return this.routesTree.addRoute(n),r(Object.assign(Object.assign({},e),{route:this.getRoute(e)}))}return r("notfound",e)})),this.notFound=e=>{throw new Error("Not found: "+e.url)},this.onError=e=>{if(e.error)throw e.error},this.onRedirect=(e,t,r)=>r("navigate",Object.assign(Object.assign({},e),{url:e.redirect})),this.log=t.log||Z,this.loadRoute=t.loadRoute||J.a,this.routesTree=e,this.redirects=Object.assign({},t.redirects),this.hooks=Object.create(null),this.on("before-navigate",this.checkRedirect),this.on("navigate",this.routeLookup),this.on("after-notfound",this.notFound),this.on("after-error",this.onError),this.on("after-redirect",this.onRedirect)}on(e,t){this.hooks[e]?this.hooks[e].push(t):this.hooks[e]=[t]}off(e,t){const r=this.hooks[e];r&&(this.hooks[e]=r.filter((e=>e!==t)))}setRoutesTree(e){this.routesTree=e}addRoute(e){if(this.routesTree)return this.routesTree.addRoute(e)}addRedirect(e,t){this.redirects[e]=t}getCurrentRoute(){return this.currentRoute}runFlow(e,t){this.cancel&&this.cancel();let r=!1;t.force||(this.cancel=()=>{r=!0,this.cancel=null});const n=this.getCurrentRoute();let o=t;const i=(e,t)=>{const s=["before-"+e,e,"after-"+e];let a,c,u=-1,l=-1;const d=(t,f)=>{if(!r){if(l++,t){if($()(t))return i(t,f||o);o=t}return c&&l<c.length?this.runHook(c[l],o,n,d):(u++,u<s.length?(l=-1,a===e&&o.route&&this.setCurrentRoute(o.route),a=s[u],c=this.hooks[a],this.log.debug({event:"run flow",flow:a,state:o}),d()):void 0)}};return o=Object.assign(Object.assign({},t),{parsedUrl:X(t)}),d(Object.assign(Object.assign({},o),{route:this.getRoute(o)}))};return Promise.resolve().then((()=>i(e,o))).catch((t=>{if("error"===e)throw t;return this.log.debug({event:"run flow failed",error:t,flow:e}),i("error",Object.assign(Object.assign({},o),{error:t}))})).then(Y()((()=>{r?this.log.debug({event:"run flow cancelled",flow:e}):this.log.debug({event:"run flow completed",flow:e,state:o})})))}runHook(e,t,r,n){return e.length<3?Promise.resolve().then((()=>e(t,r))).then((()=>n())):Promise.resolve().then((()=>e(t,r,n)))}runChange(e,...t){const r=this.hooks["change-"+e];r&&r.forEach((e=>{e(...t)}))}isRouteTheSame(e){const t=this.getCurrentRoute();return!e.force&&t&&e.route&&t.url===e.route.url}setCurrentRoute(e){if(this.currentRoute!==e){const t=this.currentRoute;this.currentRoute=e,this.runChange("route",e,t)}}getRoute(e){const{url:t,route:r=null,parsedUrl:o,navigateState:i}=e,s=Object(n.__rest)(e,["url","route","parsedUrl","navigateState"]);if(!o)return r;if(Object(g.c)(t)&&!Q(o))return r;const a=r||this.routesTree.getRoute(o.path,s);return a?Object.assign(a,{parsedUrl:o,navigateState:i}):a}}const te=Object(c.d)("SET_CURRENT_ROUTE"),re=Object(c.d)("SET_PREVIOUS_ROUTE"),ne=Object(c.e)("router",{currentRoute:null,previousRoute:null}).on(te,((e,t)=>t===e.currentRoute?e:Object.assign(Object.assign({},e),{currentRoute:t}))).on(re,((e,t)=>t===e.previousRoute?e:Object.assign(Object.assign({},e),{previousRoute:t}))),oe=[{provide:i.g,useValue:ne,multi:!0},{provide:a.e,multi:!0,useFactory:({router:e})=>t=>l.a.createElement(f,{router:e},t),deps:{router:s.m}},{provide:s.q,multi:!0,useValue:e=>{const t=Object.assign({bundle:"mainDefault",pageComponent:"pageDefault"},e.config.properties);return Object.assign(Object.assign({},e),{config:Object.assign(Object.assign({},e.config),{properties:t})})}},{provide:s.q,multi:!0,useFactory:({bundleFallback:e,pageFallback:t})=>r=>{const{config:n}=r,{properties:o={}}=n,i=h()(o.pageComponent,t)||h()(o.bundle,e);return i?Object.assign(Object.assign({},r),{config:Object.assign(Object.assign({},n),{properties:Object.assign(Object.assign({},o),{bundle:i})})}):r},deps:{bundleFallback:{token:s.a,optional:!0},pageFallback:{token:s.g,optional:!0}}}];class ie{addRoute(e){this.currentRouteConfig=Object.assign(Object.assign({},e),{url:v()("/",e.url)?e.url:e.url+"/"})}getRoute(e,...t){const{pathname:r}=Object(g.d)(e);return r===this.currentRouteConfig.url?new S(this.currentRouteConfig,e):null}createRouteFromConfig(e,t,r){return new S(e,t,r)}}const se=async(e,...t)=>{if(e)return Promise.all(e.map((e=>e(...t))))},ae=e=>{const{router:t,routeTree:r,notFoundRoute:n,routerEventLeave:o}=e,i=async e=>{await se(o,e),(({replace:e,url:t})=>{e?document.location.replace(t):document.location.assign(t)})(e)};r instanceof ie&&t.on("navigate",(e=>i(e))),!n||r instanceof ie?(t.on("notfound",((e,t,r)=>i(e))),t.on("before-error",((e,t,r)=>r(Object.assign(Object.assign({},e),{route:null})).catch((()=>i(e)))))):t.on("before-notfound",((e,t,r)=>{return e.url&&e.parsedUrl&&Object(g.c)(e.url)&&((n=e.parsedUrl).host&&n.host!==window.location.host)?i(e):r();var n}))},ce=e=>{if(Object(M.b)(e)||Object(M.c)(e))return!0},ue=(e,{actionRegistry:t,actionPageRunner:r},n)=>{const o=(({route:e,actionRegistry:t})=>{const{config:{properties:{bundle:r,pageComponent:n}}}=e;return I()([...t.get(r)||[],...t.get(n)||[],...t.getGlobal()||[]])})({route:e,actionRegistry:t});return r.runActions(o,ce).then((()=>n())).catch((e=>{if(e.redirect)return n("redirect",{redirect:e.redirect,replace:!0});throw e.error||e}))};var le=({router:e})=>{e.on("before-navigate",(({parsedUrl:{host:e,pathname:t,query:r}},n,o)=>e!==window.location.host||(e=>"/"===N()(e))(t)||((e="")=>{const t=e.split("/").filter((e=>!!e));return(N()(t)||"").match(/.+\..+/)})(t)?o():o("redirect",{redirect:Object(g.a)(t+"/",r).path,code:308})))};const de=h()("actions");var fe=({bundleManager:e,logger:t,actionRegistry:r,componentRegistry:n,router:o})=>{const i=t("route:load-bundles"),s=async(t,o,s)=>{var a;const{route:c}=t,{pageComponent:u,bundle:l}=null!==(a=null==c?void 0:c.config.properties)&&void 0!==a?a:{};i.debug({event:"load-bundle",route:c});try{return(e=>{const t=de(e),o=de(n.get(u,e.name));t&&r.add(e.name,t),o&&r.add(u,o)})(await e.get(l)),s()}catch(e){return i.error(e),s("notfound",t)}};o.on("navigate",s),o.on("rehydrate",s)};const pe=e=>{le(e),fe(e),(({router:e,context:t,enableDelayRouterStoreDispatch:r})=>{if(r){const r=async({route:e},r,n)=>(await n(),Promise.all([t.dispatch(te(e)),t.dispatch(re(r))]));e.on("after-navigate",r),e.on("after-light",r)}else e.on("change-route",((e,r)=>Promise.all([t.dispatch(te(e)),t.dispatch(re(r))])))})(e),(({routeGuard:e,router:t})=>{e&&y()((e=>{t.on("navigate",e),t.on("runActions",e)}),A()(e))})(e),(({router:e})=>{e.on("light",((e,t,r)=>{const{url:n,query:o,replaceQuery:i,params:s,hash:a,replace:c=!0}=e,{parsedUrl:u}=t,l=Object.assign(Object.assign({},t.params),s),d=i?o:Object.assign(Object.assign({},u.query),o),f=n?e.parsedUrl:Object.assign(Object.assign({},u),{pathname:x(t.config.path,l),query:d,hash:null!=a?a:u.hash}),p=n||Object(g.b)(F()(["origin","search"],f));return r({route:Object.assign(Object.assign({},t),{url:p,params:l,parsedUrl:Object.assign(Object.assign({},f),{href:p})}),parsedUrl:f,url:p,replace:c})})),e.on("after-light",z("light"))})(e),(({router:e,routeTree:t,notFoundRoute:r})=>{if(r&&!(t instanceof ie)){if($()(r))return void e.on("notfound",((e,t,n)=>n("redirect",{redirect:r})));e.on("notfound",((e,n,o)=>o("navigate",{route:Object.assign(t.createRouteFromConfig(Object.assign({name:"notfound",path:"/notfound/"},r),e.url),{parsedUrl:e.parsedUrl})})))}})(e)};var he;let ge=he=class{static forRoot(e,{redirects:t={},notFoundRoute:r=null}={}){return{mainModule:he,providers:[{provide:s.e,multi:!0,useValue:e},{provide:s.l,multi:!0,useValue:t},{provide:s.f,useValue:r}]}}};ge=he=Object(n.__decorate)([Object(o.g)({providers:[...oe,{provide:s.m,useFactory:e=>{var t;const r=e.logger("route:router-way");return r.debug("get router"),new ee(e.routeTree,{log:r,redirects:Object.assign({},...null!==(t=e.redirectMap)&&void 0!==t?t:[]),loadRoute:({parsedUrl:{pathname:t,query:r}})=>!e.pageLoadService||e.routeTree instanceof ie?Promise.resolve():e.pageLoadService.load(t,r).then((e=>({route:e.page,redirect:e.redirectUrl?{redirect:e.redirectUrl,code:e.redirectCode}:null})))})},deps:{logger:i.q,pageLoadService:{token:s.h,optional:!0},routeTree:"routeTree",redirectMap:{token:s.l,optional:!0}}},{provide:"routeTree",useClass:ie},{provide:s.i,useClass:class extends class{constructor({router:e}){this.router=e}getCurrentRoute(){return this.router.getCurrentRoute()}getContent(e=this.getCurrentRoute()){return e.config.content}getProperties(e=this.getCurrentRoute()){return e.config.properties}getMeta(e=this.getCurrentRoute()){return e.config.meta||{}}navigate(...e){return this.router.runFlow("navigate",...e)}setRouteProps(...e){return this.router.runFlow("light",...e)}}{constructor({router:e}){super({router:e})}},deps:{router:s.m}},{provide:o.h.customerStart,useFactory:e=>{const{router:t,routerEventInit:r}=e;return async function(){await se(r);const{context:n,routeTree:o}=e,{router:{currentRoute:i}}=n.getState();return i&&o.addRoute(i.config),pe(e),ae(e),(e=>{y()((t=>{t(e.router)}),A()(e.routePlugin||[]))})(e),(e=>{if(e.enableDelayRouterStoreDispatch){const{router:t,context:r}=e,n=(t,r,n)=>ue(t.route||r,e,n);t.on("after-navigate",(async(e,t,o)=>(await Promise.all([r.dispatch(te(e.route)),r.dispatch(re(t))]),n(e,t,o)))),t.on("runActions",n)}else{const t=(t,r,n)=>ue(t.route||r,e,n);e.router.on("after-navigate",t),e.router.on("runActions",t)}})(e),Promise.resolve(t.runFlow("rehydrate",{route:i&&o.createRouteFromConfig(i.config,window.location.href,i.params),url:window.location.href}))}},deps:{router:s.m,routeTree:"routeTree",logger:i.q,context:i.i,bundleManager:i.e,actionPageRunner:i.c,actionRegistry:i.d,componentRegistry:i.h,commandLineRunner:o.f,routeGuard:{token:s.n,optional:!0},routePlugin:{token:s.p,optional:!0},notFoundRoute:{token:s.f,optional:!0},routerEventInit:{token:s.j,optional:!0},routerEventLeave:{token:s.k,optional:!0},enableDelayRouterStoreDispatch:{token:s.c,optional:!0}},multi:!0},{provide:o.h.clear,useFactory:({router:e})=>async function(){return window.location.hash&&await e.runFlow("light",{url:window.location.href}),e.runFlow("runActions",{route:e.getCurrentRoute()})},multi:!0,deps:{router:s.m}}]})],ge);var me=r("zsJm"),ve=r("vek/");const be=Object(ve.f)("appIdService");var ye=r("BT50"),Oe=r.n(ye),_e=r("vRvG"),je=r.n(_e),we=r("5B8e"),ke=r.n(we),Ee=r("CPiL"),Se=r.n(Ee),Te=r("Hqua"),Pe=r.n(Te);const xe=["url","appId","previewToken","dynamicVariables"];function Ce(e,t){return je()(new RegExp("^https://"+t),"",e)}function Me(e,t,r){if(e)return Ce(Object(g.a)(e,r).toString(),t)}const Re={mobile:!0,wearable:!0};const Ie=[{provide:be,useClass:class{constructor({store:e,appInfo:t}){this.store=e,this.appInfo=t}getAppId(){const{appName:e}=this.appInfo;return(e=>Re[Se()(["device","type"],e)])(Pe()(["userAgent"],{},this.store.getState()))?"m"+e:e}},deps:{store:i.A,appInfo:o.c}},{provide:s.h,useClass:class{constructor({logger:e,adminClient:t,routeLoadExtend:r,routeFallback:n,appIdService:o,getOriginService:i}){this.log=e("route:admin:page-load-service"),this.adminClient=t,this.routeLoadExtend=r,this.routeFallback=n,this.appIdService=o,this.getOriginService=i}load(e,t){if(!this.adminClient)throw new Error("adminClient is not defined, have you forgot to add @tramvai/module-api-clients?");this.log.debug("load routes for "+e);const r=e=>{var{origin:t,path:r,previewToken:o,payload:i={},appId:s,withDco:a=!1}=e,c=Object(n.__rest)(e,["origin","path","previewToken","payload","appId","withDco"]);const u=F()(xe,i),l=this.adminClient.request(Object.assign({method:"page-enrichment/public/api/platform/v2/"+(o?"getPreview":"getResponse"),payload:Object.assign({appId:s,url:`https://${t}${r}`,previewToken:o},u),cache:!o&&!a},c));return l.then((e=>({payload:e,headers:this.adminClient.getHeaders(l)})))};let o=r;return this.routeFallback&&(o=e=>e.previewToken?r(e):this.routeFallback.getRoute({request:r,payload:e})),this.routeLoadExtend&&this.routeLoadExtend.length&&(o=ke()(...this.routeLoadExtend)(o)),Promise.all([this.getOriginService.getOrigin(),this.appIdService.getAppId()]).then((([r,n])=>o({path:e,origin:r,appId:n,previewToken:t.previewToken}).then((({payload:n})=>(this.log.debug({event:"loaded route",route:n}),Object.assign(Object.assign({},Oe()(n)?n:{}),{page:n.page&&Object.assign(Object.assign({},n.page),{path:n.page.path||n.page.url}),redirectUrl:n.finalRedirectUrl?Ce(n.redirectUrl,r):Me(n.redirectUrl,r,t),requestedUrl:e}))))))}},deps:{logger:i.q,adminClient:{token:me.a,optional:!0},appIdService:be,getOriginService:s.d,routeLoadExtend:{token:s.o,optional:!0},routeFallback:{token:"routeFallback",optional:!0}}},{provide:s.d,useClass:class{constructor({envManager:e,requestManager:t,enableAutoDomainResolve:r}){this.envManager=e,this.requestManager=t,this.enableAutoDomainResolve=r}getOriginModern(){const e=this.requestManager.getHost();return this.envManager.get("DOMAIN_ALIAS")||e}getOriginLegacy(){const e=this.requestManager.getHost();return(e=>{const t=Object.create(null);return e.split(",").forEach((e=>{const[r,n]=e.split("=");t[r]=n})),t})(this.envManager.get("EXTERNAL_HOSTNAME_MAP")||"")[e]||"tinkoff.ru"}async getOrigin(){return this.enableAutoDomainResolve?this.getOriginModern():this.getOriginLegacy()}},deps:{envManager:i.m,requestManager:i.v,enableAutoDomainResolve:{token:s.b,optional:!0}}}];var De,Ae;let Le=De=class{};Le.forRoot=(e,t)=>({mainModule:De,providers:[...ge.forRoot(e,t).providers,{provide:s.b,useValue:!!(null==t?void 0:t.enableAutoDomainResolve)}]}),Le=De=Object(n.__decorate)([Object(o.g)({imports:[ge],providers:[]})],Le);let Ne=Ae=class{};Ne.forRoot=(e,t)=>({mainModule:Ae,providers:[...ge.forRoot(e,t).providers,{provide:s.b,useValue:!!(null==t?void 0:t.enableAutoDomainResolve)}]}),Ne=Ae=Object(n.__decorate)([Object(o.g)({imports:[ge],providers:Ie})],Ne)},z4OE:function(e,t,r){"use strict";var n=r("ITDq"),o=r("wTcq");e.exports=n(2,(function(e,t){return void 0===t&&(t=[]),o(t)?t.indexOf(e):Array.prototype.indexOf.call(t,e)}))},zYuu:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var o=r("sV9m"),i=o.__importDefault(r("RgYb")),s=o.__importDefault(r("nd4w")),a=o.__importDefault(r("+n3f")),c=o.__importDefault(r("3O30")),u=o.__importDefault(r("8JSv")),l=((n={})[c.default.INIT]=c.default.COMPLETE,n);t.default=function(e){return function t(r){var n=-1,o=e.length,d=new u.default;d.setState({request:r});var f=new Promise((function(r,u){var f=function(e){var t=d.getState(),n=t.status,o=l[n];return e?p(n,-1):o?(d.setState({status:o}),p(o,-1)):void(n===c.default.COMPLETE?r(t.response):u(Object.assign(t.error||{},{url:t.request.url})))},p=function(r,u){var l=d.getState().status;!function p(h){if(d.setState(h),d.getState().status!==l)return f(!0);if((n+=u)<0||n>=o)return f(!1);var g=e[n],m=g[r];if(!m||!i.default([d],a.default("shouldExecute",!0,g)))return p();try{m(d,s.default(p),t)}catch(e){return p({status:c.default.ERROR,error:e})}}()};p(c.default.INIT,1)}));return Object.assign(f,{getState:d.getState.bind(d),getInternalMeta:d.getInternalMeta.bind(d),getExternalMeta:d.getExternalMeta.bind(d)})}}},zifK:function(e,t,r){"use strict";var n=r("ITDq"),o=r("rtKQ"),i=r("jy6p"),s=r("BScc");e.exports=n(2,(function e(){for(var t=s((arguments.length<=0?void 0:arguments[0])||{}),r=1;r<arguments.length;r++){var n=r<0||arguments.length<=r?void 0:arguments[r];if(n)for(var a=i(n),c=0;c<a.length;c++){var u=a[c],l=n[u],d=t[u];o(d)&&o(l)?t[u]=e(d,l):t[u]=l}}return t}))},zsJm:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return a})),r.d(t,"g",(function(){return s}));var n=r("vek/");const o=Object(n.f)("adminClient"),i=Object(n.f)("adminResourceClient"),s=Object(n.f)("tinkoffApiClient"),a=Object(n.f)("papiClient"),c=Object(n.f)("apiClientPassHeaders",{multi:!0}),u=Object(n.f)("batchRequests"),l=Object(n.f)("bundleinfoDomain")}},[[0,"manifest"]]]);